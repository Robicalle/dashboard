<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1f202c749451c98f9b49267c7788ddf456708cf6cab93ac3a14399bdc651a926c59d46ff295c10cb7fca7926b33aef28ac136a4462afe560f4ebf46733be969bbd9dc5276dab6dfeae56697f6b5d6e42342ef269176c246e702d32983055699b6b80f584bfcd53717def0be02e972a203ec4414e33373145d6be2a1b1f285e4c27d288f4de17f4937b65eca0e48191207ace67a2ce5e4ba34206f309689a2d1d1b369be82f75967d07abc2d8fc85b2bd9b3ede9d35b7ef61bed0091df7f82326c1ba0c6d18d786ad8d0893ac49e0527346c3f9333ae713a7a692314cbea4f307924fba6dbaec683c127d0deeb8ac78c78a9138bc9d6393a6d6d9c49c8f7abcb6cbc316f835d76b2edb18d32cdcc989d2c9b382dc065417e63c3e825575d11bd44f4f268b8513ae8ca9995bf6b578932ef8c203a72a771cac4fe9efaa0885a00be24b8b52d6a434051ab7d666559b548e88052087fa1d5f793233c0ad9d69832138f6f0f4b817e850f7176f9fe78c2c784797bc5fa89e23836e448d8f61d6a4d68198a95a7462a07d572bf683713b5c31cad99ef118725137c47107305f3f51ec8a18cf5ecc8be633d6e6af0b610da177d885d001991f92ace8d175af179c7853339b2b2df5ac6bc94015f3048e73e7cd86f22b5f33bbe0a0cf417063732066892e94d1519e18000b27df9745adf91c643fbdf46f205f10c9133c931603bfba46175cbd5f36d8f28ce953ad82ed22a7beae01209844895be97c131d8f0cc45d47fb5ad39b12092ade35288530133fecd9f97f52bffe8e4586e67f87a73a3ce1cee2265125f5167782f2b03e5c294e3127cea79187c25bb10ab51cdfbfec500c52d25c10c6c3675af8dd0bb08ba7e2ef6826b343466d3872d0aafe946ccf9d000cbcfcea09c486a941cf46108d8adf6d2412798b758e478acc66a1a73aa1f2cfab177eb3992312e6c2b41577cc4eae05e4ffa9eeb798078118c9212443e194afca4c9865dcb5c3454a6c77dd8c0e9e2b6fd6254058ff8b6e9672b42e7d8448e1dcc9c966900e1f3814282ffc0e3f773ce75dcff662d131580aa03bc19814095cea03fe2d489dccf330278da6f8bad7e0071b61c31086588551e5786402cdf9d1aaeb850695fd327575bc6347a0e775184badf4302ff051f772951463946e82f4f9183ea79850f9ed61d950006b0f7ecefc73b4a01a45b7e7413368c030ec923fb9ae649bf6fc9c4cafde7eb484242c513fcaede5356773d713db57fc941a990cadaf61ba74a8ef7aaa4572594fb204b01cb2ce81603579a21d77adc51f5c422938cee6c9b8d270c7ffb9d2269d3b3c421c8fc2a1f09b2541e8df9e5b008f953505c623bcf8bd130f28a1bc4ee67aab38facf4a65a1225c6925993c6b523653e21a3a0754e293072a1c4e7cb3e4f3b2129a7326e512123d84f1bd09b7a4c64b8d519eaa4bfbee9c030cd890dd68f8c26c9f9554597d4092bd83c9704925c9a277ce22a15382149d856a47398afae469b791704f32c6a4ddccb4b2d160b987f44e73578f9991e8013611947a743261c07233e654d553e6727738436848051ca8dc142347a085e95de59ddbf359eb0d128b2176863588431ad8a4ad2002cb33d1f1a5875e9a2b7e435b0bf1743436cbf9c08de78a1e6e0ca0edcc65a05f5199990189f0983dad9c35dc347af82a04910a83f25b618d6b26611121c1187816201f2be4caa14e96582a4ece29bc9c0b150a796b59a9e726a1b3d47dced0ce695a76dd9bf9ea8d543a56dfe5a147a6b746b27614f69dab317fb4dbd7ed92848f9a6c3afb67c4baef04621b14ae1ac4c15612dbf8fa293b1d34aeafc23cd8d9182b09bd4b4e7fcd47abce04d09f453e47b5d6e101f70c27201caa5612284c1b25b8d9dd0dbbf150943f6812c46034a6ee806e0220f4f2be971c7a788f5b081acf51839efd3c033993e68400789b50fd1d84dd4a8db807d77b1fb010c7114fc61f0e0f50665b32f9d948e6318e1bf780cd8fb8c46550bb1734a029a9b53dc88abfce926d24ef24fd11f23c4ac36b387a52f268052f06ebb04778d4ef042d28f920b2bf8abb6b39faf4c11c27d81edab906d7bdfb3c0787ba157f72061619050b3b050dd8541e4961d3e85a71658559cd8d76b9536980b6a8b3dd5bcb7b7f7f512328b54af80d05fbcbb91737141555d6527a57cb3add75c746d8bc26d9708c00be74dad843e87d41d65326d9fdd56f320d319b1b44e4e198dc6d8dc2e2c072cfb667d7c4fc990ba2a723c34f26050f52f0088d45a5e0b3139abe1a1efed171477c3a0fd27fcbe47cb251496f06232b47f892df59780e15ec569bb6cd66039734007adc60dc8039cf7ab2e8566238913c3c6965bb5b958fb767fd2436d757950917dbfa0ce1309a40641f75f1f267dc37cd7287614faf5dfaaf6af6924bdf6ff733d08a201d10ab3e7ebe65d54f8bdfbf15790dfcef72188da9dac330a50156d489c371527cf25b713860e8c29953fd255388a378db35cfc8374f18097c571150694998bad4a35ea9e7ed02478df4e57b5edce2472a21f3bec9db4531eb1089e42891e126079342282323c09083398b10b12746d2b17230eb93586eecca25c6ef2fca495bec963279003d979d0c0c33101513b0dff7747e4d67a2d6d17457c6425eb3bee4eee2d8a3135f91ab82295b0d3450c4e11cd68a54e9fdd0b1adb9670febe28eff14d66cc110327cf7d8ad0305278b0221ef0868cfd10812207f9f14abe9eaf1e9371aa18e43863fee22d061b92e59e7e7e15c53d70c3a1198a7c8039ebbc1424f3efa3b25d15c857bf7272e83f8abea931ee2307b2a120d32bf87cab90c6f17a87e3b5c3df51e2ded77987d2a7835c4315c46e1a1ef1c957991c0c31df78aaeb9aeb8642733a565a48a18d0b37d897e9d852a974b12003c19c17c74dad9a501572315945880f8fb26284d12c4dc4ac769d2eda35169099bd47e7d8ea03e0fe66b1a8603e3f0d7ade6eaee97f2f7ba3817702ca680839bd1eff971dce7df74a8f5ed57f001ced06d1a372b6c150c445d3b09e08392c74c62771c9346c88442d054ec5d3e814ecb0f5fe826125fca73b77a4350dba5ddd6b0ee30be77260266cfda78b68512660c18faa6b3f8053701803c1af8967d5b68c5b4123607cc66b3d5396099193e6394378e36e88846e7b25d6d40d4e7f2f6eba47575f0ddb10d2cc1ea8607e66a8f6ef1e6baf31eefd43b723f8f253908097abcf60366ac68ec17f8a2e819c01b4e6544ca8b5f50c6962838f7bec13474fa062639310d027969aa9bce313764d4bae24c2090f09ac3da27f0183f745bf4bb1d075b51eab509a9ce62bb63851bfcc9df0cfe21b67ee16f01b9452f163ed15be34f2f717b736fb59c6b54f51444034481c4b8f0d91b290b03d5eb176b841f5f02b766279dc397daf24582221d107de0786fda24ceb109a321cc09ec11a6d30a61ba654df603d234ea8eac8df62e1df86c360fc8c3f9e0a779b467b9ec0c53129fe65c6fa1013d15875f0d1db0fc233ccb93b438aad268ab718e10ca89bd25ee41c85683e0bde4ad8ae0f8f28906b56494986c9c35b08f76e9f11b33adf1ed3822478229873e17013fe7b2287ed98c095390a04f8a3acf8285aa309489a551e90131c21910574eb1af217947c6c9cb13de49b90b4e9b190c4d1beb2d448b0f9161f151984d16a0a1971dc0418a031c9c0584b93305553d71453a887808ac97751c969e648026c41d3c90778310dec19afb85826548fc68f558a9bd46201103ee3cacb53ef572ee84a97f0183b83a5b721bfcf1b1db0d174037462c0311c58b4ba109122fa3de068d6ca74e496fed2c9fbcd98010dd2a3a0a28da4bad875be10ab69e919b059fad8706a37d50b86a9207305388de07e79472c73dac7e404bbd331e65c4f4226e23bd203e5a2af9141ed8b888210bf055dccb19a23d73ef0f64f2b9073502e51408c04d5c08562aec329b7a005a699c3faece89616ad8d03f59b9259aa38bacbfb2d482219d4a8deb0605b9ca0255f61f728550b5d417700386e7e3e86cfe5a2c722c9b170e2bc25759132bd828c1f2efac35c1ff7df50a555232c687320bc58c770db96610891a9d1f429efdd0d3ec94ff7e46fc2bf556f4ec0017db6f98e25fd30b680f9e19b2aba48bf8ed512aea079f810cfccb6da224673bd6af2f71189799af6a3688371b3476538dc588bd48d15ec5fad7834bf5c9d18837bf209e08cf57b48ae457a84aebf08f53aa5fa922ea4f987989f9609fb254c634737d81b7eece4c555c159ad1be0dcea07bcd0182648ee5fd7952a3cea5df8030422b1bda427a257a9739fba98dbb3cb78ee70da0080e69de01ecb0fe77ce2c874c9a44bd19b1e88bb5714b552a56cc0bb1fc2ae848120db28d13fe495193a7edf82694bd4130bbe123ac79743ea34b164da36454c522191e0695ba57d1e7351f0376599ab80440a670b2d6edc251b1eb32dd28d47428a9d87e014b3ef8d9398831096f3bbe7bd31541c334d7623fa2a95ac00c5f40e194bf205c42736e158a3f8c25f8dc82974a98343a4393331d4709d882c2e0ec7deddff7d4524597858d4b6f4cbb564e8dd02cc596b30023821a7858abc65e368caeb512f1c0d94fba190f433fd993860654dafd59e3b3077782af09fe7b71379413377c471bc99dc7e82ff16e8a2fa759c5d2dbad890b81befc3a53bd5c0b9ef92d6ab18e72731603709ad4af41a64b1057d2989620e2ee7783037bd04f47c2a5465786260ecdd0267cda754531d24a505c411aa12588a2c106b7de4c52fb0af2470e2eb69ba4a506cee3423aa72db3eb597fe7e041523b2cb8bf6ba84b4d96f0e9a1f64eba1d96c8142dfbf288aaa5124e827f7c4595cdf08707a0f20a1005b3112b12478eeb79319bf78253858098ce04ecd5c9067e358f179aaf4c9f17e9daa36192ac7e3490a17e364e7157b38d79d813b91068eb8d782bc1b6d8751aafa1fa0154fa8e860df142fd482690c8de8222da7085f41e179bff50fdec4bdbb92d08d064b62d48afd70ae35f1f76ea6946d0991e0df09fa159693e9ae30d95c58b25bf2d7a763179b01b608b405088c67fda778dacdfea21cf16365f8758b226cee1e0070881c882aeb0e57725f0cb8357f1b5951eb11014a52b5d3946a7c94b53937f9f66b7f3846585d7ed26069e79ecd1133e0f72f1e37679dd8a454220f2478bc3c40a215d0fb540a0a27a05e92b8a98e61d8d549e5d7ff4c9a327191b359bc0aec56b001cc110de3dfbdc68b6fdfb81369e6f51566b0ec75a3b1c1e190c5b4da8e1d44b8f0909e11f8663b7a0db132e8389eef108d6af9737b12a9f5f818e62ebd7582a07fa9c36e29373c499c1ce912b08d7017b443b5522f684f6b7312e79fa416a7ed18a6c5a3b000fb57d213337e36718b2ab37171eda6ed438eb9bc87912fac9da3a765f09563754f1f78745677945d8a819bf4b6c180c86afb5435bbc7f1624312e746321377845c753d0d093c7d442fbe57d202ad62067f16538a3a5dd39724f837ea1fc0682c093e471ccc5382bf42b6786233a176c862d7c9497520f119a74a6ec8b7fb5dfad84ed801ac353a91b7041acf6c1b628f1ab290fe7f007bb1ffd589c120750bd9e01ee9ed6b5beb1f77f4714d84fb09bcec95b28939f338b80fc28e00853c24390e985d5e0da22ef76e67b522f7057fa090f6c66a157db50a5a0fa4302ca97cfcb7e84c948f54b23eaae3accb5fd84ee1ac4682d2c4fa4dcdeb6fe3424ecf4305fe07f6a074fae87f8dccc0a3a0990873145719517a07bdcab60896cf1dc012041016ea74f511184083ff5781ee0675fe29fa50f1b6d6ccf2dffb3f575bdb904bc498d89ec6ad7f5dcbc23f3bc52f3079c63900337975cdeb3893c4c2d6acd83251d30cbf98ab49a8d37122027608f125bf3d63836089eecb1d6922d04115423d5f523f507372e5744f04775479807149eaf2c6dbf56e3af577dea8c09c7dfd1a21972510079e5551761b2be65136809da678f427526a9822998618c1be0f78a85ff50cf18b19204f1887d48b9224afa9d435d8e4e78b5e0aca586606f06ecf4cc3af0e4aeca3828d5e5032c4ad7defc7e36c552e6b96384d5020763469466ceb5125665fde024e1cb1a346774faa6df4f5ba17c58507a3e5dccefad2be02863ba3a8aedce1b9c82fdcdcfd446808734311a1135bc8392c2d00af0d3fb7e7bd79377e288d5f590ff63cb49ec36cc8527d19ae1b51edb80fb5125c2eb737cec12651a69076aca74e9743b5e84318631e74a81596c0b2870ddc596bc2f76a32d8c178f507a9d19ff8e6623ff68f5900df1ada1484780b7ca9a4a83e40c9bf371b21b147f696b91d643885c814dc9fc97ce5813d4d5b2d14866a95f10aa94f399afa24d06333af7474f860d243fb9147daeb5adf0ea350cfd855a75fc4a3dc0c7d436b58e203042539b33f7ebd0e803f787bd55ef55e7c87e2113cb35fe33775b59e988d4ee1d063e7f63e15aecc4fb9749f6248061b13c695e214fa8cdf5fd50fb155b5278b2b79deb16ad1991c11fc5fb6658d611ab61e9f024fc28f0641e01139db795b59d84ee199af637c625256198dcb597a2601b27f47f2aebfa8382b8114c66f934de7d3de06a840d3d3403568572fe3699bcb68dcdcb957bf3445fbd91b314af281ee032f543a84af3332dca7f8e672359bdd21394517184f9ccad10fbb918b20eb5c08ea740f050e7012987140e0dfdcc020f609c5000e10bfe86a3cd0d8e9d98b30ef2827fb500995f44f7abe951377780482749c745a4ca438cc71c748f47d2120242828f2fcad48a61e3b3d1f73ca852e5bc0b57eea6d40a53030c3e3b1c49554bcfe9c45d46dfa5e9762e26448bbcbcdecaa6733ec75825cec0accdd2ce9f38f0674faa373a62660f22e4dc95ed78b1db7cec8a5f40b3a9b039123a5a953c848c549904f883b7edf0b35e261287137c955981c0b23716802fd188fa4a47d0306ebb4aa9a258b8801a54a776ccccbcc201c385a60d774b35310a37219410a409226900102db2e511f6ce0e3c78cb58b515091b78c8d5c1a5f26b90975ef2b1d74fc2966ce983c5c64c3a3e283c51ea4f61e633869319d1ae4b0e5cfc5da22b16b69b5ee1d83e0739cb43f1d4acc833809c9387a6e8170922a5912be542d688bdc1c08d1bcb9f1d13976b08aa72eafee410eb76a1335b62f5635df06e529e1d4f39da07cecbfd1eb6e8b45bcc9a0993ce1e3a1c4f5a450fe1f924a49205b1208878404ccfbfa6039c2fedd17937945c6cc9533612b7b9f95258d34f57f11cbfb90614759dd1a4c378f5dadc5816f0c6cb7a79cce8ec9b91516787a436a1d51d8ffb157f997bc40223e4fd74c51c6b99ba7b562204ef1e19a0450af06357410f1bea0879c4d5032e90fb5b498f5c558e209266646837dd1eaef494c0f9f400c52c091477f4c3ba2ca893e57e8aec8111abffda6ff4d2fcaddcc297d0af5e497d17825588f7278af63ca2ca6d6d9754187bee86114a652e26a0f333d4af3ee7b47bec919204d99b212ccb0d6599f738c783812c6771b165e258d608e9e2f20bcc95105f157c192115b9468707c6ae5c75a8919ea9cec091edbc2f81ecca09c71903c1c674372943a2d1ff616d017ed6bde4acfba2c64c8a5125fd8ede69870ef755c32b0b90263210b97c52b4e291cae20107f15d2354554c4d59993027254db4b2e5aaad9cb545473ed09b026016157881c930b2bbcbed492c05685567453cb3e007fe834312330e76eb60baaf94f7e4368fbd7212ede3246bf33f97b0b44d353297b89cf687ec9c1926f3d4757f5e3629a5357dc3ae770e7a586d881a9e242ea4c6e506b6189d7bb59a141edf5dba3d275430cc6a4aa1240a9041776f8f22e4e16cd1d054eea3a29d4aa71d609948f94fa0cda9de0b00d8b6d40e585686eb506e67783bc53de3eb001c23bb33647385e61aa3a1829ef6878f0f88b33c99de21efec344fe82f039eea41fe37ec329b0210b4b727252be0036dd7a2c6af64a0433171a830545b2e5e603e6f82ae6d9745cb80ca698ab1df8b6304c232511de0e95237b0a7c1838953f694dae1fc81a169b55e5564df44fd51d72d8e0a417da8ba899e254b7b86afe4482bf7ce8d2c58a59e637b68742b36d7e06c3b41c91184dcdbe114c9cbbd70f162e4f68100640823f746cccf9d120bf64ba67391764925be520fa2367cfb05afc08153b0d18bda3d95a02d02a66f296b52ce401ab600b86162bd08d4b7b23447d8106efa847721c3970f26edcb381ec852bdb53b1e505da35afa355b8238e3c7eefae75f48fd9ecd803d3c9908fd7e43cf555579585e6ae3b1994bd1b920cea2bc6b5c0ec3da44ae49679147e2ba7e1cb9584f36ab52877827149d729dffc8167f72a69f61c12d13b81c336785eef1ff011966aeae02aa54826152cbe637a83380d5b39b29fd4a6f14036267d0ac663180ea146139ccc9acf490a9caaa6dc7eb929c1669a4f8b020071d71bcb6959f94e15e4ea0aa933b061b73e1ff621c22992370bd6362b6ab99d31472a0927998c45feed5c58d36c4db37d9f7b3c0c19042249b359409b9463a13a5072787b704ace8292aa2b4afd8d9b739965c2b5c49b733135d1a9921c4adf34d8ccab824f7e656ff60216e75331a99cd41e430d8d30b9d3ea034887a7cb508f21f8b43176043c7201049626d5447c8159193babc6e046969ace20f663f5404f7d1a1bab7373599ec313bd2b7953f7c015833330beb8bce62c5244510d6b610b7d72f66812dd10255d3af1a6f3254211383c7d53a9b6c61c5fa3afa798fec1bb852c3f6f6f80a1ae7bb9c118346c60a5cd947dde0c58fe2434f62eba412a62db04c39019a74ff9125688c7cd669d7e3dfd180b37f206cae7e5e50caf2c393dcc699455daf3f9396cc344c05772f77a6b0e8831e4c75a92e7409394241680547e79aa85725c392c0c5fcd72330e81d0b1931c00ef33faf0d58bd8e4899d6a7615474d44d67162e79d1e128355165395bac2cce8d990888caaac4bdfebb7f112210e869a4e8b072904c178e8d8d0b0bb0e5aa4fceaceedf011f34d8075e4a944eb677ce0d1fade38543d1417023b590b9ee5d7652f6304538b5a25718972bd44afc572071f8184c1c8d3ff5605538ed3e3415909a17c67b66eec23ba8cc74606c005dcd951e44d25c6f45d4cc41b105276fc312c00a49d295af8f664b4d6c9f253c8dc07bd575232bddee498af111148385527b316b9c8084105aee500a2257158571c0555f744380b4ced09736b3e44c133dd7518f3be33644e5c1aaad3f2e78cc8db46da2709ddd78bac4d97d13b2c94adf94ae23766a4bb1168314b4716f85195fd0b8d5ed6123b4ada1e4252364baddbaf5c687753b67f82a10a1249a0b710ef7f11f11528a7a160ae588e87047f0e4437abf9d24c593f22ba3054ca971cbf987d9f904af0592c8c3bf70ed5caf32b38e9d835a5655ddf2831b18f2bebfca97ee8ef1ff9a9398abf6c847301790cf10b3c2745d059d76913b8118622d0825ec22508f58b4b4116edfef4530cf282282c782bde0934784184ac229f87a2b6f1ca6ce80e4a3338714b4b2bf7b14652dd25cab8771ff0694596f15c9ab281e9d5e8320eca8e60825ffe677ebb709a259d78fb5694700260f68cebc69a0bb2682ffb147c775691848536af4956dc0a05adf5b3de335a8459a23001e4d079129ccdd13dc151b52ac4c0e4b3d8ff58d600b5fb00d8155705c7eb8668a2249da01b40312915acb70c69205fe148a566d2e1da39ae88927345c7198713703117ddb2c72e31cad8ff42599e31b61e3f098b91bf6a507c3041595477a8e7d073c8e9b7ee40192d4ead566a1de18a3969ebc32d72b713598a9df734344090487a00f2875a6cc5b4ecc9fbc7663b59e3ac652d02878a58e92e1e84460510111ae4a6db95e1730259dc9a1d5ed7d7301bc3d2d704863b01fce0f5feed145996051aba1c665cb2928841a38175b08cb88dada34abf3f02ff983df95f0575d07fae82fc4a5c286791a2136544fa7a9e0763fb5fdcd39e9ccfefce770e82fff0459e92bb9992f6407209141385ee9da5a6606bd22704ccc1cd0a48548de6b33247f6ebafdfbd99d15eb2dcb85f38d0b0486f085b5c50d98844546029f60e418542a09cb0d5fa5e60370ae933beda966ea634eeb4836d071b13195ae64e631419b5ee52ff553d68979b534d32878b44f69df9e44beb818f48badbfd18b85d7172cd4d53991aaf11e91be6dda5462ea62e74c492fd8e42cffb5c6da9b52beec4bb01a2ed74bb3c181405c5fff1fea88e3cd45dc79c1e9486eed13fc1df9a440c3618588d56be7ee171e374d220af7583647fb2417fe3044cf6012585a27d24bf5a1a7e57066b1c54f924ad8406fcc2acd7828fbf6fcda95a8d6dcd0f1f46a9f68e217f3768832740eebf16b16f9db9172764e4eabbad18c4eca174fddd7a425b016172982b31ffde1f265016030e43c479bf96db7e02ec057e9fe7be6338fdee846bc50eb184ffd0d2ce126151a66e675c04ae6d6c3b09a28e4a065163c80fba06b8e5cea8940fa852cb389edf6d0cba487ca66462de8927c8e439f05fb751ee3c135df8b41da1735bc233a22f673a8bf233e7f1a38ee6fd85102271a8375288abe9f411c9d9489f2a7b4fe1c580fa69828fa5ab35338b7338e86c3aaf8386f3cf86e06478d86f1c7bb7ab8e8bdc692725082285f7a974062dcc12d37a1ed72633caea6a116fcc7cf3fdd631325a7b8f9dfd36698e7ce98de960218bfa7b5f8aea61c77f26b913ff975f3c87000036078883c41ab5a2dab9a2512c48c067ad66209a6e076eb17840a9cdf11cefb9c540b0e57d1b5566206afef9c85613cc6310ee1b0c3d58d1dbe0c6e49ccd05398ff5b5ef7e552de278fdf53cf4db74a220d9d106ec7ccc148a0c2925436225fd19a898f70e9750b25f8db35e6572caaacc51aa0cc197cdddc1a5bf208b6a38f3873166f9f28a5aea42bc4b3a362a63aba2541b272d4310595b1b111fe3527e4cfd98f5ddd9bd071588ca6b5ea1eec4ac1309c0a9662a97578a340063620344d371046c2689bb3d3f341ce6e0b26072b0e2560248788729e46b2124bc87c3cfb8cf1e1dd3ef49c333778ddedbea84f49fa2cfee2289caf67f699c320dc99213929e74ab8969d5eca1d2c454572bcb31accd13b5c6acdff11dce0e2c6e2f2cc06ecd7b7a23e1b51d9878ffeafb5de14763ee4d165b880f061a385d8f40a5763f925bde86c4c32ad2350a4ff3a9ae4714352f1a2d3deec68be427bfb7ddfbb0359edc124744d72b96b3d39630144dee4973e41c44c8628fa22c85031834b3790ae9e4d6d5ac6ffdcd2b821928c59e6658525de4261c12f36942f98f7d70338f00fc077cb510e6cca4b9669b266c630d052be2b4decf5ff753e366e1b4c89edffaf5840ed147132d9619193ca76a0ad3ec6f9270cf6b308ba1598bfe1c571f19dcbc6bde1d7049fe76a7b21cac841ef47ec1868cfac28798add4880de3f313b84543022750b01a0305fd663d9abd6355094b8974aeaffa7780c425557cdb48f320f90bc1699570aef4d9560fe9b6a2aeb22c19d9288c2619c55c5dbef3b8ccc9e8c9246da2ae739de10e74ea007791b86069e653a58ad83eda2a4b43636f432081fba5b5d1a7dd5d4dfc6720796edde9d276dcb777b334da19649d7aefa539d10aca3c5cee127ba36182119b0a5f533ef82400249c8c0549669aba9e0698b27a5db191e98baff2fd3f8561d678bc0acde4a5a1b227da6777a84541657f421c3ada77ae9bfdeca054f78ae53f05ca3f8609636e6d246ec25a1c8011169aaae2ea473a0cef4b6a628a4a7f1d5e4dde4f2396e1013a5265f7b1355521b59e5bd5978c5e41ad435e328d7e8d0a0ab5b6ffa3bdab836575d7573e8990e93f6b1368808c30aef97d810f133dea8f6d83195f370faec629289f3cf24f2a6c30db1f3ac46b1145376b2b79b554463b366d76b09043804c099e98bf440bdd9284b1f0e25ee7fb75b85ad2184a1d746155c49371b3326740dff4cabd2d49831e4d6b99a2286afe7789fbfed49667184804bb9ae850d04ec6fedf257c8c3946e22c01c27c7c7c9a36b852df188afca266a212ac9b25a2444d338350f108a99acc7dcdf3456fa0805c0024f420d2b9165e6fc83691fa838b5546e9afcaf93d89d734c86e75eeacc249ae62c79425037b62d01dc5d309cb2e7def39ca2cf8479a109c996b3c74232ac8c5ad7f56b965f89f85e2ab89030d2196266f24e8dab9ff25b82e448913aac5621d78de6ee2724dd7f0299971bab2161dfefe15fdc38d47f8bb07aaa01991e20317efdb9a8330915dadaf2608db8d5963e5904bc9afe9bf93c9c7085381151529a89817174a7bba8dc1998974ae643475642d9defbe63286e1f3da9822450a6aff63fbfdabc32c79186c2424258262a9c7be0073244c419c7ff7236b30933c854495500e302d7cf31b4f0168981c2f68efc902b71331f3784bc202644041bf1ed1309e63c3029d7c965d8b1a52aab38daa43fbe271e4dd66b067571db1044f8f97f89e1fd703e3616e7b567c14aa6abb16114042fcb007ba487cebb070e042f2124a36b7a6537d2ded6568385247aa16310a64e8193537c1d420912e1980821af458810aa2af90f2324ec70933fcfd2fc34ca872bed383259ff92cf821846cdba2de4c6df473dd04c3a3ccb528899b9bf2806c0ffde52492938cda3e8ba8000077a06e0cb230824f1645deb7b974112f63219679d99403d08fa076bac08c29d657d656f1ab87dd92f4d9606136cfd705b282a0d66281d6f6179c6183e3f16de9b096842d209b6735ea296240551d07259fbf5879d516c52ddbb4fdd16b6b11fe6e75dc89a95f783c8d32d5812791a0de6351dd58fb7dbf21c062be48d94433aeb865ba462692ad239d4d4d5c84ed69546334b83bef81be6481e9b66f1ff3051457296cb29f83611076150813418f90bcae07e3624094908070b87459218f21cb4165869e94bd24e4938f8d9c5a55eda91713c4a16da60c2bab9ef9353dd7c2b5331b58d43a53e9aabab2b9bce112bec984741112d25c5f03e91452835b556f6fa256ea202e7beff3280dfd9e94d274192c1c2f773da9470bff4dcdc99c1ea6581dc442b8a45e7158a39c01ab51108626a965ee24511909371672d68171584c8dc53d3d727aefad14fe86339718d2b67e1566af6fce3fab8773575d6ea032c93d72c13b1b4c5ac455182925236d3bfd1cba75bdc97685ea171bd309248f88e6a435fc2ccd04c4a629bd0cb1c0120b629b66a1983813bbf64597e9392e13e4c024343a8d94903d60096e16a1aca14585feeac0941eb3716a9e1603a63258600e257cadde4c7f27744baba987fa4e4de19a7522e97976e7c247c82219a95329b89923013e346c648d8d16e80ef47a6de1a78907c9ef9a24af9c79911cde312d8c4d7d10a4c36a9b96701e49fe7b2044b781fc2aa0838e4c2abc2569039b598a591db863c3fedc005fefe1465268b65de347784a98f5573251b329dec8959bf59f342b41ce34b8c3d8a6c81895a7be37c104a1f913ff15bd76261e83b5827b35052dbaaa5c189a38768397a322add5676ebf58dc968f41d5e576232c7273ab1e1fdf2f88255b6c1d0b320701400e8fc7e698af43d4e389a5fff4df83e587e64c45f4f995269da9f4dddf9545eefde7146078938ec583c7a894acef359f36958ae68be736c5214e2fb4fc846daffb7a1a8e3479aaf2ee7b679974b5f49651bedbfde136849e9d80fbbd5ca925d993a25646de717c87774d900f119db3a5f9c9d69e2026c6aebcbef7f71e4b53be21d9759b4e8597b37d4561c176ba4466fe191ab69a9188eaf28a813a79befae405100998d6a9e3b1906d38692a649b41acc2817fbc74fcec598f8babe6da56b709a1accb2ab9b9df9cee3c3ebeb8ce3a9206d0379eaa6a127eb55f306d4c0295c132b63aff97b0f6f674bb15fa40a981ee19ff3c529f30005f0464b6cb91a51cd2649fe8411795048fa08ce7f6d4add68d12ea852d1d8fd0e66f83b35b7108715653e428651e792249a8cc8d621d9842b1c8938de62a781994b0b8f4c4df3fa9d98065ce6aea7b6424d46d9d1e349cba7e41ab0c9b441db0bc85aeedc9c806b189ecb571417a5d4c2b73ea3a220459166e8aad87731a7d51f8956947e0088ff2e58eea0d83ffe8ae984e8d0fb45edd2eeab41aff2c622db45fbd03c0c0daa2aba35fa9f9907c163787ef83deab07b95087ab7df1b7a6f8e5c95785a574e159c3bd8449368e0221b80b09189cb484e4d886f68dad1e2c51c6486d7df0f0a59a45511075ac354e8bf8eaafdb50f858fe156e5a67930039c74c97e5aa363b96c14de18fe86d279daac91b7bdee96f77e260d18815a992f4b8501088cbdadabc1aa0f1ba36b5335effa1686c3ac5de1345e8f95e53621507fa71f1709b01606f96fd5e77908febe0b50327d867294b64bd6d627e58fd26187511246d86c26ccc449b7b1930377540d8993f9fd872fee8be0d40489bd764c62d362541b2e2b700121c37d3c1d4c806e1d5f9afb5d2d3294e6b2af6ff2c6864751dbb4a8038d712499c4e9b50eacd78a9a82106a1b0a566d2edd3c11428662555fc19ed8900312b8c1bd35c535bbb71aebe71f886e68208393840347cf4ec77c3f8e334a3953ecfccc0270b2c75e4cc1f4a34375d0189716c510f93a98cca20c899ed4cf6507f24113841635ed7632bd8f8f2af7e110a41b4f4e241e5ca6cab8a0585b31123ab9d7b85174c151eb694147d5a4bba9aa0d25c5b9b4189661602683cb3a061a6fb931b09afc7e2f58f83524940a4ef4ea9790714db460372cb266495bd0855784181d54308233952d9765424ad487f88f083573dbfe7d7ba340b1b7d85593faa55fd08fea619eab55998c2122bea7a40b4276e3ce3a5750d311cb01aabb5953baa20fe7876ab297449091b6548d188b72dc77eaf51e1fd1d17bab36862d640f5bcce05f0d21585071b29c197ce49ec77c089fef57dce932b2cb8d1c518da6fe6dde794bee6fa98c997510b626c2256859015e6a09fcd55e7392115c4717d0ee324afb2be7849d958faca596bf791199e74866e6784100de982f912e8a304fa494ead77149bfbc01e526bbbdb339be272bba2f0adbc532607c9eabd40af896889e171f09f53d2ee116cfcbf36aa9cc5b3eaed0e773891c5047d481f49afe6edd24509f3bd4ef8444cdefa240392f527a50def6e101c018406e16b65425f7de2e264ef4061b7c2d74bc9b7bd5342085c1a3c38459fb8497e695c35ab5d1b5f1d591ed8bebd194186b096e93b6e43fa1f545bc48d617623d8e8e821350dd64439dc092185e7ca5be8e143924c4933fd3beb3f7d665dd9c3cbb04eeac8a432c3cea26b86280f365d6f05b725991555056e2bb0253caa1813a62b7702797a02dae484af7f4968f33e8a966f7a1564f0895dd976455e0613deb6d5ba2b32d5461a0e33d3263b4b38ba38b0e399d02970abc14d68840193251840e91fc037435548849ee16e5d5ba9756eed0bce1c6943f13a6f62879aa6aff8be33bca6aee6a31658ed4d4c5043ed286cd555c45c7a7b199c0a6798909bd4848cf2ad0535881189629f019fc1fceab61857a493a3b2e294b6a8b905a531a7aef5eab095adf7fe3f08c476cde1b969398f21f16a232ebac28cad7c8a842f1ab1a9c4dedfd211289aea3240191ae7992138efff1b37f2424a8eed70d12a4e93f7fcb2501c77853aadcd7713b2600763ea64b51fb4b567f9feb655af887d57d53025e8c8d08a420db7bf04ea118d2a91ecc190ffe1053027a7189d4401e84aa41d0323234149ffdbc4bbc7a469aa41dce2411cc01b3ac7040d222e0ab70daf83a0855d3dfd05cf09b472bf70053ad91c59d1dc455eb4875a52609064f78a15f16f2ba2ec7a83b15ff63f12a8ac2e90b06b6b713fc9b0ca62c22817163bfa5a0c7c1efecf501e43338726f9dac31b46ee1be0f0baf1db31b1766c90fb3ef41b76ba009a0b6da846dfe7fe100ec4e34567e31fc9b56441cb1f0aee0ece0d518bfddd3346f4b095dc504e51fe484a4b0fc16960af793c5d95d5c90b209fab3ea741cafcc47df87f57e665029d776bfefccdfe79dce86b9c67a1c04d6343b74acc0ab02e34e6d040a907b49f397631c8c7b02b07f5591d68a5a1ead42f58ab465d038c2236e3ceb1020233effc8b7b02fc82041782843852c34acdc71a148f845f9d367e5f19f538f0eba51a09eb95da7a1931a39ceaef1bca294828734c0bfb67c0a430e4bcd5d85a4a220838b117a035d442e5d424e2755869a2b36c12ddf38afd159343998210d7774e84be8c8b37cbb1c8452f4df690d225ae48a5e6715310a118c4c498ee2d57bf2da67400f885492f355c15557e108eb34b17eb9ed4740c591b7fa16093ff50e9cbc777641174b414119de2605af0b60c292ba2f1ca14e20aec282e016160fa95309c85004a4ecfdbdb743198795031f6b54cc528221cad2c62bb256bc9b2a2e908600081529b80dc8ff705c334025a32c102f6198831c373a25ca547ef7e1823da1f90244fff64d22593dad927c9bd377ff7f57a6a53bdc995439222298ec0c379cd058032b24bae0e71093a969a35c1130f1c73402cbe3f47ebccd12b63bb8bb9900938de46a2219d3badb21d0da28437e585ee5a4adf9673112fe098d365352bdc8e80b120e2081b7dc9f212c0e30b7b2834d22a836a5e20437a46f7325733bfef35d63bd95b6ce763fe9fc04d21dbe8eaa633ccd723d1663fd8ddaf83bad1f5bba4f378193523bd54f80eeff29df8b82553b120d419ca449dc7de9392679744195ef1027f7adcdbd7d1ec9e67b873ff46ac250ca3c4e21c07958207311eb8f8289e8011ffeb62e29876e7f788d2ac97e3b6e1f2b43864494050993b4911343200d879b33b8859776b69ffaef7648e3e4d8dbcc0ddebe254c8d99a5ef3f09a3fed93b601066385e0293baef5f48505d59812f13d813b28c6b7ab5c9e81d66adb6c6b82d314ed507e08003ff7e87987c017784daab32b59c64c8abb4d9fbde1474bd26560e47757722efedbbef58699ca50dcc8f34a5c82a5586510d84697b86accdf12bfbc9e230663f4def18b124114a7b932ff0f68b5f2574ec0840a5fcbd314d52befc3ab334f90bbdea1716d6e375ad5231e1fcb4bb35ec4d809f0e7bc1d3da06352a5cae967df751aa6923e3e472a1b42f133919754c4f60db8c5c4e924ad914e18d0550e424a117e1cc36fef4ff348d35518f66edee1800fd1b9a34cccf3cfccf383e46ab7d8a7c77fa956c6cda143d0c76144d67138b3050e8ae9c09c31521ebf23c40726c762ff3fc6bb0b7e6a701a05c8cda47eb8f44720a8785d022d2622f33ab0502ba817310b153549649234c8ab5b5a54a9d2af8e4b2fd9701fe4ee08c33db5222617a79ba2613aaca5c1f9ecbfdf7feb3a7071d1ad7b1e76882bba4ca668ef75fa2446f76b70b29243c64c7acf80a01d030c07afc7af7cad89101c1f80607ee4af5040c74ab02a2aa57d8a6e7d3965cf529e1ab33474754bb60b6a7b24990b9afb9f0acb640b77d64fb932d8cdb9565964bcfeb3cfa16b5268847a567cef035cbad84fe2324d067e5bac95b22c7951312e692701801cbfbbdfdd6875414e7d53ac8debfee9f1d04fe8b161908cc4d9fc7f92fda72b3b129539a01021955641f83fb577f27e64dc0d183575707a5a3e2b00b150ac670edf88be7c10efb33a1a7dd9d97b084e0c75a965a98c1e422afeca4d549567e4623e73a8dba2189f7fd84ab93c64c10ae067ab101c750d0060dd01f34b27deeff9c13d3002c382db447ae22660129fc103c364a0f1a6f76f8e133b06aa2e878c3c725d569bcdf098242741b43baaee8c1769a70db07a50a0495d3f5c64af29babb2b6996d06e5d1585029291c04b7c3517c28b6ea9c9ffa1bd1fe9dea85b928d7d24318b781b1dc67750f1b7b48bcc833d557b198a7287262302b63c68cbed32dc9be7ecc0ce857de09aedf18540fa717ae27e0cd95b5c0ec7558910f1f427a334d5fc8b0ea50806370da346cc5fbff6e77c49421e65bb986c9f15b2d54e58574ae4736c08f51aa7aec8fe98f1e6a5a4e587879ca2d7c22bfbf5ca5d1f0da074e4be0a9a9eaf6749f307b9d41cdde43ab6c31287bc14da0599336f22e08339aa92adb8046b4dbd17457c9a796a1ecfb061061c973405b984af9babfbc0d4052643531a5ccb2b4d9084f0784c026e7cd660c4770abda0ba53277703d52e3f1cfc062375c673572f70d2b8db00006bd5e5284153be1bf2d1f7fb08c78ea165d7eaa8183d356b421cc646e45f9d63bd56b993085607a56f24ab0519a758a5783dc1d49f496143ac9094cf27c3eb38a0ade0deff1e718fc87a90283806cdc64a861c1d531a404e14cdb54c7484fd216f78d9149c0c5c54478c0d43caf1ea1c669966787ecbcedbd582a11e58b80dcf7bf54cd63adbf4f35743d732f7a6d5c54d5449d150223b3758bb3c382e81eabb7b370a4df5abc8b0e54117680c5e941d90702e1e1194b3ead016a50e94c735db8303d04f35c39afdcf9e13fff201415c5b0bf0d1873894a784cbdda2058f700d111b9794bf4e475986fb1059b5cebba7920ef0ae4b09e2f1dbd2d1252fdfb8ba9f6e49a54f115e85e28f341f8de138e6e314e058df935ee6486256163c98fc0987d5ae03e140451c9e913f8726701c50d9d61d2e9850b10d314df04c324c8a106814ec061400f8b8c65ab9984809cf1a0573b5b9ceb7b00d564a0013ef19be17ad1c84703aff6670c1419ba878b3f1500c0fe8a7587f1e9306adec2a144130cdec621795428c7545cb3cf0d231de2e2117f77c11f7051d7ce1a5b928dd1d95a99d702dc14b568efd53153478b1b6b69cb3c009255a35104214e7862e1af1d9473cbcd421b477318d50b4f328622bbf752404732fe52f1b30f2a231570c59737d584a05f95bae0e4ebd650279115b9bb5bd8a332d937f24c64b79133c39dbdd26fe61f5bd514ae14e68f5cc307cdec60a5c3b3cbc923e2278ed4574f789b5cb314d35d38690519eb6165acd17b1af46105703f0de9995c60c79ef1fe498ec67694b09fc412a43a9b0a8e5f0ef910d9d39","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a09028e0b5c4edeccd717718505802d5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
