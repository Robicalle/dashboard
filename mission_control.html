<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6ba0f79f029278a22bc457110f33e10593370e214f3ecf2af69d5dc3cdc6339b8294cf3fcd1e908a2b8b688f7d70c36c957a0952919ce5cb38053f8541a65a1daa297b56d2f62135e1e6c8409619c063229e3738bd3170bd3e710b9aed64d29ce21700ead8f33531cc16f2e2a8c9e3fcfde31c98946a93741e2b6dee7b4d23eda34d6d545921b6042ae8c38a99a0f9e97a0111d57b35290a66f3403ec8477ad66b0af9804d1e218f14f1947f7468c15e381e9c296b4c7f59c1ec19db69c82fed30351d7ba3ed509e34a2ec985ccbf6ca827329fa49f6358ceaf46b5e6815f784495f3958a7c5f8fe046dca10a781c209790bf4d8baf2b543a07dbda959f0f044985ae26db98b68d768062447e07d509b6ec514c9f397e35648d77c0d84eab8de93bf9336873ee05ed292c28af121d9a1a092e74d05354ab1600c4c0b69702eef92dff2e133885f0477db7965b6b3a31f1be8b521035e1ac372c9bb25c6c787f8a7bb6fab805b418c834fec8130cf1a4faae238bf75968496fdc2d79a568bb1f012444f54f50fd6f7502de0b6bc5d0800a66469e55194a50fdf57e96d82017cf0c3d73d2b96aec0987e9e30eb86fc638e2778fe8a47f1aeff24c88a1849b5a6ec8974b26e3707529745dce9b126170e20e2666f659dfab971a43cdba2578d38dcddf29b823a5bfcff8f304de353fc3d8ded81cfcd65909d0faf3afb2c39592facf3041cfac992f5e8af3a2d0a571569439d6de0128df6948970b7bbb3d9509d0f13fe6f526ffbf7ca23e7c2fdecc31a68cdd2638d7060e377b7b1c0ae6ab2d381da5c815dc3e1541c1aa84b90ddf15c3e748b6dd78b4a2f413a4c3ebb731fa7dd282e902bee382af25b479a6689a4eeaa616595df22c576c93046a146b81e9c8b4ec84b20c3b244d39e4f4c9876eaf3ff094aae8444bd70d06af1e9a418f065a7a79be3a27df311e2b5b4e8d274086191838c11a46372cdd7659362c8c709d820efcfaed5321d66a5c041e7e61b5f201d57f67f5fdce3dc7f4c30fc992ec082dd52fa82d42087c0650994e189ddf8f82af227744e8b7ba9de92a13c315088fe3cc299c89290beef750892deb8a0ceb655a95c8e85460c14140bcd97e3f65b6a7e329936128e6f447393fedd62b707061bc85e46a66985dfb909df923694708b206a0d84a11756afaaf773c3608250a50409110eb2a7393fd547d6996501ec2b106ebfc8ed716bf8443a403bef7a8ef1b5e4865ce8d011f6f8a9f9496d03ddbe652c341e6854d1ea1c8912a3f3773464238846a782c5cec769119d1ff327c3b83048cc63a04ba06a7932e86f6bf8ea80d2578b419081a471a99e68710ad8f3fcc8a1dbc4151cbb39de748777d9720865c13b9ea1c59abb96a263db91d6401e1ce0938106d2ed76c19a124daa962a64f3d74c8c4b500871df1dd5496d450395beaadea70cb27cda50fef687031ebee5dad0ac005f95abb302f4120078a9df3d9bf5f99fec4b55eaea307cd4ea8e9017847abff1406c668227bd2040ca1f49f99a3347f34af9792a8241cbebe3dce79efb684dde95bd864bff919eccbaaf3d99d2f48f01d3673003689c2d9ed3b71e2c78feb4b82a383d91d2d69aba0cb43cb8c3e9070eee67fff2d1ad00d306082d487c2b48cebbaa99a79e96e02c4c478aca74910bf80f0b5ed433af259ba06aabdbb3f629139c3035c795997a797e884c6820bf80c2fcb240eb9364cc6d6ec6b66276fe3f77b1399bc4b167c7fcacc51acace62032b54ddd9ee4319c83db869715d9ec35436b36de66ac6d746c02f849390d2236018eb1c0954728a92495611fbed7ae8e7bd2ef94711c83d278d0eee716ecab7f48767c8dbacd38e09b89f47c3c188bae271526e3a674a6321b9f006c5d0153562c72a338fd0837297d4820027889588c67dd1de638a59e78ceb275d4e16825218fe91f908e30e9ff8dce5473c14985a02573238060c98f682b9db33bba3b8eaafe346c71f002c6c4ee9b5d2729ec72c5f9dbdebd51dc20728f1451740e4da40de47a049bbfecfd30ddc91a8d9d18a3f043b251a4bb3903edfbc2a39aebe0912c1e5dc0c3900bb168352a5070729a2a62dd1291ac3dca35d8cc452fcc727aaacfc713aa1eb9a74b0c0b02c633dcb3a6bcb40b4693f79c91484e199eccd033ff934176dee5174a83adf7b120e5d1ed28e54c9f1dcd5b192d62e4bf62c73eb5c1cd50d61d8a9710f2f26043692b2656e77197b72d06ac95e92d8334f1657a308d590a63264fe5be6589fe4ea2382a381b9894a5ea59c1a1fd6d20a0cb20978148ef33f0be1aeb7f496369be2f3c476d1902934683922288da158e3fb7e6b8941842e33dc639b6db005a82c6e94dcbfa83c4456ed2da7d1d456b0c36c8d2fad23efd71731387432730daa0414a95818355e737db2f67fbd9fc5f210087d8905f60ae34b368b3151634c1b237119d59abb8dd4cd4b7db56a1718ebb6177c3f453117dc77fcf93d63881e9bb81f5d67ca954bf00ec1f70f8f806745131d6c1dfc64a55db0c62a599fe9f90039511133cef77d79991420e46270c9e1e6a7f3d3cdde745f1b1eacdf5c2064b2ea7bf32d990db55212f37388a74f0668632603560c7b9524bb580ddb78e42ccd3e69c84fa38e1b8b47e636445718652a1da94c7f35e21c5f8023e5084ab8c6a110d6bd625b58aac5f54640f29314f43494ccca8351c38134d18f4a28053ba26a08d978abf8e39716aa3d30fd0d70a4f76468ee5b3db2e1b197547578acd1f77cedfcad468adb1fa363cdfc29290f44ee3622964b5e3b33e4bd4ab60b214f7f95b8f9c3c562aa03df002504c65161005c8f24eb317e50867a471b4c280eae9edcbf055c0db0f2efc53bc851db5aedc40addd0914e00db58382a5f1bb16e31feae122f10138758a74b80c2e0e3de1b16500d91fa69d481911dec46c071ab39e68f19cb7d9f130615b6ceb9b9f23981905c45bc4a6c1beff0064a2f063ebd5f9271ca1ebf7bcd39e715a400a6d78a72f91c9ab01132f0c0cf26fede4c9715209dd878eab9647b7fa0fe2df0597eaff2bb9bbbbf3cd0afdc4fd4f4edc96642e3bc38067c1b352e62936f3e0c1c82882b4ca54ff7862fe12f83271cfe7a7dc17397889c6028a0d75aa565f82c99ab1110183551d6d90b921e83a59060bab77603302cc9e0dff533c55dae99ac196193e1e82dc7ed7fcec4665321382eb9f385506f5517bd4df354534acc633667615311c9a8f95f1e6f19cb0691c3b73ac41c888b735e42487c94f216ca72552ee549eb3af6378c488c94f17f6ed37ab8c1e1140fb2ec90bfbfbf80b46febc8ba997aa09844072af9605ca7ce9a1ef8a5622769803406ea66940df2a2471a0271c1010b229658dd9bb33ae5f19ac6289802354271f8486affa09451f04f3b4e2f461cf9c0fdb896fb5bd066c4a131445a2813d7eef64959413f89bf96c737b2feb7157cc5e4d6f64b28dd58b7cb5627d48df7975707a54553d9868dce6f5a749a6300c48ea81433f0ba17868297d75a44abdc7ed752a3cdfeb1cfae7ef7463c007b2530c6160baae7a68db9cc876e14c7f8948ff9457887574c4bacc1b566dc4c4646c157f42af1288e3d6460473dea9eed4e033d43c0dbf52fda556d04c88e6c039f107d30860565e3eee351afc3a2d5cbf57246ea283cf989b5138b9f6b2539a2c022b8fc866e2fbac9f4694834e2b3f50f234422253b0fda26d1264ae4fcf7c37fde9f5312651a67e3cf739ee3e0f1dee9ec894a9f1146262f4fd9bac666a3ba9d794b1a1728d8692f782b98b7026321156e969de469e5cf4f83ffa27a8b03880246ab504e686b3a3434b851d03e09f8714bd8dc105c700cb58a5c122897864131160b79037897d3452c7e1324ab8ac1da3b998cc2689310cae369fbd643bc2fb3b0042dc69f81b2fe81366fe3e019eb9df16acfb165ad86e6a60a9f432bb8682786cbf0ac8c484bc5c418935ec629fb49d834ffbc0de7e2efd31917a67d915f1900527f944c9302ae453921d022fba761a4d8624911e228afacf888f76e0bb2795a25dd9cd58b71062b7142fc621d17fc906829a9490e949107cad4ffb13c00f65fb94e0aed8f9dcccf9310405ac3e6924ad7da44d556e18192169e4c6643eade31c80b8f24e4c3074eebe027c3fabce1f496a6d4297135b88c69b396993b8e8cd58966d5d541a63097a92bacde324011e042d7d3b2b7ef5989cb73c3a9a76b4b30630f93334f8629ae47c756e466fb0f9aae2dfc563e98229c4f1622f3b5fc2aa07b29a68cf1b9744aa71e79bdc9775542431d0bbaae5be3f80ac31ae30ae253f07496f7c03e224f21a23c7edb1fc807076fcaf9716ff3f0981987785c7ff436b23ab11cabc889209016f773fdbb29101a3f999d4d01dfeda6360c3de49428ba45bce4f3385ffae6732666adbe7cd59b5ac0eeddd18630c0bea315da3ed455b34e61ea6aa2ca1b64479397d5d2c6be52818a89221a50d5df3d6f97a1b6d4e85095cf44002ddd72b55291ee00f10477425082a95fe6d218882ca57f211e6f477cd87ae2b0b30a93fa70b30de71dbe71ca98a498d2c82e2e9f71e36eb339bfc5132dde91571e30ea13b693a7e9a177a02df6a67f13cb6875f2d0b50569f0fe961ed662d136d481f4400f1eb3428641b72e6a89b08c491eb2c352904a81b1c95faafa748f98df8ad0c722cde84142ec6fd7168a284f5f94974b793cf2179c39213ab30b806c04e9dcbac8f078c5a76085976d71a0d8c58a85a01cc69c9d605179f6d56035cb36d6629326a8cd4b025425cc92f13340a439feabaecb1ed4a0aa7b04a77ca8015c63498de5de24acf9f6d211635979bf13f54c9508cd141c74e9b7b764fb7baedf69e1c488c89e739323a7ec24977b048b9879ab464bcc146cc824b90274ddc0d3ee3d2931b9cd88d971fee0831cc33ce2cc586c3b08707b7da5b23702dff9318ecd14204154e255b98df6bb54afa0dc75f4db28690d4f3aeee74e43fe16dc9abf3dbeb0f4a09126e32e177eb6636c1010a15f0aa875b657ce73b1736147436db27a7694e7dd5975cdf3feaed77c9ec28bba1acf20033a5ebffe093c6acd1be65e6af711a782dee197a3d9e9d5540fb226b30ca1a0e68428188ec1177b145322519b3edb3d807ad4aa34fa589abe16d02e4f97a3a8439ceb1f9941c8acb701c321e590689f1271be8ff5bf724aa600d8f57aeaf1600cac7999dc3bc97f28cc5a341b021db1b94f31fea0fcb34835e0c2f0ab9e819932f832636fa46cde49692c26f01932184a2d21693ef767cdb3e14686df7b7d0126c8c80032c44508d75bea4a3ef4f404fe2379a9200b6466993dee8a93f628bd575171ee82d05ba6f412e0d95d5075e983618201606221313eceb60533f6892b0c49448030e3994c6c4124d04c1ab01b9311dcecc8136594ca94c29f5c5150d144b8166f14952339302c8c7ff5f8f6d56b6f248c1c6086df681747d3b55c36b5e1aefbb4414f5e730ce4c90e7718b1319bc282ce57bdb8d708d3de7778f34c33b0211ac72077d71320df2c824513d9d8bb6c45c4deec144b6fdcfffa791c0eb7480b59685766cc2816381a7a760e184c2dab51ecd8e5f74a4432abba1dae3e9046922e5e8b33f1dc4d54f6e67a8b6b686b5b7b474e7c68274b0e166baf509b18751e82dc82a961481348f7baa03430652c3df5cc04e64e49607a80ed18235b453d897517992859163ed8338a8fb21f7cfa68af3f632b4a7a80c9c7320cf05aa2febc79211b04b737884984094410b6ccdfe5c21633eca474881ecf6058a65e8e8248886fde341cd022bace13dfef6ee1867b3613f1eb57ee3dad8ef3bcf151817289a8b748b2a54bc5f4787782bc546a7cb348d264bbf0a24d4362ec98e16267f637c4de70683dc472aa70b0a2db5677a9a03c3c22c478a447a1d6f372dd151e1cb22b8892f9fa3ccbd659f77bd88481c4837853da6d2c068fb63b919ee021320ddb4efff7462c7bcf225e66812a9dbf2c5c5322aadfae981b8ca0248846f57f59970fa641313062948b22015ad83165c8df5523db7b3efef088438da38b0e5442e791ad5b2fe05eb843efae50230e22b652c3783a62dd7e04829e953b081ae13b0301a71a8f0b86113e30c117fd9694a10cdf331b02b2d1fb142b927d55de7e97f2094077adf22e4dfcba878708aae6e38ac09a1449385bad8d81735a6a04f316d99a1ceee7dd3109d1549a0926f5ebf66e3c49c5c64af03a21b129f6575bba25d1ca7ade5243325b1682c3dfd840eedb44896525401a020fb14ed4a38c99c58e01270acb2335e2c82b6603e7a1fa6371220b8c7b2be43d362086afe4270aad512d440455499234dfceaca7274896559ece73884e32ae44deee519115e7eb5f94889cf877d53ccf8d3b262889a80e79d6b23fc56eaddf839e730824d971674e13d1839673723bb2b62a4aaeaf6f1481b422fab505a1ad54acd92ae3a97add3955e0e35125418f0b384410dbbae4d1badfed6bd60838aa7fe0b406a1aacfa153852c29d9a42182c9a89018d41bbd7dfbe522197dd5265d56caa879126ea9e7cf90873f6de6965256575f013534ad7bf231693f9fdcf77a440fc5fb81b244044ac4418b67dfeee3482dad0bf6f56dce633db1ef906a3462ad0731b794bde9ec4893c2913d728ff7ddb4b5f11cabd52f572c134bce755c83e50ac308b0a21e3ad57d5759a91447d5d5b43860d461a34b95e83f19501e5272a13b080a9edb71597c975e0ff9a233ece92e52dd57ac5faf44f8855316415f5683b0f330312d3c837fd8266b355c073b0405c8573144264996ad40998f76908915686bfc59077539719de31bc9d4f6b736f20ad5ae81b2719611e2183c1e5db46c44abe6a693efe563857ffd2d9bdea347eb49b5ec7502da9b7cff596db7d808c0b7a8f29213be6cba383981110724c8e282437d14632cf76e5566144684b6f8d0326c9211dc1dfdc86bbedc1ae20c3c7e1cdd2918d403a3f3f17dade7e7377a246d4075306cfc17f37c653c10b6b61f75eb358ce39ba3ffdd8bb68831dda0ef410294f5da41f5bb648f6fe95225b05183790de8d73aa70dc1d5b660095ff4c7319e21eccd0aa36c53376df730496532ac2625e70cd6b50b203ee4d9da2b6c9d8e49dc6dfa61420829523a1f84ac98e43640701d09c1cbd312fa1cb20e3d1bc4379a3f25630c69f12c5bda5ddaf32626838024d0b0d200aa465dabc8f1c1aa36121c3500ca823851bb097a1a66e49d66a51a3820ef25a184a467e92959f73fb53810ee0f917592862f461ba443ae4ac79cf5a0130ec769b98dd3454362a5f28c166df41ad2470fa5276ec303eb1e4d10a119c0ff156714965534e0c6d373345d26e0ef71e3382331cc63becd5c21a04aade3aea690b03f2dbc0465df2b3ae7ae57399c1034a2995f2eaf4919443afaa92aa9c94538bd89d32ff5a5dfe48a621e76dbdfce80cfc6209585a275cdfe871c691c737143acec5c265c643e8dee9b10294882bae408c4bba5a3ade64a9df6f5e023e8184fd45bd5895971467d62a0c7c7b5354950c6a2f9182b50cbab2ecfde1cbb189169e6bed11db1942154d10245dd97dc964c221213e9d3da27c44e6417ddf5add96bd04e5613a90a4104a026d5b7ca2d1d0f468da8200fcd774e177d2323360ef55e00193c595ea850b710fb60dd38eb5f9bc69683ff762ba325ef9957dafdca4fef39d1dd6de1479a52751452688f1f8f4340c39a1f02076cd49800bc2c0dc32cf42289d1bd4bd54890f5f5723f0261e7a7707a93f1b97134a0c667a3dd881863c8fdebca3feb9fa5e8152012bd4df42a32f6f24ea28af551e39a8dfa0458ab897201d04ff92d694cd37491deb5bc1c277862d1be2021d63ba21dc349a57eb005ac105d7944ec907b920c9529c8a69738c5495fbb5d181370510c0a040e9560e37083b9c8d92b67c04c8230962d062b2a58c204c9d53ec1dce58702911a639ee45ee581fea107d117ef489b1f2fca51d88041fa92e152c94298686cf462bb391917e3b4d1eb9e72beae971b6ae17f399e56fbb6e302b92ec120d6bb5ae62b0e13334df25be85b089c264b57932b0101b563d249ef963af53efacf1c11d599b692d3ab1a8048046c93c918faddd9275ff9117fa24d2412ef648e51a4cbbab58ec971ce646977897f7cfdfce9c6e6206045f7a81b9460e4a0b29cf7f49c30b2719544ce444f4346a8a341989790fb0ecc0669bd91e01953a52028ba54d4f8a4ecfeb24877d81fae62482e03cfc3de3b22c567eaf58e449ad90430612266f5e8b6b47d1d8813c0fa192ab23ca2fb7498ea16b488b131fb82742004353c2fd7f92a41c67843f0eb3595e7669a7ad46a8d057deaac2f6f0e8ce10562bd5d208e8c5e1a25a433620c437e0e1be0eeedf73712fbbc2fd3d7aa5fd3c0005fd6bbdbcc9af6fb303f98fee2171b76a57488baf406ab807ee3e7ce1d254670ceafbb67bbc0fa965f070d3ca3db9b30383aca761183e5589856c5f11960ebc30d0be9cddc5c217d9df053a091642fcdb62fd5ce82322df4fd70fff165fbf4c4a1743d71e8487fdd6d0043584edb878c0631ef7964104db4643ccdcebbdbc20be1ea4c8c800c97fe6bde18250d2fc22a243b7d71763b1f0a7d659662178ce9a923e7e927429d674d64667c3fd39bf7cb5d8868490ea1c2bcc26885988cd797a7d9de3c128b99ef20178038b79f2e2bcbe4d9b9fbda2104d50917487f4f27caa3b25fedc9deea309b6cd5cd2d33fd345d07da230f690c196fd90d7aa67666d1708f1acba0f8c9457b0c1704fb5dacff1a7242114971330e00d1a360a7896a6131a1921d50a1ed77e6308217c0e0603f166ad715fd3f0d9ba86b7e4ec592802cc00b709324f4cb295038d3e199de7bb063ba6366df89a3b45008f98fc0884ce1f0b6ed4d17c4eca4857b13d4d01ae49047f978714844cbdf805d0b704bb3782a15a9d9977b92b9744296c15b2a2c653aeaae5fc96e2dfc691728e08f635c6a10358390993480ddf1c511db02b6db26ec71e3469b90db10d106083962ae3bf3a8b723f667ee5f5f3839a089a9dbcd566b2acc89df162addf1d01e4fe6e24f85deadc73e9e34def688a9b63738fea2bccce480e7f90b9bc3f1e5ed5200eac1709b2837a2f3e591f307f6f409a238ffc49bc3cc48b22d0345fe2052cda294798401de6f12d5019facdda3f59ff3faf2f4f88a194a7772b74d4faae013187a43ebdaf95f4cda6e2af30d991c2188d01d5184abbcdbd50d9f915b5f32c2d445c3f9fbe874224fae8d5235ebeff80dd7a4bd64ea0c0b37fd5bc4f1df7289ff73c868871204d45f9f1c70693416a4401be30375b2fe7d923095e94531bdb179957a740cbcaa1a4729553e902c35ceb50ac1ff2828737eb6d55bd952fd43bb1f78bd93bbf024ff8309767b30cc065b6a9b7632e775894d2df20a0366f89730a1c21a4ff4e2299defa8953421aaeb432c2a3a3374ae1831599151765b0eaf6961c7f8e0061887b84c8703fad70220650103e1155077420d4802c4cb9973a0f72ba49b7259a77f9f5ddc45f8dcb91b1ae07a96a9f09b050cfed525a44f321abea31e3c31aa339ab5a7b377d10df8daa4faa4dca35d662a6c386811808fb0b78b93bf8ebd04af859f8090e82dee11adc00cb562f879b2ba31dcedbabb161d907d05807170964b02c19f54130f8595ba4bd27469e4ef4240d8deb395f9e07d00cd183572abd69c25b247ca88feea524e2b5ae29d82f2bedcce8bf6f3daa57200624e8e4921f0063468f90b26adf0e49295a2485c2a713629855612ea93db1c48792deb7ee4b8a64be3de1ad5a393141d12239b778f1e0d32ea811cce9f7e373b10b3282976af5216ff89b680a07d7079b93761802b8ff0c5d80e410b26cd4375e017a3dafe57008d013d6fdce6c573e897fd7e4f4388734252d8adfb78f7c1f199838e915a65fcfda219ece2847d4b8031922c858afeebbb636e3a9d62a4422bb47a1346382344942b1e88cfe35011a5451936f0fc2e16dc7253f3b06cdc5eab4e925e07b79f6d3f62147e1227daa23d781766981b1672ebb0d845a0cd1ca0cd4b350af96d1b0f2b7b5d0562368ba28e4221171930db8c7540d9a17d95502f14cc517172e6f4e0bb11074bae822a290ec087352d70395b151fc0e9f2aeaafbe275100a46c3ad77035b0ec6d9d2b1c3798ac362dc8dd1bfdcc808ffb18572f98c30dac52e1964d1b8c1b18eea6b89e8acf7495109ad0e23fe589f2d6f1e9b8ce5a1bb0abe37c4faedef3e2f6b374273312042fb5ffb1aaccae06c6c8f2bf8d003ee1c7a9303dca0e838c7ee52f9101ffdf91be863bda324d105865335f2b8c366aba217f6399edc7e873d454110f5594cd0896ea1a4053c079fe23a8f614eb76cb39fdb669fbe7f2fc8ca8a3e13167f7d1b8c5617684fdfe2484f035205e2dd5a84e796dd083dac0e24f64989faa2e28e994b0ba35220f6ac09ae683a3fe288a118177f53c437de60fc950d5f98145f2c1a2927ebbaa99b8a7b511736252432c668f6437ce68bc08cb7c81e4844ca61dc92bfe57f1b67160fd55fe66c0fe86bd754d9ec206f4a3090005a46f6e1137115b3c97402597e9a41c599cba4cb73e1270c8b567d18f2c17450ea4ab1e7116579388d0d144aaba8f586bf849e9bc94d4de12f31f57682ef71a9c9955b425d50dbbcd90f45cb6e10edd4accb40d5b1dc9b4fc71e9ab7cab216cfd375a6e76213282480358a5d84a4c8756354ff4c13e71eafdf4323556cdd2f3954aae154c79382244a6e1c4e60eb73a0013ac935b09a69a6c94a411e31553c97c3304dd0864e0d2da3219ffdcb674fecd75b1f5d3be94caca57dc4e11f9d659115954ad411eb43d279bd99b32d3c28a2f99625d0dd32b5f9daed9340eab7a8b04d60e6394705cb21ade4aa5fbb8778d0e72bdd776c2bb61b2c63807fd3edcdc11e08bd7c48b810ec363baaff7660d187662bb16bbeca6fabb318991bcbbceba0397b8259ef708d71ad79d379157e75123b19db4de2d835bacbc351a8f3d35af4ad742247748d84347f078a8b57c685d57d0b606bd98c3b5816900860467b4a01772549d439a4061b388e02d435bcbfd830ef91bc0a2ce50c5eb5733e19cf603e8b6a65db965066afead5430d9486472e04e7a3cc69dcb0cc1369ee5a59ff873ddde596ae01c4f76119058b6404ff769db089ca8dcc250a1c48c1cc8aad1da0606ea282602589041640baa0db606b7cee54faf4013e08d10f7eeb9c5de6231e1bfba600aa8ebf74abedead3bd7f358fc46ddff9707c807de263ad8d476b2f1fe2fe614a18d08b122d943281fb1174ac24504a0c350f1c1e097d6ece19c42469b9a5bf43bba2112910ff8dc449818f4eb5223e13755ceb986776fdbb0a0e82181a7fedd79701c5700ee87a3b7044dad1a076b43129da12b908aba61cad7f389eb804dc05c138c789b3b0d4fe48a7adf3d978a51cb68c7c34952835a787f532295dba66a4267823c4f1b183d7928228d51857a0432666c6f6baaf1c604efcdadb58231ad680f1e35ebc750930fb7741fa5c5b298ed721cea6004c183a09b4f8cc223e448c70116a3f0bef124b1d2361bb27ad1a7a33a71219684d759127523691f744376772f35d24b8dfa0d5f0cd8343ddc0cfd6a881f81a57e0a8e3e0e17484cc5ccae38afba5d7cff57c762d03cf6f5c7ded31af890828feaa1c3ecc5a2333f01bf2dcd5b10f59f0d412cf1459024f543ff0b5e8ab73166baf7db91b23d861c5282e6a409005b60973fa81432128c7a40e85dcf444c93c78a5cf37a117f82a4cf4d96ce9d2d18c4887a9edd2523574bbcbfc59073937f2d86dc33787bb2d8b2d669c91a07339a20dd4bcdf323711305776dc13e0fcf1510f40cbfc0ff6ef48568f5ef600ca7d58565e6135c8d9f76f1fde7e18b017e61d66e02300d220172c538827a2c6081eab3376b45906313e573e26a05d919bbedb73063ed176fea2ab230785bdee8feaab3b29db5650f0fd487c4c99fb0a07476be5c626d099cca58331b7dd28aed18e4392b36f5868eecb8fcbc46448be2356b17d88efe59f2ccb6a6c4a5a82f59fe1fd57a190025d26a9d36041ff4ba5bea69924dfb8d3c5d073477add3be8c48a81076fb3c6254d487b4acc5d26c4da8fc6d6e739db098bf156b028a1a3f4721fe897e848a3a6450722faa207c566567d9ded15e7789fe7e7247b2904092b98d8c13606d533a3edf413b86c5269d12bd1fa9a36871f55019200c1e2208bebac849160a8c21de6b27d6ad4b6bf45384ddf8d7e2c5a971090764a08477a8016bc6b122a00b5795894f335824e70e27e729b8942bdb9a4b11f3511a3e6ed287db9bc60d0dacfd0a5f1b298d55f6e07e3c6b66a1b60d816d133af1d1921832e6392663bff305374fee35a6c6b55d4d710573281b547fac7a96eb20964f3bae56bfb8c0c48b49129dc1a8a0996de3b0c6b87a8fb2288f1fca90f08a03b563aacc4676e6f8bc5f402555095b8a75b908f46bc2ce485eda10788c25d78cfcdc99e352ebebf85930255c8d0edd503027564a019b2a38071d962b73c23cb503775ba7cd9d9db5db764fe2267397778afba4d1529212b5fd5c16a28d792e6a1fbc24055f9f8aa94352102110d6598474ed79662bddec53ff2a66059b5a58d4dde179802fc46e283fc7ffa69bfecc22aa7e081abf6609b77a377d650ea6cab018ffbc45b4b2d4ac8c4778dd48450357466b66d6594c9bed2ed8abf6a5b906ff96982519beddbd6bb095f2c035113d972c35d89a7d754fbe379e031f4db99d470804e2dc1259039c02f8458399702004ca94ed4a2717cb550f95e5c378c7c89c0507faf7b88816a2c19d8af721ceacd6c10035263088909dbb77c7fd51bed501805bdb9f0a15c4d5657e27e7eaa626c26559252e86cf8fea119e8389f9917b8948cc8a7cd593d157dec453c97bb2c9c706f13477985a1bd90bd7581b27d92b638e052cbdac2d6e603a20024d6bf89a6ed82afe39bf0a57f39e466d54150bca17d09b6e07491c7056c009660163ee987c8a372e1838244adda054bfd8373966cc67d666f66df80d6d1d5e99bda318f2cc3e143f97758842e6866cd949565ff1b3f588b856db76ce5ca83b93438162cc59235b172d286c89f31c1c2802dccb04560825ec95ca253ff2261695c09ca521f9d71962482107c0852403809dccea3c42121ed54d4aae357b853a3e0a37f1e8a11ab6ed3f1d34751c67b23fed1039bd18edca062394126fd8729991bcd7ee29b8e2bd66361a057c2830bb5ee7c96ff95bd94effc18bd9d3662394ad8333566ba393206fc330973f7652b4c3050531dfc96ee95869efd18879cf12f2fbb72593f144840f7247603d35e3569bbaa0ebc88bac1706343ef0cc95f7c871f30fa14d8856fbdb4243bb94931108180ce65d8f886136f7826fe071f38199bccaffee3d51708e4549b7491fcc1fcb023c59f9d8ed8aac9ad0dd9c1ca294396fe2238d5d6594b6a327bdeb46385333c475cd707db90a6f669ebc29dece41ccf50ea9d77d24acc00359ebfd3c1510fa1ac47a0d2ad6bc47ab9f28b7cc432cf53b5691ce2cb8d06e49b4e610691fc131691fdf3e5c9d78dbb7fe60efc7b501a41bf98d6c0c129ab5d27c50021681533a93e0ef044d4ce1a1bb85adef0d38b1f4a19219434d8e325ae5883ca3556038416b1acfef86156b85d0e88faf1751e95b7782f77f69622bdc1f7dcd86ce95b5042eeabcca7106648ef6207295ca5116d0066cb09da72c4e95e049bb62867ae3029e53411d0ae17c75b036b9c218bf7f1058b78ba38fc3e25306538fe647a5e8f7655f9f73bfd34c2b08dcd3f19eb1b3a8201326079e3749fd7fa43464778cf06d28e86ba4456f26d186eeacbee640f044829b6af03c9b24d2e2a2524d61bbf0e93c9e207ecdc62e17f1e09c5fc91164e1eace05130c06b6ecd3cb99a6e702b664d25e82d84d3f845bf53e3cd7e1a336232483108876975247f4b8e9a2ece35969c77cc4b4bf6a26c641448981e2d45cc351c0a81309109eeda76dabd98a916d0e77fdf5ca23b0884190157ff56c461839125feacbd1675123b7c03ba6fe1dfb211c864d45ce2debe4e24432d94334434bc8ab2062991310dcc294a74e03c36c1e08230d0f1c678001f456581a5b953fd8326606b18a68ae30998769df0ac896230a44b5393a7edad30095fd269418007c7ba83ff7fb31e4248ddaf486f0e7c92a5289d62b62b0c9bf67b53cc7b805049b09d8bb7cc70960a04981c1a5566efd44335e6dfbaab49cc159de16a79da22c4be748c2886ab0e980e78f0bbf146e79bef07e1230be2d9221b8436863dee1cefae5de78b963a11bf49a36600a1dbd6715e2e4585c2a11d2e135167bbd9b2c194a2318329f90be72ad7175bb28ba103092af07a68e04cc06357758d14486afd10972f565608ea77a5d36a2142aa1ab8b64014d1e042eadbdbc5594bfc92bc751f6cbf904f9cdb77898a73438d2b883cb07a6c1faf1b55bf586aac746b8302c8e54d30a08eb939cc0dd8cae8d0bd7a022fe121e46666a21637fe65f723a2d7b42caa47e932551cb96e27dd7f2d3a6e34ba92addf4b67d1b0271f4f0a528eb5633b6f646a93a1b4f4250a84f3afc73b8de8e7ca129c22a10a2f1e12a3427e5d042f0119c4efbbe0598d7d15c9146fbcf2fa1ced20b4c34b2c483108b5d2adcb0d4e71f39706b5060173f83e54611c2dcda49ac67d096b8bc7202ef92812f517988cb75b6b17342fb59890ed839d907b7d7df06858d7c1e0b8e9d63d01fd21435cc4b4b8376bbcf06dfcd9862b194810f6c58bc1298a188c1727e6e12525d068a74d25dd958d5c6a86f69923dc86c1c6cbfbeaa0e8f7e69d8191d86ca80fb08fdd6a8ad224a44195f29572f702a24e19e90b82302e507f095b14a49c62b09734ed58d165722df9cdf8c6480f992e93e66abddbad3aec11a615918b98b860f1250f08eccc614b9e71c6e265c6f46e637a72111fa83699b33a8df4705dcd853fea9b8a41ab782fc6a811bbb6343182fccaf3e67b90ece94b43256c7600e4346189a480da77cc816178f63a3d769c82dc4ab0a7150b11329f867af724fde681b34913248c0a3ca57bb2458e86c8f90d80f0446c1568c45775f09566c0790d4fa57a4119193e0c86dbc9cc896d23eece773b7a9c48094c7fe6debf2e6620418c65f331cfd3a5cae178560996f00b8d11c84877205dea8b2d5ca0c77897333ade2e6d213cfc39e553e8a18b554e22d76d25823dbcce3ff654c64ddf001af01cea4ebe80d3b8a445a56968b1b64d774af6bab670103ce480403d0ce0ba432131f932f4d76c362ff3e544b9f7b1d07101c0787d6dabece1beadf06382dd1884a7ad81faee5efd8ded6c9d7217158f54e3ba199fb7a1ba41026f5eb0c56717a297749a23ea6e50de997e39ad3d0c9e30e6122342bb855f15d7ebf3c1efe721ff11823a60c43d7a6089cee29c1b45d1e070570ce4010794cb5d6581d0eea39ea00d7f00821bce40ad3c4c34e2be48c3dbdcebc2ace5dbed96cc040b428f5ae9051cfca02d1e27c336200138069e22a84b1dc0890a5b82967e42bc612e1ba68ef74e4eec37f3b2ed308e81e74c60ed4a64ad9f94b9237c19ab740ed453f22340f5a5151c72c637d2ebaa3d4f197e921a348d68a195f9a072f140a452984055a48d136282a19f3ada86e8cd415ef49ecc86affff1a8565654ef443891e97da8dad82ac06ba5f521bd7f2dee152647269da12e0d1dec20a3b20c04ae108a73df62ee086324533350c6b5889c0189f7c4e246ef60d6577ed86390828c8fa704213e8c6c16d06511a7ba47d0f3dac279945fb49a295e41b5842d016deb62190d70aa2c8c39ff846690ee31daf182d24eac12710ce903b5a20a5892998ba9d5c1a4a862b920b02bf152b0be155524faf06d05a0ebdb070c3ceaa36bb20c93cf4e8f26481fbbdd3cbfb0bc53ee30ddfcd7d3a90e3dcdf1b1b5fb43bb83a26b71cfb346c3e2937eaf31bfe8146f5e5ea0ff0ca86ffbb05b1ec9411344d794536cb1abc95e6b9e312f52a45ad975773b5e8c76fcfd848629382998f72e72e7f4fada8020fbb1765b909e04086f35bcbefdc396522ba99331dce07384c66b272e2a43113b637f00ee1bf68a9551582baa33c281d9f589ca0250535ef41310e8c89e2bed3cf35bf73c6cfe513afd3306cc71c5614c21a5541bde9a431e69cbf5d44750f7e28276e59966fa32de665bc653d368d8c378267c3654d75a61f6d7aa9e9309a6fcfb34287962d27889bd74a261d18ab81cccc374961b6bec4738c07f83a11b0003f1419143017fcb941fbfbbbb6109f65c122320399eddc6914be5fecaad4e5721f8a0743309d7a9f852c40cdb89fd485090189b37a3833d0779745854ed3adce836964d11529789684527e6d6a5f75c50e9edc31ea11a2405baff0d451a7387bbc0b8328632beef3b26f5a7df1e034f658095c2f485c398515d4085df8b5151c7a1e7419b2032ead251ec828a904967605eec95588fcf27b3e785c1c839c74895d006d9d3eea0c5f8b2269c5a77ab2ba04ab45b6a21a120a5f4819a3c586fa90928fbfee5af2c7bcb8c4320d6c8f06302534beff1f7ba9a12a2d8ab7b79db3c4ac7f1c3546a184c2efe1cb533e31d086f4aab9a3ff9c59a0a164ccecca0e8e2432656b93564cf92e8192d0bd761505ef50b58a58ec3de84f2f09a5e267f4a7ae398c4ffc5abfcd7b5bfead95b4dd40c922b583cb55dc49a00b64a2ff9e45059e1b6426b506815388dfc5d044c7d2577d6f32d964453fe972d34da217562198eb0791ba58793c5b899275dd9e14ecae498f51b1c62ca16b7ab18dbf853f25d23d51cdd8e9e7da80b7befc632fbf34c01947200fb59baea895a020ed05112ce2c94d470bbfa651c63652b5e565adfa4cc87be8e0c4f56e09aa7a95b2aa08cbb53cd49b0256506662ecd8209b99908a03c9a32b6e87eda8e61aee799820fddb56b79427203e604982168b166053bd559813bb6a8f70ad883947044aef38241e1e56076939045e76d2c5d61bff3395a00145f5a7a76199b4b99ce7b42ee5b0917d4ff0ce1fd76060fc7a3c7f0ea7c1d8da5c26eb1e5669a6ee5aca49ea3ea0eeeca65083bb3802733c651b91341c181f4e3a1a44eb7a1ceb51d6865b8d0e5dca9e5cfdf30b7e78de0a4885af12215abedb1299cffacfab9391a5a4f4a18c04fefc33e0450f97b742ea5f6bdfe15058e5f948db7e700f81134e8e57920b23c3ef528fb139652245a791e7b0f08bde4dcf61be19e77fa93cb4503d2e460f5aa31cd654e1e844702145c4c3a1c06b6d56bbd0c9847a6b07bb82b432cb8a5453277bb5bc0b5c4311be723fe48aa17c90ce0427371e1ef8ad19b1f16968ebcd3f701d49bd6ae8c754c163be23563fc4957e5f78def36bce79ea8918476ebab85d9a52c305892ea2ba0866c4dcc3b7775da33c03894d1317287d49ad6f5f3a02e4e87a31c0cc6cdc459b6bf1e799a4be0e9352f50de9732bc26fda11936b77a36388848f1429cd2c7b8d22df7e5007ac5935bb4abc4dc65644637de5ec37d15d4bac2b3861438ab6d8ab320fd665730c28c2792baf389f480970677fcd693fb267211c33c4f81d5e53778664c17d97f13ff30e7c53e102d7f4be6202d219effc6dd7d21f3370112bd3f209692d00b9c11f4c9a95093fc45011c35963927e42b5495f6585012ace7c75f7e1ec09494221ec4ad96ef3f2d5a0876ffbaad8715ef9fcd75092e9a0a43ae019381f5968cadc23582de811ff493d262f1049f9f2f35e9aabd6dd786da0038f57ad992d08b0b6b54a4f09b4229eac90efa334ab15cc0ee61d915d5b50c5e7edfb1efaca3742d743a78347cb1d49bd540e11e3cc929cf92167694e054f02a8495915d559f54aecb7dda166f6d5ae5630d1c537f511719a878a752954bd106faf40c1eea01a81923416703807fbfb943cc27054211d8eb44e20c563fc7ed74aad8e8122b337f9c4766a16aee265525b08354e05d37368bff6ff90f647661c1ff909b45e1ffb1d3285ce9b19a9f34b12e7589b57f00f39966c7dca5d0d640c5de85ab65dc291c9ffcab7ae84090631f3373cc35c52697f5db4ae8ff0dd2caa0baaa59a0c0fe267ee13d40ec345d9ab9f402fdf62f631d6b0d8eaa6c1e588daf2d6ec685f4c1a4541ac6a5b5a2de4dd5a337129f394fa54004f1e6745c1d43fb8b0737f337993dedccc5d5250686715ccf80a82cbed8723720a569ad892603af3c613cf2cd45fd1c53054d1ecde81a2e51487d1c3e9fbd596309cb37445ffdca8afb7be49c0ec63a03d6011df296a3380e2380933b22cb4af537cf5586066e8ee2203572e8dc6ed11534788961eae22b2ae849a3fe198646417172965d8ae1a40c4f8f652c4ffb9f89af2ede0f4c6a216270dbc9d0c47312aa20accfe5889a5e98181e117391e07ac29c35ffae9de98e0e5595abfd6abaf9419b4f6a64c333b4278ceb0477bf6050d93ef21df993748f670823d14811c167a2e0c1a62f2baa290e0707cbb0712850cfef8fe6f603d6badcd4051401167f60c9943aa71d5ad94734941d882d41f762f202a6968060d13037336d76d43a9a51","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a09028e0b5c4edeccd717718505802d5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
