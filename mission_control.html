<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d92600381985ca9ce29e25fe10afab0fce30b62b2d6fd32bc7254d092d358ecde30a2e1c2959b764c5c3feef8942d158dd284647256020d2f6c97a3c4f66241004490c5e323367352f9f2c6bab7bef86b3ac0c5ab09587f0a7fb12cd75d803994a35c4b2ef21014606b2884c53318feeb79c90e90892f94d7674b883783a5336b466729524b88276a58df8fd19d5bafd0de2e13d3224e63d6b6b2319e434ef5ce051599abfafffb23f25652621a572ac0e294cab58da6efa7ec29856e6e65db49a555b9323009dac32e2d2187b3337d03f6c18400a8a76f7a9f6fa2e20921d76f792fbfb33ea467e6d53b6319efdcdf752528820b49018b2c7540def430ab0d1002b5368fa9102bc5044f177ca70e7e72ac2d96e21f828cbc3ac4c06c3a52a4f9814091abeff829149f9cc09e13805c93c1b413d6ebd51f0ae0f412ce840873dc880c8b01a90a45e2ce64bb0280b58eed3748171ae7046511f6d5a4d535c040549e0bcf2d84f705292f3356fc2b35c94b58fc74f2226083958d66e54b039fe9834ad9e86734340eac8b139ac8f6707b9ce1e1bb39d15c8a1f43382f178bdbad342100b01a6890cd3da771d1249391c9fe9b308b3b8cb42864be7903e2a78f1a3529f3a914c1a3c66bec20b72ed9791587ba4c13af1460204354c87f1809e7a106e905b856e823545f619ba0ea27ce28a3cb7f9c4eebe1f141a04ac59b125ed85d014b222b3c6a94930560b386b09db40db1390f2421b92bc28a9fac348eec55c206474a8e883f8491665b4eebbf34c01c09376f19f285f165f640c6ce0a3bc39b2ed8db815daeb63944f0850ca4ff7bc977965ece2b824b7851bf1fb541d8a14c093422748fe7e23b5bfc5fccbc09104f025c4333dd0ad6abc4b4465266e69c12acd3097564ea1d5a4059c5cc026f634e9117ffea612a29f1a1bcebcdd4448e6345be7e8c753a68c6febd1a4bd5ba64c8d3ff69c70079ac2d00534abbd104b8e824c3fdc57ec0b95553318ee8a42f35af56d9580edca410334612b61254c5bf21e07a10b60c2d4e4882f41c80f41cbb86ec9907d7ae2aafb904ee0a9d630212f018ee0b091318dcb51dc918da62a1e6fa0b6e00647feecbb7f32c2729f921a538d6842d5d10bcaa9e41f51180e6cda0a0f675aef3d83c5e8f6bfb19f5b507bf0b124053eb06ba41b04c74798c329466e2a8d3cb9520d1f04cb875573e9c7132b0e154f61853640bce54d06b3574a09aebfe6b772c15ee5ce2d244872f470d43fd466489d94518ef4634e11210236d3ac7a198476d2fc62dd128d0cd6845d56adecb9699b491599afa08acf44491580281bad3ee5e7a96889f4517571760728fa1ff932a7d7d2279ece453f9c03bc62fd9941f8a081c3f8abf4dcdc268cffb6d415ee00dc1c9d336842829490629682ca72475285bcddce28e222f21bb007f92aee7ad3e2c31b8c941dee9d4e80d93675c7f7e10c1b06540a76533f8debc7e73743d37a19fc688c4c91543db862cbcd775c940867c6924b011a9c90af5dd4de730c4ba4367b40b1abdb302687a9d309e0a4fa33680bb0e9a8a11c1deed1f260a742972af28ba8e765e473420272c6608d77f43ed75a61632128d01ceb8f31f2a16acd316f38c24b44469bec3d6788acfa06b96694ad43c36d11fa0c21de5c8de12ba35e721b92f1349d87a7628125e391069e9302f63507ed647818ebb9a0afaf1dc53e92fc6a30b65b0f7289feade03442eceaf2d5ee6ed6b52f5aebd5e666c63d7614bfa6fad2d13e7a45681f3ac3058ace0d7b70ab8b04b48ea02f78d2dadec5ae05c6178dbd048e2886e6533bc372a3b116d95f5e175313e4ad28ac59d24145fe74d87b0bf966e427cd9e14e95d58bc6bed6043492d271588792cd7ff39e194f059fb4b025d13a226ea4e6ca0ac315a059ea8ac14cda95550eb0ae6f74358a65939b47da94b61de5d694e21d9af07c5da46d38a5965f123214e6553ef97fe7ea03ce4b9a88d5e15246dc1251036809a7aba55c8e98abbcd4269d5e2c1936b5fef58dc984ab30c296a9d3b19d8afa9679a7722e7bcdf1452203cbb101de6e8544a9cc8e2508e55fe7ce18a5b0fa6717b3badf30bf6b8c59bb1633aa4d2c97d4db542b327b1a66dda7f30c738d4cadc1dcc73caaaa67895dbd66e203396594edfdcf893d96ebba83e0813bff4708da9c9c30e8c77f566a0bba63c9bf7c9545d4b1f4774d76562a423c6348e4112e53a542630bfa979bb53ecc0f38647d3cfc6af6727472c943c73959642336fd9f076dc9f0d2d1793e155667403d8021b20b4f39af6c64170be32b4876cd153bf677381c3997f864ef0861581550241629f0915fe8d2f00cac3e496816de5fdd87026490dfdb7fc7a7abfe55c84a8a827d895cf7aaf2b2d77af20234b2335ad3e12c9f72559ef507e78b18a472b03f681dcc35aa44d8c14d2338e8a4d84717c0abbbfa87ec4fcccd3b919e7630b303bd60675ee4ffd817e2815df2e416ccd6a73ade59d4424c902006426d678342f6ff212f1e393731c73a13eca9addd59321f007d1f8e62ea3364f82866f17499cded39e317865dce6cdfa3a09543eaa3cd3e9d5786bb8ddac57a4665ff35292bd625c7ba9e03462b0b0c86cc3aed14b5cf04a63bca9cf499cad39a6e7eb92d3ae502e01e14879b1909fb852a07d0080cdbb3f959e47ce0d0e4317c274659d5dc2b0a18f748d4a19287b5839269fbf8748dcc8153da53e346628de4f81649834e57ebe8ca5d78681174abd8a487992a40aba5c7f807082b78f104f48ba8607411ddebe39e5b390e664848173b508ed57177b7f387773befe22be343c653b9adbdb9b0f494f49ce6287182022556b1306bae0cf726ba547715d08f5b514f66c7083f09bbffcb1356d0d0677662e6e2a284b24ca5b148b81af12e2610e6c08fe2e077fbedee58af8f93db3271cdca6676b3230f8cc198d77d18d96e8f4e1e8a1cc1a31cd02ba3d4204ac164443823db52ae94e62f7b6af86c3fb24fd1a1af75e3d532cd57e724435aa2001167908871d1dc6a4d00d27e0fa9b111c41a77f26f3347b2e542d5e4f6c0e50518c6b6862f9b178a896d775e2aadca560ba853819bce40deb320917f7a28ae991967cdab1ac25b8e08de71a436eae8e0c1aa0bb453554d16dd60a15d014a29eea3915a7a2a85fa4f309e37c94acca9cce215da615b91472988eaad3007033919062d1f2b02f4854a400e515b66a161b6517a5a2cb81e00ba0d5dfd00bdfe26c97c2a954fa02066093da8834531a07f5d18aae67a972ff867cbbe8e4137408f19717bf27ba5f98e212f00d5a1c5e64cc3b8fb5f299f04ac093b5b4f99b474918f1dbd0309cf85a4991a65652daa4b9da5e3066c6a5531077bae85c1bea4d55d83f13f90069795da1a0aab65e42d94106bc014dc58e04e442e6c71164a7da9acb76ea72d8fa0a66532be7c4d51d48b66b2161314502aaf8ae5592963401e356e0e00368c50ba8cc344ff327e4add9c453cecf76f2d72ac9c709ec5b21fa527cb29ef9393a28c3c1969095ca1eb3a73a4af8c104666437a160f57b52f1649e69d6a25478b6cf046d5d681638a86e2f40fb344cc3ba66acf5395b0df6dfd4ebf4b7fd971a076b4136035eab0c7c48400c63f550b2977c330efac0a99ef6b416bad1b4b24a1f270d7e1bb15b4c57e6873b6fba44c2e85f2930e727ccc6615c110a6974ff8af222ac9316913697372884fcb8129da4e18f7f9f15feca7ef542e3f3998153ca28d3d39153f5fbc6c56b0b43ea4f14ba0d212dcb76e9d6bb50358a44fa9f319a022c168c79c99444be749e4651332fb4a2a71f5b049f9cbec8a03299be868a7ff3cf9db80e54dcb28c65197a545f670118d5555c90c45e538b90dda6c28bf63991bffcead28e79fdbc2a7d5863ccb10902b09ba4bb21a7c60c69e2aa637452270aebd4aa3036c15d1509b62b062323ac93bf0d55345309f145e87760d2f440a01dc1e0553492afe93518723ea9ff2065c5839ce4553aadb9e20e5108e60af3c3449d19b68cad3f2cd525d5df83389480b66101e0c27f8205fadd1baaeb892881e0b33f2cd74dbd4860ab116fcfc794425de6b9f158749101746711430074f8c373d9e47ea94293348c817204816b2ea07f43bbcdd6dd9789d2ab33061efc856e4b2cce9895b8a8d39ac8177c6edc26e8c9ad80a2a38c8fbf56ed64b29e1d1833cfc60e64c70baad05d314b607e72258008b846f4f976eda91f9d7a39adb5b7474133cdcce2404ff49896d39dce66b0176e0b39022ad1b65a605bf6cadd472b959631cbf2999ad9e252df15d69e12435613eb78650dbf50af5babd985ac8d78626d3bca1f1b0d2d167ad4d38a6d9f800f1325367d53d63a5a018fc0dafcb8ca1325b40acfa0a68e57a71d9bdc8e3285fb8336ec8d2e75bae7858d8b5e959d01e107bcb4d965402857fe950e1adb5897b33cda13a0b0b01462beb180a257cb52e0485bb03a028342eb5e5312bf2c1afccb302b132c3da81c365824477bc6d4fb3faa7a1b8f046725da4d3143e5da222315f90411154096b40d8ebaf6407184b751d7b17ea6ce04b5798619e65ff963a9974f320990c396114a0a5c72fdfd14bdf3e5dfc9823d2555916c74de313b72979919ca61fb72f07edb1f62f9ee73d5718ede1c24f937df5dc74db5a40d01947dfca218199188392d76baee937e1271cbb78a969c9d6353b164165010d671f97c13c2840036bd8ae13039f0c69dfbecf6dac544f763dc78c9642fc08035d1dc7e218b31a92d091bb930879ce999fb0017b6abc28a043ae614265068a393e1c7a4e1eb737ca3fc35511f8e8f05fcf5b46ab2af3636250a241fcfb9c0d55ca021fb2b1a3e79d66b82cdc3a1cd70feb0d07809e53de8c3c207640d4a56e8e8c7bd9ed7f7d962ebc3c6c29839ed7ed5d6f6734c01e2406d6aff8fe803e9e8a6eafccee1ae68c7036bfca4a2425d98b967fd2ae9fe23e8363a0ff90844f0a86f6b7f2f0ffa893c9af4aa77de4d118836c8dfc90966a2e21984eb997081772bcf4413a5a7bd9caa38f31c4a3a76989dc347163ae5f5bca7f037ed54ca7cd25ac59e26c4d8a9b4d8c313e155287af471ca361b3a243aadeabc3cbccf259d2d16bd462430ae29ece1a09c88f977cda8e91f6c82f4873c3a0da19c72eceb22782556b5c5c196724e14fc22a2deeb22f64328487e7e030af15613c80380748c7dbf8451df78237abde676d3c24d613dabed49cd2de4fc4ba58b9dacc6189ace33182d05f6344015d9128fc82b3e535ed48c12cc6df2d169772c3e8ad90bdb3f0a9a750369b8e84438de71425ec4b8633ba7e1c364b408bd6cf6f6176d59e5c4ad578aceae9109211a8e5eeb46ec0e8fd64a10c84fd0c5a01c8b92c415b7a53b6168975e9ab081ae1aff65cfdda3c0320684879249a8f3c6b65f648a44ba521b8d19b5f4f210322248e0cbc62cb7e33353a6880d4f6012c861887b82e75509b18d1d996d4554838835e540f32eb87cb101f73605cce84d552838b8827a93e6e845af37a9ff22fbaba2883c9108e3f3695424e1c0334321d9dd0132b2329326b4d858e2b8822bd65269d79aedb640f14dc3a2929f9ae526bfaf1c3542ecbdeda10a23b756370f885c836d7c03278c5404abcf008afeeda55c47d0e37f48848491b4d4d3565a8bd3bb27b516c1902ed87317e8f00747ac27e800f8b8ec1efe42863c3ab4374f59fcf9808ef5a57f2bcd86d7f50a1b6d2e343c43bf9f141ea6fa55dd2661cc422e90fb801a08f543fd72bdcb62dc5707a880683976115d50b8fb20f0b90f1aafedea8bc4874c3fd7a30878da189f7c319ab8f70f87d3405af65d43890bae12f54a0ac5d17b61dede33041f62de374319cb8239e4506e4b485aed7f1eb8c5fa7ec892dfb56167b7cb79bfa28540b79cf0560f7fb24d73510a92468a5fbe3ffc566d7886524e290655202c10913e60d943f9a573bf61f197070229912cc4528b658cb016594ad7f937186512fa2d7552cd5ee6967c04c4498b29600329d6b8dc2042d739fa8680c2390892bc5836e44a0428ecedb9baaeed215209d3e204932f839331b077fa48f1d224ac7b386a77aa59fad05b93b8ba9629850ee034c768be08b9948ff10395a2e6d9f055847098b69f991159753b542f51a2c75365f3144eb806aa759b465251687f760ebf29ff10241fc619bdd58eb75734341b6e83e5b1ba25ec857d0d840b694bb96ae7939c6171ea33a0cf98a08e29ac6a621346c6f18f65210f709e5058bd14d211fe9a2a9bb656db778f57e1c7bc60499725f0bc257a9ef6df18ea4e8560dc0d27317910b564e2ee6acd9f3a3479b75e2ddb810bab074ff350c0b519bc1577ded3f491e8aea12512db019b8d8257750f920e72fddc11326984745397bdef23fdeede1070f0773043ab043d7905cf7746d7e7d4ac2fe01cb3ee5c3c02ea3f7f5eb5cb21e38208cae1f9bb25f82a1d85e07db7d6d9e4b8d72df86ef38463968b24a7a1cdd79af8e6417bb5cb56bc04eb888c20940be2526ade626f9ba857471a506c058a058880946a39af616ceac6729445b915fc24f1d46c87e6e3deb7e927e6b5bd235c3be412fc201038c8bf57e4bdfd6a996431f47b64d544e8251875ee136e6d04e5c5fbdf28e3fe5aa0435c1d70d9eabf0f09d2ebcf09506b2e3352cab5331df1863d5d03ea2ef31c747fb328b0ee5c676a619116d94784a0a564c034208eb83b91ef3f2a037c5122cea9cda1f57938dd675c3a83f2b74d87cf9cc96f04730912865ee8a659ecd2546d6ceb7778a47d1d36783caa74ca4cf14ce50557e7266f0b7c5b5a512c6ccb2c0518ea5e4d207dfd8cc33f19279a9ab5485227eea48ef07c67d6b987c91ddecae5df1a7708d81c95a87d0165fd6896ba16e3d295c39cb55d2ff869fa292b89b1a67aa128932128e1ccfafd463fd9b7d0437506c3ab0873b2d39b1dfe4435f36750fd9e06fb494044e71f4e47681d777df063870f5d7ab7cdb294057a882675fc613f0d7dbef168e676d393643ae2faa7b1bd4f05aa7cba404a791a57fea0f81a6c11325b10c7a8ccd31111d640d1a31965413b899c9e876b4cb4533bee0bc8bd44bac5e20b6df02b91c49e26a289f5f9537284530c4fb97dcb58efb631debe17bef8b17ddf24306a2d1feedb7272e68c8ba5b49d14d2ebab14e9ed3dd208c8fb27be8a6aa885b15503923abcbffe224c9ff224ecc80660ee027f9c9088eb1ac5d2bd785a6d6ed89a37d013591527eada3befd61d87e677b747a52465cd3a2fbc59549c91c9bbb42a830db5aedb60f05933ccf041feca14d64b97c27f34c6f71e8ea5a6b0fbc93e4c626226edd5bade35c472ec0fe39b63bac276d2d7ada8f5fa729ec4d13467048337c1752f3660b5b7fe8e5c04948259d9e5120c9964195cdf61a5488caf004607996d10636b3e0f927c9d97c077530655de1d707a5b9052f663a67111754c824a9dcf2366bf8d241270e1f29091d13c6dd91eb294bef2b99a84d3697c11b389e05f0dc046fbd78f8c1c2e3b2bc2d0aaffafe15e22dc63654a458288bb912048d646a5aee4d410a1d66498f5da83dfda17dcb3dcdc8b89683b537d758fdc9442453b8818cc7913cd2e714f26d2c5fd8b3e3bbcf0469512ca72fc5dcb558385bb5c6b4995cf8d89df78cd21ce9efc566e035640d17591c97e83de66184dd9568551e4c79a3cbaf62d4b0c2056cd855b2fc7d6609090f0eb932e589dd2115b9411e55c1f03f1b6ff66ac45d6fa500d3f531e4d00c8e44b9d7a33dfda0ef18615adce03084a641c57c08902854c82989153e7641ed844dc91cf6d9f590be72e3c87209ea4e149cd513fa20c47cc3ce13b2df53db28f04b83376fb5cbe201ba39342fa7f9abba6274b505b07b1854f55e3c03f20e064f462fe18c1721bf9c6babb558f6754bd7048ed5d9fe663373ce79bc1dce07edd51d22a86e438959ab61fd3723b6ab3e195a1f48fa017ba3138f70c37a7d06bf94268b565e5de6042fdde0d1bcbf2b7d0972d2615ae34f346d09b0a8a8eccdd3b9ded35032f2ea5e0634f20a178bbba72a171b643f4535267fbdf12f24a966242e0cb14adc60f3639d95608dd8f9b681ec25505cfd17255b9a6ec42e88176ad6a4c500803728d776ae8cbfed9871b48897549154967cb69de0fca1060c947448cb32d3edacabe6ce8ca15690cb3eb625daa276d4f1480354ee7c54b4fa7c1f1ca6f3cc4505a6a787b0d8da617805cb39d5e5d8ff0a99404c8a54fdd12c13b38a3849d80164da94a0a90a37599bfbf8bb407e475f3a8956456b4527f6759fbc82295b33203619f4ef807a1f35e7dd510db50edc3dc1e0a660fd84afdc4aa9e9f49bf921017977ec5ffe9aa7f1ee4f4d36e340d1e1d8e22b917b34424a765f64fcb7ff61223c36ebdb2b630780081a53236879a7d2627df76196812295856c34c828b5abf6ba4622399880909f80b301486aec5904606cdbb0d918f1fe97568672115a5ffa53173f1eced8362cc8beaa2e75ce88568165fd955ae0a528fa9a1a57fae865adb3dc11d055e9b49b841bb231c66e2f12c3de2723dde9958c656c669f9067cd3dd353d4c97de7a739fcdd880fe27cc9d16e89d85e0869244abb90772e47fbae854c0cb1baab2eea79529316b8cb76ebafd2f80d77a6f9235bf29cef9f7e0ff0ab44424dbf2ce0df41cc46867c740073c361bba50571743daea31932e69ff8bc47e00c1da9902685a37c27cb568f7edb48f15c49d05152186d2d71beed76ec68c2d70e05032ad9ce948ec43d3f08df1ec749606e1f8a59efabda83d0623b2fcb1eeb6d5f2d48621ec9692e2cee442eb056b6167f686b71c6a5e90d3f9d03a29a7bf5da3182d274ebbd32d6e7c09d9062056e5a4cd2978c0251c6aa697d41587dd8ca9be8ff24e7bb9dd69b91edf92acb3222f058994fc46c63453d1c9c180e1860db43f8c9cb01bb3c39310921ebcf635378e013f0eca8add07d0163a735a0a3c212cd6e786c758aeaa453f3c1ec0e25a16974e289361a959656688695e7d6bffbf207711fec7e5d56704c67cf7f5dd5a64f29543284501157a53690d098d0e24dd946e00b84b74ca4b1e6c4ae34e9ae3aca06eef5bb63a4304ff763bc818288e04f98cf49ad856a85f323830bd8abbbe749f11daf958d002ded2680b3349fc41a3e783ddb61f5ac8882e0be0d18a7f80b860879f71a0ef28ec02af0c08a831fc141652ea8ed14d1f75d90b73678612428945eaed07b7b00c5a54d2298d8e7c4ac7492307047de4f8dec33a1a619b145b9a0345473f673d67be468bf4b69182ee21c5b6885e34f53298bc5311a8d614c91341aa5afc07a56c1a79890ef45b4d366bfe973391437a1467a1749a2bbbe4765620f9895e412157c78ce0a73d04fe3caffb1ee195cdf245f2a6d672f7fbce07415b76f46f98aae0066467dc318880165fb3b200f6f7df34e08694bacbf1826fd9383308d4f1392754cbd9933fbb2e62d96b3c0434e73fc5fb51494472cfbfa57f95b08b38362fd3de198680110f7309877c100c7ccd2f0acbcf7913036d86cdae72fbf9d772ddad932865fdf64cf0b0d61e4a4a7386ed7d5f2d909114c5582f86120d5b9103e934e25fffcb33723326ed9840a1f35f6ae3948860578e8801499985113335b024b7cced6968280bbc97b17ee763c81fba36bd5cf9e474f8ff9f639a1d88f16771c13e9934183e2f508feff0026c491478e77d8597e2fcd21463863a49b322ef97fce59dee8827e1bce16372aac7d76932707c5b6c4fd6d08937747023c46c126f733b52ab82f8804ccb369f63328c5ebe56503412de4a5efcdea81c6033bf1362f4fb06fa4790d73f2f74461c0271a70c26f1ccdd7ae6df85db453f0a541eeadd7bc73635cd52a11b930c49975f97d0d81b7156526faf2bd77074a26c91303be84770062b55e1b54ace7785b2bbaf914d3fb61a27ba1bb1f5a2d84e5f6cdd9296c6d8b4d3291b4e5fa4784aa49b35cb9b42498c44706a0ae542d91a016fcce7518479fb2331b65d52e086436c933a6d2866009586e43c9a9ef72e206c699186aaf14f57338d8b8629023b3db60192b2ef118d1b2b9864f317167c287f816dd7c8597fe3b15dd95db1c6c1036ef49e808965fd0e18d718568db39815d4746547083dc39baccf30c7e217a471692c407cbfb60ba33074ad85e270e74f98a1bdc775b528f2041b4ecb47f894e27a07f94d90ff36fd5334e705e5779d9c0a3a79c7f4fea30cce7f4a7b66518779992310a2569423e5660ac60127b21f25d90aeb2537fca3387ba099714b46ba389a28f4f73b035f1944e95103fe09ef3b576843393a28c98b1e9a08d1fafb37ff425361ba325712d12947bb2d40cd655bf39dbccd7368cc95f734cf735a63632c62078249ea7bb916758e04e59866c9de3725ba8b67bbd17ccd64d70bf2193b1fddcef362de02c13ab354b9512920c8f050bb32e98b28fd4cc88ecfc8723f8b7e035779e142d6e5800621cadd5edccbf368b0c791fcaa7a217665732f825e1a0d41fffaad254e6aba1f77632957d6b454b0571ecd2dc9236b148db9b9561757659f56e21ffa43731eccf752b70704ed28b5f27000cf0f3b407d1d99404af7d2e9f8bfe7fc2aac2e93e858469ff8f9126d97448c3c3147503e73404f89b00860ce3803f6322d40073819a06ad1e6b9374ace080dd5b1a6145819f6ef3f4fab376587afb416a8425b913a575192e974057de5aa1fee328bc0da1bdf741959fd8f56fee8c33c4de8fb376857c50d20318d6d41aaa584ce479c961c166967af87e4fa3cf172f4d5cd46d12087fbadf7b2f607c02bd8c2ef91ba318bafec8297416bf45b4c57493b2c6f28956a7fce21dafe9f704c18545de768a732f4092ede60f0a4825e92872a793c0726e46c794193f75c782f0e2632a854bbf1c9b52d5edbe0193d81c07cd07e00f7e768880e561ea0b5a61ecf518bb4358bd28a582c1f1514e8e02f04619cc7bc15b9aa599f02c0238279c3ad9a702f5243ea905b2a0ad22e19950ba811781462c778c2a691e0e06fa3d6ab0ae59d0f092f889f9c74afe21a2b49a148bcba6827da7fcc4bf6843c9ac98038e842c1e73126e97e329776e84ce4381a876950ab08b6e225c8c28bf3c86b6ada1b462f5c9f2faba5cc4e43b9c80ca7630ddbecaea9120f79703e3aae5f55015edb0e9ea31dedfcce1ff93e9027980cb786ef10474695aba40bf821bcea4ec83498b15b40efb8ad6dc7725298d738aa3b76e795f68b256e8f76d5424ea0ca3b015c819a0fdc4fa00845aec5b65969ca32e0adf0d12e5ba2e09e6ff7046a7c741d1b7289ca708b5178c4b5374436a27fca2ad44f0896ef71767a10a0111143c73702762b0dcbebd55b634857a04a07d6b47d1e550b8dba6717fd4f5a6800f0e2c591d36f8b27e85114018de7122f1d689607d031ef8f64491bc49eac089ba7762f6ed918b449cc14f501089b36eed631df3dcc0cc40661440ffc39e6a94037a611c73dbafd7f1b789a8916ac68098a21da08e157bcb386e05b6db0234fb0ab1b5c4ec6fe9675faae61469ef5eb2786157439ede18f55fd8557996757dfc8e5a5a23ea52be21713b26f845af9a6212638bba62802190d8075d480c8db7f425c9eb60557dcfc7de012926f35f4d37d172771ec12470788a5edd263258601069e1f785749a9cc2975a51b4f6cb49726f031014e39813233059952113b20ec876a74e1604df9e90230e9f87b48538aa101d27f4afa02601dde8cafdb6573dc5c3b0513b49f691d9ba16fc1ecdbddc9c29899b5323b4ffc546a9371e91893ed2cdf9d78f90131f303ae5fc1707237904cf42635f1b183226401b80e13f157c3dd547174f5354e602ff993091ce66fe32ec93870004513174d922b8ef213ee5252fe8cb989bb421b45716e2f3cf30b0f35b3aea64ae550facf2bf3f09ae279a2649fbf081c1ac0706df5af2812d30420fe72b95e4e94ee85fcdbc602a2ab78f49d18f9ad6a1505c13e253a7c4c7f321a9673e5bc05786a9731918b9e3685c4913882d477e2358a233cd3e303f326e900e7daed17b3a515d21d62c799d0aa8c2b0721546d6013723d7b0d9d482cb382a955576f7eb2cf130db5453e3c8f8de5a2e0ebd17cfcc7812fb6393996fd69618b996b5aff528a20e9326412a8abaf05fde48585399c10785e308226a739734ca2bcdc32b99c8297f1d82570b26845a57fc76edbd36dafe925a098200cc903bcb64644998469d31910b37b8e3d60a9886b98a8d299e3ed4a28cfc6a8641452c896d2900a1d78dc827df7ddcdf8032704265d2ceb305589216f1fb3271d0e8ee18cdfeab5bdb961e4ee148a3fe25b4e118e779c32324c0a234afdf052d5acf1d488049cc565ef0813e07046ffade8ec0674cd22ef1700707c40d2c175b3ca9be428ac40b8cdc0a6ccb8c762f030e3673e5a07cc7cadcaa3a2bdfc10dd26e25d6743f9ec3e84547c4398342d1a1eae3dea48789af5c3ad8cca1c0a932b743e1374f075221aec1405df2f121f6eb571138a4fd377c48cb22fcb0d936f334280c1232a742008c2a48a3029d27fe77b10a41ac167a4aae1cfecae9f84804de5f31105bba3d114b9c667e67875b275937813fd44824126a8cea3f480ce4152b270a05b53af1ac691532d9ad4557e146274254e57ca19cbb39f19b00fac098e6f8ace784ef586da457b01aa81d0ffef0ac6ec0ba0cb653c2419f420dd9c917508fdb64895724b911ec3461bd00cd5b856362d478e07adde150d4e52d91ec6f6152c40a02214cf2e08f5e680db8a6842aa4964558e37b57466d84b62a19f3877382a96b7c1ff2451bcc5e6941646e9240e64038babc3f7cc3659d4726ddffe56deb457534d298d526c8cc3e8fae06e0d0852daa505ba07f8a06905044399d28b465a69f0d6dead895eb83264cafe26b1d9dc849ca82841a01cf58c667d8a872b16b5d09060c9d9054c45af57e27e86556d5d4bcf10c6af8525882741b058ff5fef4317e19a2038a5918f40882b915ec95a4db0c628b9dd9620076148eda979217ceffb1dcb429f8bcdce3e3b39ab0b672c468e3417126e1f4deafe3f7097f715d1673114ec592708d9511b482558ca4007610f32420a89c2d4d71f9c730061201aba334f160e65ea35ac32fa7692dc7f77505c81624f849f094eba7a08b69b6f16bc4968b318fb0bdbbcbf11d17f7a515a7b78e3d7d0a982810beeb12857fb781f80d4d788171ca1abc10ca4dba6bf86211f02e7b11b63fd64b5d3c0448b0315321d54dd85cacfbc5e5513e2555e112ff4880d795471165c98e0ebc9a33275a99d55021cbd821bafe2c0c07cbe489df80930800ea48649444548be572dd6fe124ca0cb3d2a6206b687d8a522faa67d726125ce4c19bc908f3e202850f4efe7db8467d2f9ffce821aecfa349ec216c0ec737b623ff6e8452977cc4a0fd437dff3c24024b66a1f83b86de4744d6b4c47d53a7693b4d8054409945334ac3db9aff05af2181cdeb2b16a07bcf941ec5495de7ca323f5f06d1cbe05fcab2b9d0c251202c7210bda1ba78fb9ab48ca1f6bacb93cd5005133d41800608bf464984696481022f881b22a02ea9ca8ce6cf797c55e1710ee94ec621531479c5a00ca540a91f9804ac5fae416b9d91330fda11be81c25ef36d79938234b33fc67d9c182d8fea3cc281dcbd6d93f061ad153c35bbb19fecc78afe49d9b182ecc23454a0bd8fe2f7323c6a3ef37fe7bf49e3268a802e1cc2444745c58bec784b17549cc3ec8aad4a80daf423e3179228f713935b70525f923f887351e4a1b1f0b70bfe8b5b4a9433fde56256975bfa76eaa90114a4878a8a088cb80c611c008111e2d2c51976d24ffe39ed0f106bb080586969df83ca3e51760e1498e98225fd91009e6b6e9ca5865a8a0064cef94890033127e1d5a13b3bff8184f757c19d9c00be88b83af78bfd6afc64d626a0a78e28ab35824c373793b6d96236729fd3a499a3792d24e319af860bd1d55ccd6f380c37aeb5b56147ea51044ef079e61ef1bdf24a5a8c660ced70092790bb6ef1ea9687129b52aa0290adf4860e601780230c1069d8f0c94044173c8e68875f226e6b0b2333b30ec9632ac20acbfe40e651508be35138f3e44a65fd02e629fc9e89ba6e1d9010df588c6885ea3a5305d14f682ac659d612d5ef0b5ae69afcc778c255af5665c2e27aace4aa0be6f1c597fefd90e98b6fa3ef30fccf10e95684262178a2c22d08483f6ffe6f80b19c6d7fcb6ca86d4faa01e6bcb5f7f3b3e271aa6cfcb66f7b21d99c1cbe5a18a4c7f1666a527e278010438bbc6daea8fb8a50be00bf49f09480b62003d6d33a99a17fab38488d386f0be36b3ecc6dfc93cb6c0ebea027ffc9377675a0fd614055de1fc3556e7bca77f2562dbf42491f7b412cb905bca088e531da5aa69f02fedd278674ccf89b76e22201fd0406f90ebf597304bc32d79c315bc17f4b94cf9cf113eb558b2d2ed1c34bbfdd81a01b188788a46c5c3a1b09eb0a119a649d81558db4648ecc40e975c7274152e5a6b8654d790ed90b5be91d5994414040b515688bd971133d3e58efe86f682ca89fb95a9e391a6b45958ea8d625502809c988c3139eb79aec35532896bd16b7fb1c71b8f12183bdbd764bc85d8932815db8b2cd499477cd06e26ea02fe0ebba770fb854c192bf1eb281f1844224018c0c241336904428451df597fba1523ebbef56fb3f8d8f765d9ad8ca352c42491aa0baa6f163177134cc5be1da467bde29a3a95f9188c6cf4ba226241156aeaaf6593547f42a06c6d48bcead0c6036c1a7eeae11c041a4a51ad2d3ca109c1075ae68e43b4642313bdf71477f44f95905fe3acf17281de561a7b4def32cdf95b81db0325fd12f1eb11d92ad891549a217222303aa79d9922964d9db8eece06bc3bd7cf64e4157db07f704efe4d9af122e21205aa1ae61e7ec8bba6b928fbf7840a5a49efe3373f00d66d6d7c6a86c525957c16ba429a05f2f96eaed8f5a8ef7e1651e476b6ccd1430ff9449803a649c1e20c9c541d97be91542f3af285b03ec5bb5d84b693aa9379a1a95526659b48d45eeb4de2969bbf6b7d32f3eda926c9ff464c29020aa589d4ab0f49eb6d75fb39a719432b0bc4b7cb7ba67c3f0887900e8b073c522949ec59d111107ebf649b0153d690b4c35264a34a2681e7d3752e33eb2c8e812b61764e0c82584195e4189fa7030a7edcf6f98ffe0207ab4abc4eda1751331a2104c0099323d97221a0d91c776ee40ff55274aa59f011468c0c7f27773b4dbb07e6fe7d4abd4f445c4c6a16455e192ddeb12e8f6b633b4c89f98b2921f24eb1030e3372030bef8045d82fce837adff455ffb437652bc92b1a22febabca39ed5f4466a93779298c1caf796eb5f17b9e03ce41ea1ae6585ff7f164a0d3af8d75d984a2efec4998a8b631be7d299ac3f0d4fc41975aa12ec78ece152cb411a12e6aa0b2071fcd4c2c52452b9a1ebfd60f65fc0b0543df3b11497aa3401990053c7efe249401bd2873b28a367d6bc6e64ef27077953aabe03fa896c3af8503f7ccc9696f6c8a22a142aece0e7a2dd076f439ac096794da0c99439e1c8fbf7a03c62f6c27418093396767faea39707aa576203870b5122f2248f66cdfcc796f77227cd29eb5855deb1f3ebbbee0754cb5e33e8b310d249710ace1bb22621b766478b68cbe4c254bcf08e4fa7d94ec90156c34f43551d9c32491616040c9036de43e53d87324772cc00c1d527b6bc88e3b4cc7bb68712aa740a0865e7ad21253f2171b3f7dd9279586d6c9a3945b0dd6319c4aec5a5309636bff36db2f376c7350ceec7c48689b898e9b847b0a59c3ff038c0339fb072c86a8e35b0808d7a128cd0eef41e8dfdb2cebdba3c0ad8d031fb00d3ec82eca4833d1ac31bd72c5805f89273c70cc1ea4ca1626a3d01f11312cdc4db0a12dd82e8ac8d25e1fa2147f3bd67457d790043d31e3e2b6c46e5c9009a9c6f1308704c5b8874ff6535ce70271994e4d44eba8316fe3dc8efbe69b1c7b546a4d949f842824507fe9430450a1a25c3795396303d3d7557aca3c87581f194faed4283f22f84919ac54ac73ad445d48f8bfca162b7640f7b0abf36bbf0dc072379e4212f652513073310eefe2f410266d1e2f6be0e273c46af73710422873553fcf40d3f1765eba5109719735af2c7edd0a019232ffdda9f8ca04f7cea357a97d91d87edee176a6ee561d3cd327cc5efcecbb76c522ee4f08c4c9ea8a785f1ed7e7f810960030b3805edd6f27b93c28308b0fdbd8c94960ccc374f6815301c8024f69f1cb89705ec6c91c691e9052182a4dfe8d3d40c935dd557de8f5afbbda0c1d50fee6613401373b01f1332f6725b8516ebd0a05e5b12031b5a4e492054233b9853b9b26601f404737d8c8869f8feb3964020c3d3f631a9beb11e4e8507c8c8b50fdda5f96ccfcd8d6ce4870526283837644088db0d7ce7246cfe48bb53d96c0163fe42911954368e5d507bdbb319cd16a425026f1b2c854158ecfbe9a0aa4179c4e98d478b8e62078397176e47f4fd8e17a29294dd1a56e8f30aeaccbcceda24c17952c7d1549156ac8cc9c261785f9ecb2eddc0b508f9accd9f6fc30bd84f9c13b5c5587922a0e8135ccae4495e71d7f0f7ffff05fed76885e54edf82eabf49c2029717cd75f26a38ea1fba4c557f4818accc3c7e08f4bce99e690d79e050875e742a391c4457553131ace81efdabd32aba8d0294e647841c9f4691ceba2a64f25edb9a4478edb47ae17744678b12446d248513168d22fe1e93fd64c20d9e359cdc4240010d0927527b16be6f1294e8532be1f9fa185984c616bf38317c36aa65842341fe3cbf723616c78adf3494136ab8b036bb6ad61c715497a05ac0f1ff14b4446315079a566d6d4858648e636e4a21f1042765b6569614a8bf307321ddf3a6eab30417188810cdd9d006d8c7b59bee3c0ac93dace08f378c203a79245da0673401378d914b6a237a4cb66fd082231d8efa7ff58a3bca214086c5bfc826268999b060c283ac7173b95a2afcd3330d029671206784c35d646a1023a45105ebd7b808df9ec3684f3b355558730c7a0bbe7328af2dee5ffe713bdf089ec0481a50edcd24a1ad9f695377d2e94a43c06a81afa5ae01abed806ef6e86a3228e4567ea6e388b3c0e3af1a4b327aea817d44878a042ea9f68bafb924780192c52af6298af5a401da792f6b445d64f213a7e9edab19b4aa74f35c4df0548994b885b32c0bcb7dc95ea2f6977d215a8cad538e70a640ffdf086d98086cfb5e9d06c65fc43d28c7dc3ac02204995fef5c49fb3cb590d0357bce3df2bbaf27925d6f8c2e00089bc5df9ae63f1ad1d78c44e21a6048557d4ed71f0f31b74d76ae7bff90ad4b5902cb3f3f2445202f37ac5e87fefcfa82853168f657303bf585e639fce2b3160d57796d9f56233fd24c0b75e92944b647ef845360b79353578faef16b040ee614b9c8777adf2e59b91f5b04a89143f1eeab1528d3bce5e1a89da22afb2da8aa88ed0d1ffb78d5470f566137f2e1e2bcb1af1060f499abf9d30b71a7d4f07bf1fb841504c7b285236afbcc40b93af985fb8a65c49022ce7ab07ba09ca49d010a11ca83faccf1b559ceb97752280356cfae99bb9d95aba70340c2ab445209f257a2535c478021973901cef2b9a0ef5fd706aae31ad9255f145337815450db665e43f06c841175f769a9d09fc1fef85411bf031c794c2a6a4edd20e69bcb544e9958e985fadfbf07bcef1b0f6709a71c12bfff0597f50e62ebcdb790a5768359d977dff31b8c55d1cbae2a12c6b586f2ba1c9304c04cc5b3699a180d9259fbdc91d92a27e65ec5609b5115289f95418124df60a1b60be0f1c800d21c5721b680bb993892a3e7de64d1d0e35e3640b0a12417ae0745ca357ebf5ec24a9d74a3fded7e70057993abb5b6f182d54104d867e4c0ec5f532bc4967919b9e2309bd45b6bb2f5d80d0968d9c35f726d5ce7165b8fb14c4f31fb8e6b23917cd84d28eae1dd102dc444991de4ca6408bf2c3f83a0dc84dddae93dacda061cc5c55b85d070aa1f2c27f2dc40202fc1c2f285910ecc00bd1f836e3f646fe98a834904ba74fec69a82776163c52bab169c199605063e63027ebeb85ec7f06731e5f999155831da3d1f13aa807cd3c62e14f288fb2b6617c7159166ae91febb6e3f9159487ae665be46438f56b9e8ac6afd8bc8d8502949c8d0cb65ef7aba6f3f78b10c055689bd0092c3178e64b8c9ed943626459b7355727b3ac6175d2b14125f5c0e45e49df1984aa76a2705b9b76bbee5ec64dcaae590c0bb35560c166cb517ba54e04812edf780a685de57ecadeeb710d2e4487d3e82e080fe2a9922a44ce44e5f8d1673ffc3bc883d4910fbbf7c36aa3312bc24fd0f4b64e03781da625cb5e6e1a6514917a3e4d2303bc163982747d07cd54d06b4f8db8ef7dbfc13d47df94f44a831adf169768ec4d25ccbda10eb748c512da741fd5fec62a92e0cac00e497a786b8baae7adccc137c41640750e37751180a216cbd1f84b58bb9ffb20f728e127a1e94f497f6e03ceea0849484fba31162f8d5523bb0a7a42b04fab2b5f587639952c1d088a8f484c3bfc242d303e460fbd4252d448bccd9828104d2baf4491c1dd865409cc83000812faf81380d8e371fcb10fd2898c176890e7c3884dbbadbf9a600a47dd02659c4746f41a8b925585b06285b7999ccddf31bcc817f87bcf108fd531a99a22870014223c733bab3f58f2ac20fa8639f42b32cc891b2843551426d8aa9fa8c38b9982210ed475adef8bc16abaeff45892ade99b0c6483f06084af70768c4287d8d60d8b6b89011441bd1c992b2922d8c22f55a57eaab71281113de44e03acc5518b75619b101be6b21ce61cb3ba601ffe4b4247356e431c12c5c70f7b77de4064b708709b5804b0215fc65546bc5290920f77476012809c918a806b9a958486b9e8720dc36655f7a9d220aab09becc0c027a07028a09487872b4e1b53dd37c950b9ec2cf9ccbf913f6c3b50cdb5631b61c7f91036fbcf7a266b9b61c83b1d08ecd379478f8198e62afd28cbdb3bfb1f263e339b37ca6926ca207586c6d5a09363d3b0fd896bd4fb8e3210cc21c94a068a673f04d6f4b349f666b1404f8d4a1df92dcbcbef0473477ca243874a9dc0e78a16a8b22d2a633c6ddaee52dc55e77062560d0f3331f6127acf30d22129d28c422346da52bdaa2744ef36186ae208d6530abe63c5a85e17cfec6c97a782aa5fe52a58bf6eddf452f5dc8a8db9a916f1bc013c169c717dd541c85d2374540022729573122b955493ef809bf5864633982749391d5471d1139352ea41e827badcc96aa6f237c3f34de3e531f4d625aa84fcedde32eadc7bd7143a8de4b0d141bc22aa8f0ade8f3d6cd521c7bf7f97e3c461cec26a6aa83db2bcf4c41673d63bc5bf06bd1b490f9729c7d5a29b22218163edb39d669b5db0da93a67a7c2b99a111040ca45d430ae765b28d177b161b180f4c0b5989f9a5dca75a11278e39c2f2f2c5b5e67662756366d533b21a699077cf2d7c6737ae1ebab0a472bc6846b6216618ee98ce4ae7c09841d6308e10209bc3091db76481019f000f552a9be9d5acd2beb4e4fe21f67e44519fa8cbca6012ce697f9225389217ba05c781d55ee55b8283c79bb48c3f14c7e295e9480b23711bd9fae584a2f66b4ae645a084e9fd461cc1a7fcbab98697982e156e059903b23463a4c2b78ccb8cb6b2590295c1c7e70c98c47bcaa31762df48e899f9141b177038d0de4a141f0f1a1f645e1945d7d139bd278a1227509f41c09e24eac03cdc95bd6ee280c2858f7eab3908255057cd20ec861e9d501ffd276e2463b3c6d20daecc1cdf0961df48b996a2c51fb38845b669a8a71879acd7d3318299eaaa8c6e32336ebcd4439d8f398354832efd85c7ad089a9f51e98834feb725c11152b43fee1d5463c6169cfe5066206cd9f59139c1a00e1f0b706d6b983a6bcf549bbfdb9cb8bd3d15708c07f99b5f5367ca4d0a8335ed5f965f57ef3297c3dc2598a809b7f2452b12d3c53b3addaabf76c9a0076c3539ffa1e1e51e3cd48dca00b739dfbb4b42c6784060a8d22bb0461a568e48e8cdc79762285c9095608af9e57ad8596fd07df21eb3436eb7b8a117a92eb5bddc7dc64a0cab2738306bbdb99073413122ed935c1071fe2236e74f6b9bf69a3f7d31524fa9f3945192c3583fdc82e1d7847041514cb710c69edae9a146a22f79995d9063d0ab51c7955834627bf5ce1c41bc69e6be516d34abd3e96968f36054f818d64638e32f1d4ab13376e4ec6f1c881466e6d0bdd3e79cb26eba1b72e4b359d84cde3f2030bbf5c0833b782c891bfcb01f5fad7998a677bf700071f4ce0460bcd4ec0dd0e6a26cb7c6614ff93de43f178b3bf22b41c7091d7fbc102cfe4fa72f919b1c0e2c946a9b9bb1892160b12a65dea492b86b255f2c6bfb8217693d39c855d308151456da26adefaa93d42c83702b05076d80bf33ad9d51054b59878964429f6249641ca4421d9b9cea2f5ef8dfa58b8b63a2d8e20053fa47b994052d8f6a56dac789cd9f00f01ffb0149a9551271b00ff21b9af703def8e3b6adfbb196ae614c24443ae592e88fef6e19ab69704833aee50e35ea0c23c57369550407dd27f18ae5f9af04e7e6a2ca6e082c4a51b05f7ef418122b3dc957e3e9c2981c4f087333482d093b602c0df990517e5f74dac78b348f31b067304909135ad6545ca811213912110445536d140b527b33716897e125d15345a5ee8e7775767439d0695398807add211024cd4705e23f29aab809631f546467e7ecba27a8fc41959ecf219b0e2a401ddd5158ce802eb2e212c9c9c21d5a40b845acb3cd3c237b57ea0a8d4c74764f375b2e1929161deed29ab6bb093a62e016cb19143b6d020e9543a24ec82cb00b076ac085080a8163ccdf77feb031f7a804a419a6bd50894085725a83c24e9a770d99c18dc35936a0d9df514ce84f48abe5473e1504d5d481bb8fecf12fa7ce21d2b2497f9b2efb6203c5be8c86b9f1050052b89062d17aeba6f9a95718abd078fb9a75464591187929cd846823467161c8dd52430c8dd75a0bbe071c486471d177a04ff9f09f6ad7660f6831301c11e5e7c67f5579f2b21d2e363b92f55f54be20d1b5509b1c14bba6370ecc027fe79b3c081edda7628e26281cd55daf4c50961c0ebfef41e5d2d42dc29b2b11bdb6e43d169e37d9e87a06138f1a742f19e15c6f04f917d7a552c2aca8a0fb27ab545cfcc53cb7c3bb2e03e99394f62f0e228e0362ab6c1d44366a6f225aeb950cdeb4991926a3f45f10cb870f810824a56afcb79ec4a2c950aacf78f0f635b4807ac192a4b71949ee7282a823843b36ae914e3915e7f583b48f3e157ced6d198e47eb8b0fa0769909abc342c630be9abb128500ac0ea9393a0dbc636cc456c05a66fbfd092f793d0fadaa47a02468e99d179dbf0165cbfe50dc4ae11ca7babebd08b2602f3c0a168d50cff8de5b53940c92752b599cf2b4d42ec2d7e1de844d3f671115a6389610ab58d22e7cae2cd9fe1511bad86d8de18748093a94e7a1f37eb9eb0ddaff74abbaf0da2ceea856b82fd9f93e440990be5c68c6968b00a904aeb51bf8d1bc8e5741553af82a4a59a747055c254d87694781fe82646bb5e43a84f98f0d8646442b1efa378968a326e1920ed581d79695c7f9921b2d4a226c6e00d8f1670aff0ab2dc712e940490e35ff9e89c48293a411f491e19aeee873adc1604f979a5a58c83aab2159353e141e32c4497d15df4c1700ace1ca4327dd4def03739d3c61f3c4bd36e54216e7dac55170bde0e918277192c9c2e4becfe2c81e5a95cc275a95dbd1c4048a7866f351a8a54a9c9ce997eca775e5fff9278d904d049295bad71d23ea8c8d26b72f910514345c9ba38fbe696df7983d9c67eec72435bcac5a073ee56ec3b7cef23df4daf73cec2f30ad6b2c79e62fb618c912e9259b8fd37279a82080df8779531db0dd5593157c818ece9664232d280a73eb1b0de58f6e87825ff5ca2ce7955f165ab959be6cebd734020648dfd63f960d555dd9746c82cff127b181dd67519bc3f21bedc33415d0859cc0b4e0d99c6a3335448611eb4ee2b79082e76e076ff42544781b1957501d2b1a8f9f2cc68b0294486933584c115ae2f1821fa592c31a07322ab68ce6b5c83ea9f2201814aae2d412246a3b59d0bde4ac4fbb6deb28518d63c616ff9355586485ab9dfb89d1dc6acea0fc9eb5f5a954d2b91d88968ce25f44d23164dac560d32869d699638924b29946241d6de5557dedd404694ca511401789f3b38fd351c7e211cd70c3dacb7da6f91176b25776282fbc81d2dfebb72c21d04b911548fa5e9681cd490d7aff4c2d88b982c05a530661f05b57d2a74ab336113f7fc0dcac7ac315ced512bce1e82968fb9562a0b5710a6486ed884a1d8f9c475b968dd5c2b667ec0a868dccaeee464dcbf2b6a5184a69c2c67f255507aeb581c44c0122626f9a3cd01d33a59cffd3f980","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"a09028e0b5c4edeccd717718505802d5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
