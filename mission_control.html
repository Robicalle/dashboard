<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"516fc8a37c148eee1c5b8ac2285281d454432f38ae4c705af7fdb9b3119a3539f9ccf4a9ddfa1398b1aa7f6a9c2bb90d248b270b3b5b2efcc55c6b3312394062fb7f87533131af54363cf4f4a67ce4034c4f49ac027ee956b422a4f1ffc95ac36df57b8018548fa5ea5991071f0223a248fdf1f3c9734428f5c4ec708774f65a6d7b4ba190cc221623c4141cfeeec2c970c6697ca6a468fabdd180ab1ed0e6b6c2284ce9faac2bbeaca442813717486a593cd32024a1342bd7b37b602b480dd75dafddc81ef3b77814c98c0512d4eff8922c8c5c697bc69da75e184ed1a96f6b51f4983797148bc228e4696d9d23aea24142f75f99376ad2e647d8b5c09105dcbedf647d672a60e39955dc13a08423dd2b56bad0c1829cb78eba0f8565611d2b45d378769112a15afd5b65a84bc9650519e24d8ba8168ef6e8bbf4d42b2d4568a8669447a614f051826a808fb1a9fb2dd2c732800a8e07e29d7a91ee197839548703e36ca9c7bb997fd2158ebb25baaa483e5f7b3a6a1f90931d42163b3b1a43118c7d8806375d2760615146b1d4bc5eda2fd4d7a9debca2ff91ea9eeba1450da874ee7382a06509af5b9c75cbe464f899a88fdac08e9d4ee5d1bb2db72127f555cf06416825898517c1a6c462f32fe6888817c99af615cf27e14f181f73c0d9c54a82182acbc83b5e8408a9ff4adcdf1a60d437dd37e204a6899b34189adf68ec52c300478ea7580af4d1f61cc451da968d2c392c1906ae7de8c94e2ba11bbd9aa1caa4d5265b712009bc4771f2347151c26f72fe1c38f5b910977911e2d37bb8aa679596f8d61d1b414200e1f5fa9dbdcc5d6e26d200d450f57178853eb981f28b59bed08fecbf9178a41df4dc3ebac5f546302b7592b9035b66086373dafece62338c34ea841e85cdd09685dcd5f762e8feb9669b980d6430808f9ca0b961693c57a045f7fb7b78e667ca9ca3e847e4f06c9b6f927eecfe9b65008552632d8649dfd462387e7708a84c2e70aaa9b8835658f86643014dae79846e82bfbe2ce7371586439f5f714325cdf1409900971b734641ceff79468960b352d1e40a6429d0c2c1eb5814cf01cbc4491b8ac8c2d8de16c214a48947e147779e8a1db7423bdba58bd65fd269efcbe8f33737781b3c41ffd9ced00e8b36791f45eb429bd207e97388f4c37a5c4f779ce7401038b8d352bf39e5a230985803d5a9108858f056f4df293261598a1277e34b2062f5d6758fcdb706a68505ef0e45b9ec3a2d63a69172894021107b90e12d0aa4ca1538cddd41f5ea46702f456a94bf0aa2a08b9868773e2d190290f04465f21ff6dd25654e232f40fbc020ec6ccbf672b1ef4cb65d9f8f49d32ef54f44bcede67f72dd0f591c91e1fce50f7952aa481dc8da6e1c724993d30e7126c1151e0317967bf4d79818470851bd2e6481fee15049e0d74cf319d8fd2b9e906a33453e2fc182183598beb60bbaa4ca9d86e45af8bf41527b7a439b2bc2d77e0d249dd28a61213f6c37aff05db6447e0bee8d2c178618c64ffb7f909cbe8ec313ef4196ed8dc292a9278fd852cf25347a8e98c015a4205e5cd40fcfac098811242e40657e4d0afcaa30b0f1f6e073711ea762275ceb32829d142a8c7b12bc73e1408e4b92ec87cb73f26e721d54ace28a4cebb13178efcdd71283f2a1b8186b2873c88b676f842d9c2932b4698b8dd57f0c615edab36917dbb97d7d0a90f7ed8610647cdf05456c452ceee7d32a194ac6971fb17591dcd441ad6332d5e28e4cad2f125fccc3c8189cfe1c5263ebc264f66e56e5b952459175d28be0a84471e6381b70f1be946757eec47302004b1807c2e7f06ec5c06de201116bc267ef34afae84375884211184132cf0171392716ec35c9d7286c195f9ca491e5c7ef53264fcfb3e3d1adb8ad3857b4a543d82ba4381cdf8c4e76f92f91d8dbda3a88d05ec92af6222cca2f566f86d3e25b4931f70213f4ce0cae96920b8f9eb8a51fcca63810d32f0162104d5da4e04585f5965b43e3b93b9d9fb42c379878e51a8d9027a5ac2174ee2deba20d1b2e2e766ed5314eabd3049eecce693694ed3933379b3bedeecba3e865657da7105b2976fd427ba8c77c7d801f16ed885e1c68ae0cd19d8ff019da3bfdbdc3ea9ec69b6df91b785c79e60347181aa1dbec6ebaa97f41980702b46d174227eb4755c993d6062e0f791f356e46df6836982f1e1b281d9a4d71cda7e1015f03ed5ce0c38bb6e965855da1990d2db39050df32e4332462759a60db633213e2e9d1e9232225b0ffd8f4507fcddac9250b6fe94d12e86b688dcb50c94f02e9f437eb27eaf00a1f20db7d341580b98331e6e2608db01e3db25936e1c2dbe38633ef8c86b6613e6e33cf0873d437df53d26e6a882c5c39af89a5eea308919267561db77f178243686cc6e30c145868e733a5b7f8c745318396c9425891d45ff929a65d833111e4daaf830fd1d4cb3caad1cd0450a57999018187ee9b17e8a05f1aa56d861ccbe5f4734eeefc32291363593e730ac3c411439b63d1c688a6dea21c2af4e4dd47b827b41d32c8c132f8cbf6531112e772e6cf7f78ae7f1c9fa50e9db695bc4d85bba5533d7b1ec9da89e64e4ebf357575d4d732ab2c757781e564bad7857c0f2d0f7fb7b544dfbb943b0b230d8c79d51a3c2d5dec148d48160e85c9da5d9bbc1ab240859170e0aabba8ecaaedf9bfbdfe51870b33d9d9fbf6a4f7ae5a381cebfd4ca07caf15465b97d16f2b7f3d6aa641718171265bee39152232e163a9b39f9597bbf43e4c9b731bb9527222f6e17b726e235ca4b7741161d6d59ac9c68b99a835331987ceb2b077059202290352eeb30681dd13e0719a57b450afdd8cc7bc5c128bee629e039fd15b29ef8e42fd120a76935e9d7d47470e7bcc69eee1cbd6ce6dc2b7ecdaf701b029d81ed96c557aae45a6c924f07eb8ec5c7d94d28a02533d14592ac84d1b036cd1451e4ccbedd6038063fab799842618b8cce506c8387c024127c3a3876b630564ec8f17414a91a974b270034c21ff94855751e24f30fd1ee748f5cc043d841f501ef8b728cf8bdff372a67aa44007f1b9b9dc13ca50083fa16a87e4f81a0c7aa9c76e21c7572b57d5577179d63d8d1cfd313988df198063f1bbb01238a77ceabed503acb08174b6a938e3ebd355f08406db57b5ff00301bec5469cf61ede6601f2f27e02ef6d096586a92e5230f11a2370cdb2f35c948e9b1a3c1560c89c454b545fb016c50fad2270d9864a7afebbdf2c8021f663b1feb9e7b7984d94ae375c777760fe985365c467668fdff726b8df6e079341d0380a1be33ac1f3e1107a4391cd148730c4af488f1cc061207de4c19038dce6fe706c44f7ae33d39284ffaaf031d2a2c2a439d1ea2deaacf91ffbdb2ad40242a9ddda168162c0d3ac3608ff864fcfec097cc38d1f70073ed8de643941c2b6d8b90be55e490a5cbc5645c09283434620fe56dd8f6322ecb0ac4c2badb3a489f82c7a723a51a8a884edfffddf4351df61ff9eb844985fccf8f4cb7a58094edf604c7a60f69aeecc2ba418faffffce43a7ef159346f399b5546c6878c308272c2101192c41b50ea0c3fff48c194b32f06c0d033c48a2a7100e91243757488299b7a45be577f7371d8ba88f599e75d14144e35e246125c674db9df7b8e3aa9b53cebd702a7afc30783e95ada4ef374bdb7a6a0c8f5adb5b073dbd5e073bd4bb8ed6c2520952ea3c6e4521752840fe8912c2ac000899c21212a19d614ff852de7ee83e6356c84502a164cb539f0c09acec63dc1f237eef385f5965d28e8d4c4efa759ad39e951aa4547cb7fb3b98a8660cfa4a1fbc867aca14332241a8870c4a97b88eb9c2ee132a37988c45dfd6a7cfe64c5a4ca9f3185899ab4026d9aac5294b45e2241425b31bf357ca62036e594ca9562ef0013fd4d7d43aacd7d36a36c5769d91d92214948c46951ee9bcfb7f7c64586bb658f0dec8f445d1d058e1f2a7bf473729264fc86d00d0038bf85accd8d3b3554961e76cb8bece5a91f1bb5f917209de9f0e7799f8931b33122f3e4e2f37b81c9cd64b69972a30c9a53daf8672591862751adaadedea14a7b2a936cadeaf01bd89b28c131461344e623d28419cfe8339066abe9fba002b025ac78a5517fe8c062113aeb3ca545a152d7fb13d0975ad680efa36372412c6be68b3f2550c3ee26528aec21bbcf0d03e051c997ac75c05d74dad2e47d49302863c2e565dc0ce34065bc282da6d6c15577beac57f8da9dbb596c11784a1aa67448d87a8c2299b61d03a023cc14430f5d9900a2b52e08e9975f971f9510001ac590841ca676c9a04e72f2bad3419cd9b295f46c84882ba050f664d3233c0968c82242992b711a1196c03e891df7e7347a4cd5eea9e2e881084934a680b91d711f2375ae19cddc967bb4b895429b1654180b5fa7d92375e43d8a688424cd5fb34a5193e0b0b98140333747b7946618b333f7e15b247c48a5271ab8b0454289edf3c9cd308f6dd8b2a26b3e2fab7e7718d1cd58db63e6b74859eb15f7fdb87e8b45880fefdf79cae33b264e68da86932ea588860fcced75044e8516439b1d7a3abc01f22eae3889d2d5dec05bc8487f3cb4e4f39dd168c3576a5dd8752a691a52609d0bd498a1e4bbfa33911f9e37a845494ccc89121cf1eeb5a2cab1f4b5c13de31f14e4bdd2842d87409b005303902f242a2abff2085382be1169f55de53dd68426a2f02398b1df420d1795b5bc13ab0812a752033415740a8bde0d1720c147b2db1e522838f24b35036c812018f220f73b30d0f6cbf471a2b32caa63f58f6624d202db37dd0a86c73a185f7e405cee281f66400863460c2bf938611654ff7248c5831f35467a1f836726529ebf2cce99b376c3eb2d47db6765875f0ec15a0537090d9ccb9313429c27ae3778e4a6ebd4784968ea3db3b7de5db3395a05b97f203972417c9a1ad2c953d953668e440aa4bd1f7aefd58bad0625e710c0445150fc1f90dffa5a5d636e993a3a18af11578cfb32d9fbcc5644598b1796f0a5217bbdc68b487b1027d37124b5accbfbd6e9d4c6f581621e6b68d1d717ba6030a6ade511080297bd27c9d9294984cb2942fe5c7872fa0065f3ad0b743c8051f195bb9d1725111cc138e0fa5f59f3862d4e4b7060ac02dee996bd1c46bde1c995d2aa2d90afb07ca0db9fbf12b7457ff4ca523c48157c644fdfef1b7d59a6cd8309f042415fb12e951f44f3c96819ba2af9dcfedf58ad67033373e630301bfea1821ef10e573352a3cfc9f8e3f00f7718a79e108ce37d0d30ddeb12db202d0f44e361753b4632659c60f3a3ecadb393dbb3e7a7f0d0dad89a8b987835db6d60ca7245fb4db27cdb48913533762d6a2ab096411d55f583c105ce88bb922bc5654d42ec99f4558e543806b3ad2400a49ea134fccea0200571f93a2f2875e6d8e9c2507942e3f6aa33d564fa595f97804fa035f29e644cb3581f5758f9591e8813c43132eca0e9ebc02d7d1ece1fb86e154ac6863613af19d48810094c781152d0501c0d831ee1da1f8de1604ce83070f96f98c465c4a5048ef2428ef57121c33d37676313046eafef0ac4643d5276fb8be0087d7b5245e00c777a28586cdee21bb3bf3c98334eb3733b4add2fb3393d38eaf62b76c099a87fd75fd23c193b42a32501c7a3ce6e0c27a8b3b3ddf11f0217a9c03ef7fdfde81fc4c6375b6dd34b171afd429dd5403a69839959bf3148a0f56296d80ccd17de04223b0c39ad0e46d7f52e7861131f40a7f224087b1a89874adf13de3fa3337bb1c676e68d3fd891eb0ef8fdf3eea84037233b707d498dc3eb88ad8d5ced6371342e73d46b7263a7d871a067b73e6ec8d5a71881482d43f9e9aa861cd2c0ea41036d7aed3c0ebcf5755240b84b454bec4ace611a759f8c9e79db485f2234c022a5d5e3cefff5942ecfb946e66ae27f9427aa6b0a8b8e64cc19fd85c5622676f488fab5db24659a6ca211f5c1b90fb7ced5caa117bfd7c9a8880ba52c0b2c2a030f4a5cb6db9dee04f1d8e38966d8532025a0eceddc461aace7cc44d70794643aaad1ec91aa4ed7f0dea869ff8bf02c9582d7e06f0276777002b64e3d6e39b407e6d33f84de5ba65df4a4cad079772b738e513d7ce96c342d1881e8ed02d8899464e5ae132a7896886118bbf0df953224d7c60154293d14ab5ae216e0f2722d4460c260c86eee5049bfe36cb6b8d0be0f3e8e3572c690fe318324b28ea76cc2a6df79cf8e1186d62eb13bcf66b26e4cc497b8881616ed1c89c05a22db08bd1e8d8b08db1db6b7327c16cf759874169295e8f8efb3c8fd824378aca7e589ea121cc2a11e0e2440c1a9fc2808a7b7643922d630e2af355877312227f45a102b98e0d9e14520a9ee894c2fae792a148719f84ba192f3c7b1c6a089e8910278832e60f873523772ea0c0043d2a3f6ea764e41846a9210c915d2511bc7598785bf067370705daaabf976cc3268c129f7fcbbbc5c7652caa9daf3be2d3a8c8b36d2a68d7a8138d29032920b63f6eba63ee16c1e418f3d3475caa5c7b4b59a33cf99269b09108c994ec33a70a6764800cca181d753dd6863ce945eecb7bf53cabe47cd7d530edc2767c9b4928f5f7c80ebd914b61798161ff2a88d6eccd7b08e8333d8706ebaa5aff2c82a452fd86a95d54ca6bcf467e81153b6f664724c0d8f812d58735292b6cdacd5180d444cca73d7798fcdeb2fd35f534b1d7ca9d917151c05954505eda4a4586909282cdb6f51c30b7ff4d90a39dbf39cf99f6c0bcdd0f0aa8eff265e7d5a9553ada452461bdd76f7e122f8099ab445cd98f08bbe3d75783cd757029df17ce9b3bb2ba8b28d63627586c79ca21517a12f561039cc7e5d6965f3a37e948ae9b72bba132e9a6772ee4a2314eca48d1a484caced0a3d84df966f3cbbdcb46521ceb078db905f280596c2a23df914bed2929413d43da13b76dcd8835c428069621aee4ad0f6fb3e8f2b3df00aa9e867b5a50a75e2b6d930a09666a5ed9fabfff576b00d420fd5e561ed7f77f5ea4e1eab01af9de397d98ad2ca8f0dbe5dfec607a0daad3b6a90c8c5e8b235c072bd0a47796ebbe77f5ab75bb93e99bb4ccb7b29c0a96f667476727cf7bf739d5878b5eb593d55c21bd334b0e8224de2b079ecb1c94164773743e2984bb7a7229b9dc66f18be2475c7cbbd8c822f9738ca1a7a3de8e83dcc71fa4ba6b3da75f9aeb3fd39edfd2732ee0a7f7a8027322734c67d868f333604690b09fd19aa586630aa83b75bceba396572fe912ca2632f60d66c9f837719bcdad9140f7f5db5494fe70f52d029d17b1460885c297684ce6d162400ea2d291fd41264a35491a01352d376f24cd49788d0183506f9a04f10fe258f1f2a5154722ae0553a32143bf993e06095dc45e48bfb6196640800f10431653529659054582379fb0389484b9c9eb5ba999716cea58ed7f65f5485d0b0bd77f170f576d772b210a564d360457495e86857e0af5eca55c1afb0c86970a3fed835a7ef539cdd5315daae40c3a9b20ede8f9da5cd6275d731529c82a776e87527e2cca9d640fa0f2434b96e974b8517b91ff62dadea9738d13713c1eb667fb372d3e07bcb5e9007684eb795a53e36d7fd859372e9562ea97dc87199af551c91e500790844ca29c8860550c3a4a91fd7b7a175e469908da20a8b1cee3bdb7bd8a8ed7d7a00e07672cda0f1206e41c5c12c8be7cf777d2b32a4aa1f9013cbbd0a703854303a6d417c373f356675db92f1ff87055d0dedea6894ba17bfdc14ec41d8a8011f6f8f6e7542b1e77b81d322ff33b3d215aa4182e30e6078cd70b91303f6006b06a2c8ef3a71d29868091c87d574fe96dd01f163026b256a84259d1a457fdfe75a77133fe164cd8e1ccf9d4cdadb552498cd6a5bf401634172ea4f7d571c85440e0b2b9b6bccebab9791a3198136f044ac0a7c02e5ea93131b755eb63fccb5590670dc8388b088884b6a7e5fce93f5717d5c4a42f16baaf562385b2402e3b5a044b0e8ad2e49c48de77a490ece0fe30a79ffa794081d99e03b28886d13d32e0379b4442aa616b4f0d601fdb8fbfe4b5ae14b3b538d349463599828815b57c31d5cdfa38ef009bb4dbef3a8746680542bde90f02693e79afc8c5ccbfc425dd5dd74f1d02442dd67dcd66eaa4d3fc30092219855fa3f2294ac082d770a5260b237a38ac43fb89e5cfa0f8916f5fdf0ba8042ffc0862fcea16948651dd33379c163790c7c071b7a81c751e5c8074934dd3cb42fbb079ce36d2a743ff799b1a0bab030e026cc12a64c72d0651212862279fd8625c9da162e056135ad408584b5969233421ae94ecd71f40e818a1281465c47e1c044ad9554b5968df8eadcb5ab7fce3e52b1c1d8392408f6dcf78ea0854ace5fb337c1fa99bb417e0096f26f9e462c1bf2943d543acca58c410d540bb62a14467c7e1d72059fa6bba8fbb36a2e44549a8d4c0a0ada998a79365672e94dca936570b0048a3b7f708e875cc0626b68739bd7b8f5a7dd98357b6923f985f82afd8e638cd4e488ca44b80102e85d6f6f809f15a9812fcc8649ed03939550cafd9ead4b56b7642a0492c11642488b21867d32c5090934d04b27ae5ad15acf474afde81506d936b5295a386ca59f1d4ef7092aca08d68cfb7eb6d550867510e7d0d80501d4c3bf1a1825025cb24308b9075a82ec79fcadc14cb9c4080fa38297eafe039a1b5e49464c9aa7d1a2deb5594ba78a6857f19c47c7b1a7b6b110ff2e846160e896503f0d8f9af871b3341a95d2f9693f2e3480fcaf006111f737bdce25bd80ae1d50846c22f30d394a469d105783fa87ba0674f88adc54096b3cbda66915ef71a8a76ceb49a0cf05185f8502fa107ec0f01423b00226f542b2ac7c8e9f0f5a6493beba51f3dfef4475b2dbb4da096e97a2faafde5988310ebe5b5642496948e9f63f2f24886ab2f4b387292dd02ef7897d7d30ca186787c6aba580b2b5e726abb30cba692bc77ae662cda965b3ec5398a2a8b1d92cef9ce741f0c155a3f6712e47fd2dfc81792d995ca3028ffad65f342efec6c76b3ddde082bc6c09098d953c4b6fb1793b170b6f353acaaddcfdc60b8ae384566aab1c4e39a30421dabb028b6bfad78ef8d96cd13d100ca2dc2085f54e2236438a110e201e7c977f889e757a99bce3894e044791bbed5f86e2f34418b1dcaf98f6d3476206be837f95316660e6b733cb7d5a3318ea42524f58b5e4322b1dcf131fa9a30534ca12b559ee565ad368fb94db43bfbaee82a94cf64b4b1f95c4f9298095e3320111df9afc37ac259e9e3a05e56b16927f2cc70cee329632d058ceee2b5c8a5f7a64c0a988871038f1ccac9b3c067d2ddb8937d7cf5ee464e3f7607f1405731b009af4f2022d31e18c37528442fe1c13e9f98b61b9f4f63897a74fdae1d825cdbc79024e77806ddaa2b89ff378c99bd6a98fd29ee155de1af9dd1a450d8e4c750791c550e21fc06ea55c82ca30674fdfd0c4712ef4195f48138d32afa5814c51a0749860e4dc5ac623b5960104d442a9546b3829520ea76806c133842a6f741325450ef144168e5c5c46a93c67c43fe18da4cd7b1b99c0b6ae5cfcaaa9acc06cfc4dc6039b27744a14412fbc15b1590796e336a53734b6b04b5e1ad9b35613b622b5b50817ebbc68b339388e390cf6f6c26767db776995b8c1b8b2f459c4e234cc4950e6c66c20f70351d88c20a217bd20ae16774081864c3e0f7aab1a46571bff71382e850f9a1e8a456ed1498e6589b522312f95acf313c1dd531439dac0101d307b8983514a71fab10dcca1e0913bcf50205797a1d5c4c8c708ac5b6178a54cc4e59ce25c79a7e093f41fc003110af6867f09d1b3a829bd89fd74661553b390324b89e3ac2ab68923940f72a6c8a1ca961f091941a02527b7483790f2670eb1bf423bbbd7515cb8a0fa5588e4e29927606e012040fc91b89f622604f94cd4bcb672335182ddaf738f1e71dcbc3e2299fe4378275bd33b3f4874827e638c1e72ed8c9852653d9eae5ca1412c69537b868e601e98cb6d6f3641eb52e5949c791bd4269cd74aa348aa87d89585ae6a08abef0596673e840212e3d599b4dd93230af285c23b39aad0cf21fcacb4d428003716a1d6531f64a4d61a1f4fbe6f7d099398b1a2617f8dab2fdd770f0eb0b22e4754604d713ff2199a1542db960a206be3157af34f820050c7f6cd62379d3dac1bd94846fa46919d0bf447c6f6973ea329e2ce58b54d6fa0ea616065c683336f97023bf7a71d5af5917dc6f0000728e772c3c6ccb3d3b4cd0545da1a5af573b37a1b2e49027ebf99d04a755c8fccd2b94e5cd69fd6b1f5b1e89dad44ace47b6701128bcf0059ae7c305a3718fc9ff4da6641a80ddbd718d30d17dc6b45c5fc401bf4f8a73ceaa54c626a5d7148b05fbdeecd19ed32e135b86a71f31e6964e80509c3e3c7ddb5bd0a01bcc3e0bb7d7f25189ca92a6f1a2465fcf97b30699af1f955608a21c09aa519f1d0cd4eaf373ae173e81ffba023c3d7a8f677970a6cc65ec383dce876497826ad75f5a4e54e275ebd0aa416a5c40eda0863d7c191e81cae80652390ff3024d2037130d3dd3fc5f8fe10dadbb83becc3f8387fa8b178781fa8e1822b9595acb5382bbb6eaf3ca5f04d6e51d3860d6b39a3fc22d10a760ad47f9676ed1247572a2872030031568a32061b8926f95dc1bad008a0f24eec20c80c1cc01ff8bef5d60d6fe3898bfd591b566887b8d841aad776e00e2dedfc251d7daf2cb12ba4f6c3e55c3a6f549fadcfa02191a35ac100a0be70976520ec7152e570edb12cc3fc4681ab677d2ee23634860a7908fc44acce0ad30b4eee7b51d11b39cb8e220a49c4b7df2b49b4454212f8f52d35a82be7bd348dbfff04e762bb9954ed5abb90cfb405b3680e160be80fdb469040ffde6bb70e5ce5e301bc32d11f0e560376d8b7e3ada01e8ef22b24c02f6bf6fe5fdab4a0deb86fa196726d2b7e7c2bc3a4894b7ab2b62a6d20d3b26294738519a04e8e0e5cbf6acb2d44f5516b401ee269bfc25cb0024656b52e675756bc4ee245cb9d1f140307eb0540c8f92f8505e1201fb7712ea8eb37d968055b93467d4e8e18d4ebacc63f94062f7caa299db8b2b957deea2c748d4c6b10a6915eafa85018ac2075910949084608f52659f062a9c656d666143b7d27d2066ff8b6b61f915452c7cfef4b37abc71d7c29e2aeace39d404b26131db43b2cc1c21e670f79cf8e67040658adc28d0a1cac1d39c5b10ac1e88b8fcd3656a76e13e45d8614f11bf979de02886ec8b63cd6a431c7f52253324265ea836c50c5a0e5a622bc0d68e83efac74895e74638c7df73221898913e24a8075d9ef0df6e585d99478eb0ab8b78073afeb9098b811e255f0536d1340fdde25fd1612dad392bdb8664749ac8791c475ca74746513a5a58e33e0622d166a0e8b7594161f8747460107bce1dc3a6364428ad6c62536cf6f9b14d2dc331fc117ccbaf3c2bb63b58d6049da885ed364c51d3f2afbcb9f94635a04ae1c23f5e8abe74dadd2186123e7c3eaf19a5dfd863336b8e266ec3fdfb0cca543e6f62105e5ba775a867428cb4735080e07724aeda5b2b37ce33576cd567668b44552866368e9cfb0267fdeacec927f0dfd96eb14b77d20557f310599c630b117180d82dfe92057382a2bcf0b3eb45b378b161b07032a306b171f86b00f9e65b7b4db73f2f09b83642a8e207d4aa0a274a9bc42aafe64b104ab2ae2c7e358ecfddb63c2f341553fe6f811faea0cdeabe717c0570dfd4714536177dddeff817b4fdbd36ae0eb8dce03da2e8c4ce7c52cad961603cdcf3e9000e7978728e88756c43cc5a1684d4c0a508b14402c4dfaea4cadeb79fcb30bca17021e1e297ca5811161118690bef080588993ec17f3aafa2e818e00fa4763d459c4d95d19a77ba8585111afcb163eca152f2de7f2658c40da0fd6f3c92ec6d625f2e10c617b0f195e9fd58085fd9d884d840e8e5dc85d405e5417ff6a0c440488e6f1bc7773bf0c4db8b1940788ed06fbb3ffdd3de0a88363c4a12114bfb1bb1f37404530053677f203c00370add52bc71217bd9b5682c230485afa7c7892289947ab1c213621e3bd697ed1eb81ccaf92cd189e018f3567117ec2806e763e1fb30c037d48562e11f2edde125679c803bb97003dbad08ea999aa29bb6f5ccfa22173ee454b6ab7d790f594ef5f19053d9e31cfc04d2401c2966b98b2704dae0210059bb15b0bfb1472a0ddb82144449f84d921e6391dae39884c085fd9f232054373cdc34df75490e37e7d831c0f028b943101beaa7e11e9d5db7142f976f23b0c54ce52aada9ae77177fe441cd7084bbee469a0151b4a3db14319a4930332e81d7ba0cd689735cea14b5bf33007f8036e7196bbffc133d5463f54b6de96df3de4d91dbe6bd216250a5cf914850deffa7d0f9102d0e4a3f046eda9fb2a9f7e18ad27d2e36ac8ce4dda5b994fc7347cc673b192e3da5bf9a4ae498da1b363fccf3bf649ea2ac4c25f7133a51f1e560cce62b2b4e74650b5cf970b0891589945529cd5c7c9e2dd78fc3fc1858a23e3d29ef68104dd8dbca88a39a53311151081c3c992b36e3d61f885ea14a06aebfcf15fc4b2415b61b259b69c5f7364fce61d16ba6cdb1adf7d7f1f6c2b15458b6cbf12d9b1a1bd5f721e6226606ab80809db5ee8f2572784c54d986bff5eda11bb3cde41f968985464076dce44ad66c2c31b6018bf5e150b3dbe787130fa5266caebcf7d03062f1a8e5fe4f5c874dc90c11aa1ac78f1185ddaeaeeb7a6415522a46afe82632aad418cc8fed9865151a3e7e2c94c17d55990376c45ba097527ff5da7eb9b7786b4b71a9b4af7116c8a0722f8bd933f385a98f241d047b38bb4ed5786b4ae69cd92d168ed6ac69ee70865f218289cbeef79cef747963e0d35c45a2f348a2d4c30a9bf17479e92a7f18471159de3e5feddf7c223e7ec9ced8180389e964da670729bdd172f1b8430ff89c8da74b7647e7bbf30bcecbe4d968fcd06410cdd797190d0a745f94a0a238260e2a8a48ab93a2fba4e2e3d5cd025406b51b480ece2385b13c455e2aa5b0a86163fe5547313af85a68057d91d6d09bb826763cb42a677fce482a954819a20e0f5f73255c6b36c1aafcaf74a8fc8ad613481d5186d3f40ee4ae7bd37fa19b31abe494494c9174926f32f1b000440f8e90cacdbbfbaea7cecdc88f3efb2638616728b60a616969adfef627a7867178020bbaa8e061ec2594fe3d69f944117bf407a2750c4801273ff3200300a8cc98afd1a1998293a5ce396d2f843eacd0fe639e7867989b2f486e4ebe931501f593f2db7bb1018c769f74437aa5f55c421cd389d98119e5ca7daa89e797ff6a593e7d824607402264fe39286eb9c59a0cbe5d7e1d2f9e789236c5fc5f056d87963f933eb460d33bab8634a9c799396b276589926a7678aad02a13876b1df626c6148aaaa3d66002f78df4617067bc59c22a21dc0a53d2c940a9e4860349efa3c26554d97b6bd489dc105ae2e9f616e24239540afbb899cf3891b035eecac5b78fedd8b9025873203758d6ad3a8b7510cfb1637a80e7dcb2d25d852a4183c885fe00786841d02f77723bf3d5852ff0efc694550afd6063786b42d400b023009db94b6e5b3f361bc50d15b5d3ca4b09a64e93138e7629f962e8682a15d54735fe7749c78ba1c6f68e9ab4772a14968350a9cc9cf33a2d88899d2c26f822911a5db2585bbd3c3a39a12b2790b4fb6892d0c3ddf22a1656d2b9656321d26ae0631e54ec62193faa5c24da85f8d90ae66e7009f511210dfb0d190ea1967fa47b405c23896d2d0aaf6327e516815c54e89462db4cdffe50b9c630edb38407d1967fea131a7209307f83cca77e44ff05db39ca72c1f39ad48c57da06301f3394d713a251c16a28837cfa22bd28c7f1a3de186f0ba7baa662fe42461027b948dc345ab7609353191357055bf2594aea404911955696c1aad9d81e917fec15b5ad82e6eb0fd9b3c09c2e6dff1df4f1c2bcd5c654adf86f91fda26762e35c4b825087cc4563441a786d508adbfadc6682f9c2c35f41a176ccffcb1985c5d626025fcb7d70eca1cc6cabe604d6b72780f2c6f6ce0812c75960a88f1bcbfe4a707a3054cbfdca3424e974fe32f878fd6a83dd93245c050f36b107f48122afb396d966f3c0b71323588afda387a2684aff51797bed918a368be69e1fe9eb3bb1d2158c246609abd7511f1c67dbe5ec7fffc7597eee80e6484bb6a7f47d0ff60e8640210a0a980c710d63cac5fa7ad8eb2efba85b944a0fdc867e99f7aba713d1e2968c5fa86167ef32672837aa9e0c2d8aba08be07adb691f5a860b5150a8be653b7619ea41033de1a6bde13478fc4e28b19a9889cf854b807d2d21ae95cd40d6c81041d4cf6319037c517ee7a9d2a04af872551442aec1e41122ba57580bcf50d00c3f2f50b72b8dc1f7af80a08189af2785b5f419c5020370b9e14034706139e5c8af310142d86df12970a7888dbb9e5af833e5fd7c4ccb300f7d9b3918cf51df5b4be7ee393fc1a7c27feb163ab0949637cf803049db6c07760952890429df2e67f0664ebb97bb08921bfaac3f082d7c4ed090948da6640349e54d220f2bedbaf99c73f184ffab6b86090e698865bdf5188f97b9042f89cabe9bc49592d96bba1c4af89d0d89d73a8a41f453b498526323fedb6e780eb7c06d8c12936af89f959b35108a6a3482fd59d884e071b64388ab887e4dc0e26764b4afddbcd93226491754e5f34966ed010585e4fd2e8a9d88565bb24a992f30c92c7491fbae3c137f524e0b9fc7020561952ca8ddb8ceca565a5137b7c2622d10508cb8664521aafaaea59904e1f81f9b991574a8b45db15fe015dd77f94f3ad36acdf1368946ebe9624fc978af52e9e6bdb089d25433d34af54c8185d98b3dbaeac09eed738dc0b2020d3f9ba3ee99b17aa03958165277d6138ff3c0b623eea38837583647af26d4931c43ab6e86c9317360cd696d7e170ebf47e8533888059e7878b12b86eedd7f749353c3e707a79f2a66ae2328db741b2da9b00630ec9bf9ca5b1e74b22a464e7e15ee070c985689e508d7e49f5203324e38aed1a7c68855d9a610684fe1101e661b4551f1e3475e574698fb1162a0c14ca5821087926b95667c3a160d0f2de2b7f9cb27a1af67de66fe030eb0857d1eb2dd824e5e133ea24e40612a7944cce43310d75b6cb35b1153f166f5ccef79971ed14fe72769c0dbc3cb0a7f9f2fed41a0acda4121dbc2fe022b0164ac825fabb7d276e0df17a2280070b9b3ed9bf16b1f05fb095309ca1d17ec212e15d44c765f65752943f4c4743fe1cc54e45c844cc571f74689c756d70374ac7ab610b0f9f5f1572a2d5d46f8f93dfbe3170851f95e82d1a2cc8b570c66c3dbbbc67b3d0b959320606c814c34f368c33216057116120842be18c61781d807af8301951aab6d3441c8e9ed719137226dfa5ba64275bafe8322b29a894d99c1eda20b8ad46999e51a59199d00d6fe9ec99e3bf5c69c61fbf93dcc8ee4f1b83f08dc8dbcef1dd89c72a2f57671e3877be2ccd8ef112533a2f8a2092083f0479b6b1c7baabffbfa269c7da2c42b2ccd5c7c5011c128c8265aa9b3002958484e9f25755ad8b84d0421d8a529c9d1df7887d91b9e1cf94bec040bdb812ac664faf2f7d529f9bcd3b42142aed562a8c0e872a49633247ae49324c7a561d126056bcda6ce92aa7d47b1b07b44495f3248a532d2ee78716a4660883d6a5dc8bd653652ea5d796716ea369333ef725df894139788e2db3508b82b27087f07665d550c00ff4b1c20f9745366f80731bfc8f2584a576051d6f2988bf4e9b0838499ae5fb430a84b990f37f3a5ef37f8ecc2ac8c2837ac9040104be8c06ae44ca8d71bdb49216d3204fc2860c0e5fee23e0074ba8abfbaba3f593cc3e15a8eef3e9c6919556e210e985e9af9ec185e244a93d51e5c37ada1b086ec6f5b456227320bcc8a9f4886e9bd5753bcca5060d3fe78fe18745f0a4da56a200343ba439e93beea985496b945eac02dd091464b9124bd9b34bf904377fb1c633421e38c91f90aa19c21252f74d835f7c9abc933d311928054fcb34016ee35858711c71af9409257b28ecafd46a30ed39e5ca2dfefb911480d6f570eb306ad042ea41050b13e6cc7869bb41f1caacbb1d6650a209e270c99e3d31aa682408492500da9534cdfa170c1ff72fd86cfa12d2f42e70a424cc11c6dd4018f0fda2d6cf0883d00d5bb860bebb9f449db92affdafcb345da7d22954c19c10b9bc9fddd6d256aa96893b46b1afa85561f8b76499210de087f0f29d1962c8de8c4cfa9681891df2846abb2409c60c22be059b0d69583ec70854b120b66e73ac68217e2c9e7b6c3601a1b81c41fb2b0c1aa8e61845702d0caf007810fcdaede57e62096dd315f3549b0e11c1b96bdf0a9fa3cdffa88bf98de2d8581fa53da1103ce9fb7af13f81cd21f42d4e7f946649f7c513fa179e85494dcf0c741f25c081bbc8069e8114e6614d519ceb1bc0125faee33bd0e5ea4169fd2137f267893ea978208c44bbd839ed735b3e78a1966311e8d665e3864c01dd80356ca954b8f27918f392cfb834e560081a2410fa002a7cb729b369990b4c3c8492b8f95550baf18a61776b0bf104f925fa9ed75f9a82dea236cad94aa36d81157a66d35408aa5102bcd2c35ab6ca48b7ca3fbd5e0433a9dd791e58b0839a8812ec0f20216d916293434401da3cc174e2de74550272d69e72d5bdd97a013365ab1b34213554ad6736815d49a5beac56489f8e00e7fddbe59541e27816c97a9a116ff199725234980832cd407f3d4488d7dd52e5f6bec062624f7ae3fa01c88bda8d6ecfaa61584035ee88084c5335f9efb09225aeb2556189349cfde43016e71e5dff25d80c5921e46c654ae10182afa49b1006e1e7eb9cf6252af52623d35a96bacbe4cffe609c2df121a51d092ce86c32cfe89c7ef744fd79765246305cc345813e0abfee27d149aaf7fad99bf87d227329e3cb73c46759b13aad5682874e83f1942e125f06238c59e64a9eaf66b99c4c712789d88e84f484c3b1e1907e6597300157e6b49d50afd38d8e86f86939a77263366549d29a7a801d6d63d026a8e974fbb949956a25e4da92f8bdc41ed0638d9684e004b659e80031695d1a43802a25c7f31a3a99caeec0c616bb38bf4d2774d45e623f651eeb2f73fcfd9a213f5d7411a981851f85bca3b92334ae29bbe3e6de47294c562db9e3457f229bfa4ff64c4d28b65ed675ea86aa5231ce05d8cbdac589c2721680868426277aa71d18c685760444f85dac19c5d4150a43b0d3793465debd3ab57ea5dfbab280b74fcad266c846a1cfce46ab9745dd72cc9886298cbf544b17ed457da083b9ba4dfcc0c9cd8e18eb53cf24202cdc37d4361b5b9f65e7c2ef248b0a363ea2780e522e7efb549014113ec76b102241cd85a198860ecfba31b10c9d8a668db4c9e688bda12aa82aa6db161af926ffc5b4e97e9348b5cc92f0b6562abeeac6f990d59fc0141d409b93ead46e58a063fa1e510832998a4a2f5fd4cb2beb5e519bbdc902313b571a36fc3937c8dcc6a575628bef521c3a2f6d3702b839975c8f775b3185030f2e338cb6eecaaabfe04f4b65ff6d2b564b958d20a9174a9fcf11db35ed3cd38626d11c5ee365f9b66dd0d31a46c8f5469a60119109a350212fafc660a9a01d131d2c1fee5feca5f4372a9abcb180b44517937c30309f70eb9d06b0951c308f07f77896e74edd93693475e0c1f796545c9e59d2ad7c3556c54f6b35dbf9310f44a7ca8fa620b9dc0047d80a25d3d5023f8b2ec4fda5dff1d6a4235f26e66dc73efa381360d1ecf79eaa286e18546963a760b12334c2d917c4ed0d27c2d9b2adc5879c444d482f26fd72c80b8d30c4b8efa13d038d2d41e6ac72ffcd8cc2d62012b4a53a9be180833b2a37dd720c86960903fb9c5eef2e146975977f51eed19cd9614f4ba098b234fe56332c886ef6a5a7bba585a163649501e27eb06b7fd47d861deeb49aa36275db9f41ad4eb885f4ed7e5874e505c875eaa9eb8a0b223a2917b3935c01330b580c828f6e5cb0999e54b047365d554eb06385b19e248892dd592db5f9d7db7d82496d4093e24b7b25c6372c65aeb3c24ea918a9fa34e48ae06b77e6495ed410e3cc7b975d6c0da17b1925f9e68826590cf2496adc983174b3811090ffe7dc5219c1f492e981cebe301e088bef31daeeb6bc9bc337b8bd4a35938249089d094b027fcb7f40cb6df41a34f6faacb6e2c6f3267d7bef5a38ab7877b44332e5ab5df93814f0cf390ecedb33fc64a46c189916643bbba901c37de314109301d61949bcf4d5837abc64993610346b6554d1eb0581bd15ef7227b4e8c135eecd199cbd0070a6909cc923dc01958704f299afd2a95ae007799c7ff417f5dd37f2112716ae161fb51c7345b8f21bd149c722e14e64347b6421dea50ddb419f96f97b2a7874ac6999a5e3639fc4b1083487b348368eecaba0794c97d1454863d24e9afe9bee35dc89c836e8d9b49f8169b5fe2bc6b3c75adcc31e1b26dcdad13659d98b2dd66d65eb1d99558f72b69e35b08dbb58eeb625d6838be163daf8081c7b81888f803ffd3b435c0c2626c6acfd8af0e9b3514e1ad458b8599b38f5fb57e01c57b012ebc40e58b785296430d88fba242e495f268e1ed4c3c748c60aaf6935a2d13dbba5898bcbe24bb511ac90f7bb2ab0817a0f60bb49cad4e80976b29d2b462962f96d53d37d4891b27dbb2af7116ef86efca5508da9316adfdf2e74de695364d7ad0f615df70fb4f483972c89d302a171a99a53c43a9092a219a303c44ea5a4d18be831438614bb1fbcd3c505b61d4b6842adb3269ee30775ebde7d42ed99eae47075f502a100684f2908a8ecd0d928d4ebd71e26716ba1bec41f8e2b297b2473dea1b662da1dbe9466cef424f243355f63ca205330eb4eb3e1de67d5d632e9e82554a4d13d82610de9e57ad2a8be41c64eb69b31641720428513c14e9a353e5075a974691f05afec22f4083511bb89ef05b82a071c8a65f44c233e12c89ff323ee5fde27046866729d4d541ecf72370acee6780be3beb59c2b3c2a7b52e13301ad82ce12f3e56c3a9d583f71edd3d31d4ec562134577b050ed7467387c59e72639f3c280fbc0e28fd2cdf46fa3373d78d8898fc23b1133e416d4ca50a292ef8750b1073ab465d913ba81c803e3f3239f72820f3e2fd001fd4f827a7922897e1ba05460c2c2cfe878d4d417e71afbec0203d49216f2d6062e31cbffafce03273d2c4da1cd2e7e4b83a08014e639bf1cf951939f2c388c15a5e8719a7e30130b37fcf5419e00eaf493d3f276d7a70fe4b3d3561edfd412de9f2dfb23bf569ad8f1a59e238f93ea2af1ba49d7a3aca07dd3eafbb7ec0e2e2b24dd63252581a033b751b4a6cfeec075989b40fac55950c223e7306672640cd410772213fd8ad5c1c859e4dc4025783a900e8902128b262e59106fd051b5e82955ade31b1aff940a4250b52fdf9dcb4bd51262167b897ad283cc27b9bb6ff2c1f4325aad24834fd4e4336fb83efabfb57731bb1e39276dc116a0ea3fb42586a0e20b9eb7547c0dedc7a66e59c7d30fe27a17b0e9e2c10d7d26df84b3da8eddbed59f4a2134de47acd08c8771c331f87517e307735173c546728afa5f23242a9455c8d26c3650848a62db03a64c96664d4b94ec49650e12e457b2c196774ceab289bfa0e67c15ee72f6b656b9f3889e1ff81e9f645c0210f657007b63f2cc2fd7660b83921041fab2b486b2605e91005c3767f5d879c404aa341fe18be5d87fc95964ad53ba6ea068bb6e257a3b1ef01eab2a3eef3e2d6e595ad7ed360cf8672605f3ea5e952434bbb636ab08e40fc1b0a80283398c4f29549e08e2098ab13559af3aa7511cf01fcd050a55da9eb8ea92431abbcb39078523402f8a79d78c20e3b40e8ed43db103f81e90d5f2cf969a8b7cd798f48362a45f40ffbe77f118c697136eefee48812670c3cc5eb3d9668273aeaacc183bfcad75af5423bd994be91b4e0a69fcb5ad80bdfcf41193dd97ac0033909b1efe02af4e02bc659f26cb7db7d7d29e41bc0395b95b634ca7aa62e0f0e0c0755d611725db216c5138e474120c2fd1c1d02ce99efdf15786d94c937fbaf8fc47611818ece28e26ae1922340b4dd546e04322969b54fe904c7116e0ba69d53cdc1ec2d7328894d5aa4eb278fa4d0cb24e2693902ad4f89429d7d12bc17e91de2498e9fb081f7b69f973299233967392beecbfaa7eefc4011cabb0deff1036e04d6ffe1a3d4d17000a29410af82e8edc94a97320bbd523532684fbb7012d2c8e539f18d400230026d3b23a255e3289be8174978d47dcee5f573e3df724299e1039e409f6a0b5cfff34ff96a4a12ad9f5ee1ff1e156f7cd355493e004801b8ca10f967c38d86344acc70445a288dbf834823948ac69c103fa8a2c44dc78a6091bc095bd6a2a515f78df9d2f581ce384a94ab44a08bffa940b396743ff2d1b1580df320e0491af55859bfcfb3d324ceb3fc9ac06dbb0eeccb5c5a89c0342d764468d1ff2a4e24ae372d494551203a377ba2779ee60987da6415375f55b8f325f8ca417695f823a082bbbc2543cf64697583b1333b38b9e14756070d9db0081203bd073a0b5d4bf7226960f19c94649a168c96601dfa00570b221f6b6bfb5e8d552c52d4e7e42cac95d9487ee52d34324b29cc1273ea59ed41790a783a0e754d89257caac2dc6b3b18b6df15e76536d0fc6ea722c3662dea711ca9a601dacd957cf491de77c3bdd768746c6f6ebd6ec96f9592bbd0a07fb5a37c75fbc9e32661ff52f27a933b532655b53f640d36817ed2b0692feb02e9fb8934fe2eb24f2ae4ba3ddb0351918578a3b92339f7ffcb9ddeab8d73afe2db64d2bee2b128d73d2593e472f45dca576049f7fbe1ef9ccb84caed2fd2d9b126938fd1f178ea1f253c03a7c4d9dc4013d29a5dce2261e9fe42998b5589e80b9d2aefb551fb98e7e50a158ec9a1c8a1ca5d8db1f70d7af04efe7e3c1bd0579fabd688e27260f6d2420313d4e210898394f6baec24a15fe1c4b1fc2062388f3ce54d529f7afa81e488f080f60ea95a346e642c5be394df1672ce9217039b75ecf02e66ec9705ba177aad0e57e9fb1f04d63ea0ae1453241b42cf775fcffb1f43fb52daf12f24d17dd261b0bbd1481a255ab5529da5ecc8d3b9e1e73897113a7ce10c24ba012c5f49d51b1a988e72cf6df386be775f65986a08d90000e440833f8d712202df218de9a8d1c5084e0b4c14679fbb5608f8b6f8f258264a5ebe9175f798ca1fea02222338cb07ec6a0f48bfeddc90cd63db186204675ffe1974c19388c64f04ee8c6e8d01ea45422085dc58170e088d31d08142c5aaf5e8b9bbfeddfaebbc1fbd131e08b8fab584693312434e1b8afc8689f2ae8596d729c0f89bcd01ef12e018442b6997537423a59bae60a9ccf7d7db88e2b8db36325627c37e928d203e1452cf03792ad8a794017e99b777c9b1a52bde464bafb24b32cae0c2a321661846e7a830760d7407abda0ece63ea8330e72bf0dfab04d915653ea520ca649d7c4bde94ca3977244962036059d248d3897ef8ba8f0e9a65e0dcf409642c0b972e81c06dba5e6a2887fbd146d93315cee2541e6c3f6065e266fc983ffb0c226d76a5222f8ea7bf776f9bc0e758d69717d70252398539659f27aef35b9a505b90499c951d8cb5945bdd5f6a98f136ea0f64b28984c7b0c80893c6652f66910487089444f4e7ed3530db1c432440fa6f1eb068759a35a0c3cdc7b11bb4d92dcc8f1f1aa434b99a8db1bbded79fd75e22b7c2a48f8faff191972988650b7c0f9ebeb5e397fde75cbe94aebcf66aae11073fc4abda9d51b1fca88f702b9005fd953a04a1d675670a43825762a1044cc08c2e5f8641c10dd26e25107445d3519dc52d69fa09906f8aa65d032c680e1ceb6a52404828d1bd32caae8fcd4f59c177ac8c455737acb3e5860a8782065fdf81b5506d5212ac00ee1d475bd15e4f672dedb421368bb926319f095560c20c958453d870e10a50987585c8087bae52fb03a118bb13c7d3588844eb6d7621383e94c4e5b24416679747ada7c768445db3337e71fddc5c81d91dcfa9982d481563b35e0262b12262736b30ba8bdd6afa3c8d99c759dbf9b2fcbadda6e63dd5ec7790c4a370314d3908a299677d855cfd5d9163b91cf5a5e41ab4a6338990ff7512ec78eb15c0db2bf694a6c19652e9560519128635f1bc7dee2c29f0300308535659e4454cda94a2fcf801821d1c64f4c37a7f65dac9c6436ce199489cea42eaa40b9463495b92e24e84627d4250bda4e40a23bb742c6cc2f656839c79c0f1cbd2d1e9490ed03cc2bb24a4a6e709485fab73c2763f36789e5da022ee78a6b8ed6e028c14ca23d6bf50d3abf7c6b428cc2eef38f7e321b87a7b9a3fc0cf18a078742c0575f84e515ce6feed5bc65c2d647a76bd1c6bf3f46e90daf3ea16ce4d074fd9d92afb00bf4f517d1a79090b3ddca7055f8f3330dd07233fd6699ea197f64290964236f6c495be9d826df8c9e4a84c616f25e87e3981d9dc76a12f5b15f2664ffe176e103303563e4dbeda503299d685b365ae483abf4fad53f5ddb4942d2b0e9d7cb5a5e297e387b7974e49a667fc720fedce1d583547503dd2b07b6b356586682ed84b60ead6af561bdadb3e99599938e4e4440aaa570dceb9dd9501df90c5d61d08b297d0a548ad9763792dc03c5a1dbee45c57a4b7252d4dedeb165327499cb2e6403c6a674a1a4803d38783f0adbe0f59b51c2bcaffcae9eb86374a0e2f94cacaeffa0b51393046a4d2ce0acc936ec2c0de99fa17a22ae53f33b60242eab4c787858743ad5501fe5507e878e9e4253b090b1fb73423ea870b42c3dddbce2d9a7b771f3e600110436120540188f981652886bdab6b9970737a45550ba3d5c9e25aeec0484c442985b826a6cdf26215bf70507e4dc5cb873d7abdb6001c2243c6fb2dd46a6b98b47156a05329dca27ffe6718978a8bcba7dcd8be4fb29564fc2007b95b114a5a602c262af118ac3b6927c89a1fce140f4a29e20fb646c13b83ddcc2d23d66509038264ccd025955bcd304096c93ecb30ffa8cc7e757dee8940663cc07d79c7a9f28fc0f8f71236bb9609af94cd616f9dadf16aba4136884e74f2cc1ce252b1455b0c1f98d61f52dae053f58c4d70bf6932d024135ca4190044d6170795c9e99690fe2844b12e0e2e71e5d9c88576eb4a6ecc14da8a3dd100cb0683f20e2a8","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"709dfdaa9af82d1bfbc2fb9eba8f0f6b"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
