<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"bc743b1b8a95a19b27839853cd6884b2719e61d9f941e457c67106fbebb79d62c087eaaa70fcf709309494bb63ced6929c50fa383becf8adab8c6a924817bc49ab4a539020391a975c1b34b301afb68e7fd7feb072d0ef3947279c1ccd08348ea2c78031feac44da447ec287e94c2f42ea0daf647f4113233ecc9313b05ea745e498bb3a0af7362d2d2043765d95ff3033761dbcd906afb7795c535ceeec2d8ccd477a9b54f8548cb57f48a2b2a262d20108475f22ac98312a6e917a84c12413587445baa1502d567d5795575b028a8d59b0a50cf8e16e830478f54dbf63e7a47c365082075f2d4989789b21d9658862bd726629da430bf0237c8ff267f5e1992a0c9ab8e1d1218a2e43d38e801eeb994ed2def3e8793388b4aa82e108baca73ceca61c39760e17eac0d7acb3e5b3ad6ab1577d51d37e1cb833023ba2b754fa16c06906b085069c0159030a09fe8f1033c4f84fa217d953eaee240b1a862c0d0f90a77fd2b4804b6a73f7e4755331f9568770ce763853bace186bdff84bb2083d48fbaafe263fe891f0d612975804680e4825331a7972c7da5b3ae5aa51d10cfa9f006a18b15ff6d39b6c52a2626380d347e479270b4c8e6d9ed9803df8ffa31f654dc008a1ae30d7cc9c1904d81d41ca60e31a1bbed683ebe3d92c4ba66fc430081d99692d5f7dcc3c348aefdcadbe52e1215e27b01c87c16369e954a3ee234119b39e380316a53420dc37641f7e57ffe0d8f31c99573b062f69e791f5e64a0543aa24c7c6b00a1cc7174834ab984b4a6d5cbdd7313c21f67f20cfdf145f5ec80c7135030c04a5f00a7866ee3486976a081e509d1cfb62a6fb21e53cea1867913bb85bd09ad8d7a3d51d1d99085e44f1783ce031263ce74b56683a969d0ba35f438178e29014c3959779ac0efad8e017f33899584c59976a38d4562b50658b58aa35377cd2edaec1ae1086cb8be48ad4aa7888e55eada933c4e1fac7b64f04e0f6069f6df3b6b44eb6ed5d14f39ea09d95426461581dad3ea8b25528c04d41af7dab2ed85dcfae75889ae8ebfc4bad0737cab547e9b1302e3edc73645b96a522a962406c5f521095733044eaf2374d65d5f46b89a8e3d351ce8a3e751a7238d25689bf0093013df4362c755713aa084c05e5f2099357a235b6b3a3174fe09cb97b4395801c9808866b813011c43e9922c6c360d62f04d513e66e33bb225f0d04533e2f5f1b3ab4ee5910bec267e67636366d7bb19f7ee443806122c4d8b71f6f6f356b8d6417013737990f8abe3b209e40d57efce359b16d67f35b1ff2f6f0812c81262e73be3782896c240dee7e923c676260801513240c0df3f713cceadadfadc6cddec678f7cae3aa8faccfcae3921db418e43bc9d7336097fdf7e33c88b4540dbf5e5ec55a5ded35f31bc1798a50fa8e166c70bb8fc0c6f74d4e588b12025dcb22cf9d3eb978373ce0c4da9299b1aa0a4d03b0083cd2fccf4b296e6a0cfcaa0000f4fc75a5e709cb2a917a6218cb056cc7a62ef09ad87c9d7918848f02c11e3230f5120e9411f952e9208eb28a8c794ec53e8b94f268859ff24b59cffb504b4265b8b303d154736873bcf81e57d0a4879b3252249e4d8d2f514112a166c47e9e5b7d6478ce9479763794e147886563bff7ba31cbc193c72c80f320bc9537514aaf31d08e715c9f5c186c84e07e6c556291dc4c149df9487c82e893f9839efc1132e5f766e0c908489cd1e04aa0e86f7251bfb358bb22962138536973f8e9deaf5cef0fdcf1b37e3a395365212841093a7360ead5e83f820ba5c13963884087e9ebe189e2aa52374d88cbcd69b2a7ec80fb46ee1e932432b8a4af7c27a6c989a59528b58cbfdc9e2f5a9ccd0489e1a032f6b423e93de7b2d4ed4cb65ec4c563a196c8ad28f1a36560647f1b0db64fb00f6c7d436d4a42d3d724c340240a0642a2cf6df3aca9ce3fdb53e28673512d47b168279fdbedeac07298127fedb582a5f046ce036dee5637c2b4b9128e51a8bb6e832310fb5c5385cdde961bc6dfe8bd611a870e215fd28c03d151376752deb20575a9da80e3018a077cbe4522a4c46c095af402d761e0965dcab576bf0fd6567803cbf0c17bcc99b72733559ef3921378b1c159b4dcfe68f29cbd537a7e5c297129a9f9e6083111f90765ec0556cd6037446fa73c4d5473fa3a60e49f9b8c78184ef29055b8b44e3c326c83dab3f509db2740f30103ee441dbbbb6783d1005a274a35017283929fc46a459c62d70d8b3a29347ef7bd8c2ca8fb11352b30d8c157f38a9f829f6e79245771a595bfcb14fe735b9ca87e34dc816686427f65ae83ab687390958028b13cc8156b217eb19252b6ea7354ef1d3c3944947b6b0901c0a60577b518fd8b1913a0eb02632d72f39a398cbf18e4a95f427a6adaad76a1225d739c8e11541ba4e120e5e9182f4697f8cb5d8fcf2df169794fbf6ed75e188d4b8e970a7f2b577040b4f877d5f0bf3a7464dc21e58b107f46902303fce1168439e4a79a9f1c46b9abdbf246012e9760182fb6b5f9d1c987e76789186062fc46d2ccef7d6f4586fc2f08330863875e2147ccb80eca9aea3b656923a1ea6a0ff670ce229188070d0704b3e9ed47b3f27ca3ece8b01de3da1cbe2334a969fb131122003b679de6132ecaeb31b0cbd80d98745066474853d6dbd35620612f77457433aa37e1fd560055c8b4bdff4c48a1fcc294dc8686b0ed9ca2e1747bfab416489b3ba2510e176228f0533952da625ac3f5c32a911e78c09c45de122758c53d5a4ca9a898c66fbedca34169cfd3fd2447064c8c04cef4273c6999f1947e2f682cfacd4b2660bfc7c4afbfa98ffbb9f13fa3c1d7becf0a44ddf9b46b8afd56a2270a8f68dbdc1d489f185283217b59973d953f57d3e170900f1c848c591df9d0c8de16df43fd77500b88e09cdaf6525b9e55d7c4c20a912cfdbf71b18cfaddce0fb186e5aa409eac6a353f68d09c7811b070f0557187e8770ceb449d5e87ada797184178af7cc287d904e9809b90380b321ef284f3d5b238c49b71b05a2c5695ad25859b0141ce42975d29edff1b515ea3850bc4985939b9e4c2491caa2c14560221b52f73d6c2b46ffec5c4ef6caea798144598907526a39cbf8559a135b790b38f7d1b27a19fef5b22bb8a4022cb4a6486aab0b8e5b9ecd5ae49b9b434f03d8819c30ec78e50ea0f69b24a25a57efbe517ccb736453707b46df45caa2c2a97383d1820fc3b0ab611750a5494af20e57fe5c3edb4c84d3b3362c0429372bc7268f5c165f3faefab690bc4229ff84105c60cd7a0f2446360cc98d58843ce2fa10659f178b074b63e1df9afbc9affec54c90ecfc8a4ff53f3bb73cb28a93fae6b7e985fd6435d5ff757e166e81c50335d17a620aff4b0ae0ca8d7b1968f016de69459b797abe0cbdf7794678e69ed56007d38f11f7baba3196ec4f282657c37ba5b19ca85d02400ba91c369ffa372d64e994d899f5383c946a96c374c89f788db97bad35acd991113822ec3634b459de06590e724e1debf6e84381e2a602011614fa072257a2e7363cf42bbadf7213beeab3cf90e4cf18b9469fdcdb90108cfa45db87d8d96e32703ab64787d3bfea57b2e79ffd43c0acd62356c3dddb96d82e333b9fb08c4b3a59f042c4086c37299ec8585859d5b2bb2b817b66238b74839c234a04219d5216459c46431f576608663334ca0c3cc69e6176042269458e48e6b7db0c9e9a8ad308b2cb848ae5e0f4d4ddba9d22f08571291bc9e6c728ce28280502716cbb8ba01175ff0e1e6fc95da8e84b6bf33d6b30fcb42ce5fa105f1575e71a43b9a79fac21a9a2b9fcb993027a5f394d54fd3661cc40625ccb47766d6ae329de65f2178b985df2479a1af76dd28e3ab643e00ecd9e96a29c334515ced5ac0601bffe8c6b70e79890975658f64622c59b62081a30144d3eb7711fd0775b617dc42a010ba1682f28bec50a7dc1094700a70587f003ae342b160d6d3f85d95f0a447ebc574ccf7f50d33ebafbb83bcadc9f517997b64ded807292368242030681a8bdbdb845a9573715708d9c035f594620c506a525994fced3fc80b1b56455c3a90979e6763859b5be0018612dbc7bae0d39c31af3c6f40269c98e4aaa59be093036bd07564ccd0cd0d927c80e4e60bb02cff02947f0df67dcc5acc2780fba1b9eb3974119aa6255d704b09ef81aa7ff063d625cb079df34f423d043f3a75561cc8d77f1e31d14f9943ef94ae0c4d254fb175650f51a52449ed0a9208548faa670430743ac981a72df5711b7d781b680473e01f577c2db09e7862a20a8491dda17c4ff26882f4b3e26158997f7f032df75a13ac1367656ec038b66160fabebc8e0be9500ca952410858c33811d39eae985fe251c34b38edd21332d7a27cefa7fdfb93444fc472e5ce93dcce859c43c4ffc5bbcd867992fa932da843d1e128a18e6f53e7935d650561f3d91f3a2a09d95ed6aa571ca3c0c657cc4863b3f26d9cdaa9be820f88eb9a83544065c60f38e7d121c1834b0abbfa6c9f2cd90bbe4eb208f9be89d78e23c98a05037626dfffb4523c74ccacf1ff970b0e6cfd9ead23be47cef2cbde2b5fb0c8498500b7a23e1b893dce63569d1ba03cc3ca495a2d998f1ccc00e7925d8ea2b3ffd35cb12bedb68e36f6e2c6ed4aa65bf11a0c89cce69712d892504010802e0c2d68a847bb408178d6e466975ec65d8cc7a5dda31e4ba2853bebaa283d5418f336fc18b8bc768a3cdc94580abe331696b5aa36e4e472ee946dae883d0cb871e3ad10a68f48b3de9785e428f097a37753b65c74bce73728bfb8da02c24ed73ce553ecd207f39a0832b955eb474d6cedac58e8b59e5cc591d30239205f7aebd59f8aa9934131efa97cde7274af3169d73b1443b0dceafde6c6e545cae50e43c9ddc99757202b9595445e68df3af5ed4801beb2c4b91065ef055fab2b671174ca9c9d05ecf03c5fdff79d801a490db9421b38e8c3a9616eba7d2c7ca9fff715be9c4ec6445075d697d1ebf2843d9e2796124d69f75b07349ca70ed80d847b2065f43e67bf83c19d8038535345215461b8ed1eafd2cccd1c5c51995ecc686b21b246604ec997674a4c93d29d9ce73771b5d98c986484404e90d40ee2c8e57fd0e72daf179a4b5442972e861e4dae5b21042ce58ac44521698059f7fdebde4d8db95027d9c6582bd3d06d7bb0c926a7fddcbff1b0c115312caa063d60de39fdc6badd37be01830dbe38c41d234b3d653d39ead14b0db559e4664bc455859afe53fcc8568fb457f277db82797204e9b0c2100d2535de0a51b2db2514cdefa054a8f6c4dace6f7bc694f0e8da6021cdebca503fe4e5e1de086941c52ad3c498867f98140fbd517e78642e8103be24b089599ff13509dc92f3bad4f9163f8cccd725d997f4b193e0f7fbfcce57a4eb506d0b74fbac3d5b55e682a4e0a58e83fab9c46e2371c3cf140dd853432649d9aac8b08f3291d83377262cd92d12f6d279e665ea06e6b5af1ca00a5c34d43b9655ea4ff1892616ac27deffa7424b52bb3bb1db4ad0a426d4b5e315f3c80e9926dfaee3ffb8c04faf35aa6adb3421123d4a59972f7e1b22a4450f6289dd154cfac38deefbf2aab71c6fb6528d7b63513688f29551f285d708c09d8eff8f95f55a60f1dc852bca4e572f930e4d85e7a5598bedba626b6395493ca8a849f9bc40db1be3b9ae89ea043ad2a3978b015e3c9eb5d353a619b98887542fe7429d644c9b7c5030a7ee37d7c75b4f4d2ab8a3aee3ccf7377c67a3072cc03ee2f9ae1ca6611a4961c5869a9db8ef737e52ce97afd4ea071262da935a85fcc6a26159331fd420c468bcbfecb22d7c806b0d0785fac5acf58201ff9ad8d4edb4b60bf8d1591a985e126ba1fe52927859a70ff565acc94d951652e210eea63084bf3fa79ee501d8e2884f01c6196c49be88561b45feaadb6a2352440cab2cc5d2fda90c4f637014e324350b503588c2869f2eed5eeeed5b46a6547ffa68213d71636e0bb789b0bf8b2f65293f9ecfb4948ad287b901133c1d0fd5e6122331c4c943a0239517855b7613a01c42ef695092e65a966ef6a80008dbd89b2a05ac884cfc7fbfd0281b24b3f4404a47f1c5d7530966c23fa7a6ea1eb9daeb63de5f7528bac84a8116a70702ff2849339a59c530f846c11fbc60e3351627dd4d581f1bd0cfe94c146817a08c0a7455ffe7168367ce0443d9cfdf3150f6ef70ed3350cfcf92f383597fa0631d6ae443ccd2a6b83c6aef8c09627b802eab52bc356dda45449cf1a037fc431ce614297b36f868737b0f4d4ab4fb06311c3123ff9e77055b23177f0b3282fc95aa7d87864802b1b2ded88ebb726dc85071b44daa38cd1dcfb9f9edf46c25936981609cbefc84a365a515c1aeaf8975ce613f6dbe7077248035cdb546e55de8691f168d4e43f28a6c8077783b2e0da7cae9dc05486e02ac3d149866f34c00f3a941176586f521aa3c847e12b3bf51689a696c7bcf87b6e136ba891d6b1e79a7caef48d55641f264ef779d0560a49d0ed38950d160e177d4ef0b359c1266ec37b03c25befef19995b50d4269239a371dc872b56765ebcd98fc8f9a5f86f64dc162144e64adbeae8b8699709e9b9768148ca025d10dd37d22b4700bc0ef5ee9dc25c39c7b69da93c33026604392d37514537f8872f01a1def6e62db3d641c7f166f254acf3a84e99ec5b419229234cad967e39b1006e2170592b390b8fc04b1b279d01f9e684c90fac9ffe0951bc4fb864e3498d3d0e1c79d0fdd65ce7862c1f1d73897f9786880df6c60af9e24ce28ea850f7c383b73e3629e11bb8d72f22aeec836110b220a0829dc41368ef0a50f6586bf64fd109b2ca16b969516d1a4592d17d766e23c39281d00730b4f5b6b172d061bf217bc7a26d0e72cf9774bcd012537520c349373435daa0e49de85b6b67459ce072d36751aa601421c697aa9817646023750a2ab80552546c84c4b33b7b94ce63648b2afa6fe61face61c0f83cb7c43c5312b3a32a5e21efc73ec177e6c7cb02222e57a97689d57304ff64279144f760d30b2e32cea2955e583ae794edf61706bc010d2240692a6641701377dac9a1d77f5fdfaa66ec662b939130651691b5085c8d6df22e5b232686d90382afb4d976632c96a99cb0724247a15be0802d4e49944a749e84ad2b3c6bf8cdd0429be091fa6fd93337382defc5b47a2b29afc7af24ca1b7268981f99699bb084ceb15fb8abbdd1fcd5ae95e136d69e82a1fb8796a93c2c9666ff7263ccb3b2fc1cdbdb774b474cdb40661b685ec3343c199affe96ca198a806966dc6be6028cc97c24bbc4854d132b25e7e106930c535d495a176feed7f5f9713366e78b8255c16f41082d5e6b2b8b0a69e3cf4f095bfc73d405a8e0b4995de50b90052621ee7e9b33f7d0cf69a9cdc6631bfc102b6c1f6e6ce5aa0a36453fc3cfd4769312331b4cf96743fb00abbafccacccd2a4955ec7c1cfd295e095949fa2b457928c297951743a81b008396530876b38daf3ab885f9e9800e17e440696bae21e0f3badd28bc77268b8f3386ac9b49b078eea15700c3a9efd1058350686f62a2fc1103a67a47f7640c4f43032f538f909782ce189c7e7b6a58ba1364493266fd94bbc8cee9c2831e460e36cde870369ff5bd94246c43385e6790c1f1aee48fa1a468b1255e372156dc7378ca269543f27b6c7ce0374f6ecbbe2a7edb26ee197e7f82929b58d4f07faeeb3ad6611a86479bbbf000d25f38fb3f22947d8b1ac2eb56eaac3c41241a995785add6e4beb719887e5ab8b1fef592774faf3128243c0cc707514e119e185f2f4141012b921aef8a5c76a76bef5cb2d5b3b5002770b674184dce6fd769244b88d2174a69524d563d2aaa0e9c6513f58198681e2bf894bb51c3fed1e38be6daa4ef8a4349d572a9e9e6eb722132b4c6ecf3d29ac3dea1c83611373b489866a2521c26073efeda1c66dacfd241f60e469ce87401c1fa89fc0f74fea7c22fdbe78d34fe61e91d063591ed4ab1807bf4458921552275982419c9ba3905ccc14f6ec7a98c34650ef86e5a59ff930981eaa815b0b0a07ec8f4df213d3e8f46c05fb7544b62fdf7a54fdb97e6f911842ba7f3cb7f9f5b600b1eb7ae49c7f7ae2dfdc9c3dfdf1ab5a9452ac72a9ea79559d663c78ab3b86f6f06f0e1de641eaae54fe04a282e8bde2224e68659970129f703a21823e047dd469bf683d20614fb6f1b1d772024b8220298b2be36c8b26bd1842cd1a94891e9f2549bfe587e623c12706176cd1b24adc87346e0980e7fab70c90b2b77a6c3872cc3db8dc8bd4535e556302fb3a59a2b482226f88dbbdad569a9db9b6b0ecb0519e8cdbba3f0659ef0080a612c8bcda78675e0ac1d291bbac1392a54d19945ee6cce5d0468d1f055e9afb26bca0131b1c618e5135e4046a542f3f169c448c1e93ce3035539feeff4917b41edfc7858261b6b55214b50c7a23c1e52cc99e167934b532d3a323f6f16f3936a9d8959663fdcec35ebe3bde3aec2c4872235cbd7468dc8b879b22f0e8cb7011ab5445528a79b5e0205a20f97f50072b00ae634325ebdb6a5f14e5687a101f5b3db0cbaf9b4c74e018677891fe75172312162dfc83e05304625f726e4218dbc6c6852f222a401cf981d1468e6f676df997e4b8f4f5dd68e84d4ae64a329a3a1055f98be85a8209f39efeb88b955ed220813f71087f5b82c5af35ed4869249aa33505a8ed563477745bc75aa64dff0dd5e642b54eda92834c6179ed7928da770729278d720136382371f1afc54a4a01a3be223fd8510fdb4b6c40a7831187b80d90d49cfb6b62b9775416457eb91e447efddb64ef205077424e9f02cd053dbbc24c2192ba5f08ddfec20c96a3994d66ac28906aaf4626783734811e1779ece9a4c1d4271daf6d0f008d2891045a43b06b94e1a11bdfb01355fb27050935863df83c496e49586640cf8f6b486a0239c3af7f2f766744a48df974094957c0db8a4198df1fc5be3a2fbad207d0be6e8f1e83b54210c6f199bde619b30f233d1a47765d19d6671d6408f56130fe3437eb286fe1b4a7e8b8b5145288710ce11935cdc9c6a420292f31c7cbf63ec8cc1f45ad823375059a59dac7e9ea29698eccce9ad6f66652d11bba2c32ec4293e0e41d6caf4378b50fd510e7b56f9e28fed6f13a5343000fe07edd3f1a7de6adf0343e5bc1b9127e5621159127a57689651c128e5e79220028ea8c7286fa6b27a56823ca1499a86d5bf9673562ff3855d3980f32a17a4a9f2ce7cd34205113c661f4a7e408f307e19584440ab06861462d27fb40bf420afab5012b1a0c7fcfb5e7cf7de996a97032509078966effb9c84ac731881a48c41029cf8e4a56f12fb490c88a511a4376c2e332b0364c89192daa876cb14347a22ca57428aedd8ecb27355a1bdd036cf72f7414b7c7b5a3cebdb5edd1aaf08614705ba97ffa817c32442889046d8621d951fb44c8644883aca82e5d1843e195589a26e405d0fcedea41585d32e80b884f67ee286146142babc33f70cf306bd2e20925a5ad2acbd3b652d63fd776f377a444f2af0bf72adbd7d2c52f848cc626867a1e21af1b152503bee70f4411e0749089c2860d8f42b505cbb4f10cdec8918e75e93e67d254ba6ba9070694f48423a57fbcce3c468d19b7dcd6d275b005739c7ada0e09f1815c99ddc114c5bb43b7281edf14ea4844c36d673e8a95a12090e7dde91df667c37f6a45d178551c7cb6ab52ed20250e54741b18fdc4e382647440baa51e01791540e4c00a71a0fd6bf264c1842924dd475038dbc355e36203cce3294c2672da5620fa258f360953d919cf3b8dad0e2a23b7db311da80aa5aa8f1d86a859e6ab0ac1a4a32a5324d39f5138efadea7e67df2c4e28c3f721c15e729bd7ab6745e2ed967df77eda6031c3c837090a2fcbe25e8872cae9838e9daaacb57993b106c7de7935f26133b896ca4a74a099fefe66ea6ad5ac1a3e16ab49f77f192cebda17ffbf5092f0ecbbedbc0c461684f09421506e5a46a165b45a4c4bdb4fb1dc99bd4f284a448e73a86f5842a2162408a742ea61130cc788669dfb6ddad47442dfb96621476be0e25d0049142e0f7bafa2b032c024c22303c24fbaecd829b26379fe54ca871aeae6e781b16160d1efab76b757a14e23c28394bfca28dd2bf3dc153a7cd24950bb639c25b65c0d987e4b059b64a9fb659dc98a2156250de9c8b9ea0cb0b4dc24c13bb0576a726a5074b3f4c226b9128a90c85f559f3d50688451c9fdc9d73154a78219a3cea4fdac868d839381ebf0d3148027feb4c67af97c604ddf8e6c40d116c92b4c84a1093cc215678ea5dc54831124de96245b2d06ec097e6bd576519145325434a065cf3611c9c618562712f76cbddfaf6fb00c3d9507fdb3d6678fdac58733319831867b7a450130765460920f3960d8aac530ef82e53600b96a01087dc4d2427f82f5e3410fe847a836bb0ac286f9bb6544d70ba9858f94efb2d8ace5114392a3e568e1e46ce8f56f75cbd363abb49652b241654c060a0bb109ccd744937f519482382e250d44ff0d454a9e9d725c81105649aa293eef3b7a9f7e6d73198f82b713f6a90014bfd850e1785b16be0078f174b3a4bebbaf222e2a9d9b52fc4af4d4653551c46d9c4bcadeff0201ba4ffc3161878bb959e2e031769c90b14f317f9fc4999b1d26ab74932a5539d3420b7169706124b705d2ecf55645d162441101362ec4a079bf367b598b03a3d51056dc88d85373c9776891c50f6d72b12cc5ee2138728b808de7bac7104963821ee09ab938bd6fd43eae17153b75fbdbbebffb85e3e43c15520bc500827dcd69a728a8ce77083eb418103e1c7c07dc9b6e66ca639ed4337f4a88a0f8a20218d643df618ab15621a3c48a0097b40b6fc16ed01b4752840624664b32967d9c2c2fa18d69d5e427f0ff5fc254aa8b6dedb88dce025a5e793bedcd162f06cb01cc77cd438ab1d3ebf3bff7ec415803e6b494daeef1bdc17ef74a99cd91dc793a5e200712ef6d7999513144467a113ff0d386fb3424b7f6fac0c39afeecdec8db65c138cf9ee19db4082a6faf1d3ab4f21e02c579e448ab4bc807a0211999679a7d9060c21c5d73f1dc995c459c20009b458c9370bd035bda844ec80dcabb82627078a3d416432a7ecbf760f407712d74ad4556f4910ee96332b7d7b5bc82513192dd1315738200ac9ddf042f9aa0cd50a596292e842320b362b60b6d7c2bf1aeaaffa6b4f7de8f45c6a45afffc169dc04db65c11132edda334935bd0c65d399444ba9d830066cc5d82526d63926da5eeffe4bfbcfa3aa64353a9007e1b7d751e052b60f4c68623ff66e6269be9d5ed8946c88bd0a06446f6f9eeec613299f6fa52be1649099d6a54137f4ad1a9c7bcd72ae959309de3cd09872af05a24301a9a76bfe9c69d61c7d1553a6e77da6d50d4e94cd5edf4ccd91ad92d0e26c4d066d15578ab8ba92696e308f04d19705e11759241a5efb1ef9294524915bba66b21917f6dc2151f1ce8370b6109b7f0fe20c00342f5cde02d1f482cf0cd0a33bc6f2ee347a3f19a62c8d6675776626965a0cb47a4e1e9e89197cafd7c847473355d6c2d62d67942806104c22572e57a61008810ccbb856b31142136872bfc8a1c7271156b95709b80e3a157a255aac1360ef4112f1271439c14c05eaddfcbd6ef5397f213c8b04f549d7565b3fdae3e268d69719c8fab42a6cd0e9249ed72003e192cecead0b0e95fac1e9a8594242bc66965ee8d70f8f3764417379e22ccc03bb77f79a3bfc0f6c9a3d6ed50ec1eccfa49942dcc302078b6992d70369c0a7b57270c1be6621564d68104cbcdf98888762c584e10debd45dfb3c0236f6a5546dfa3d33267c4d531c32335a6e3e222265ad6f69e0a29a163c75a1021c24015182b3ff97472cc3f7a9d094b1b5c103fe2c78fc46801df73160ca197a8214fb75ac0411b554191a7d3a0b6feb4a1dc57fb69a0a8c60a8e3a920516ae399ed77494521a41cf40aff5cfa9bce0c36fca833f5e7d23a457a4c8545d7b8d6c27e8e7d2ba9c389bfcd8212743b64e2bcfacc24970de43a8e133f27d374e2a11a492ec3d3127024ba69b1021ee7af74ce39a1710c42975c55621eb5cc689dcd3f3653a088384ce0820cd7d6131b2c80fac9d2ed1688635fed16487f8686ca9ca81e3e512489e716988351240cf27b398325d2b6dc0bf969a2bed0489eb00038e51e793838d96ab0ec909a6e2d40eb7f3eb588c61c08e74a1dd882fa65510cc6a213db12281fa26688c5860a58042e1a1ef363dbca2e6a99f7d6f840fbf0b32a11194d45027bba727e1643ab0e5ff485fe74db276a2aae03430407928ffdd3a5854e9193437cc57752cf67f76a69f19c1cb3e051ce17b152b0cc3aaf106d4a4f728f28b494c9b2774cb17759a5f5a86e0bf60208303b607e134b205f53bb838078291bc37b0ec641d083524096d12de5e7d570081904f3fdc54c51bbc971d49109d99bd8dd972d76c400a66870085c8597ded2dc391cc1efd24af7249618091af863843061b4fd52cff2f316b7166fb596ebcd40c25bedd104afc6da3c82f1c0b33ae81e97a00c0ede4c6d00bdad8c8e66ce0c81177eeb2fa10e1e2c8ca6630cecea2634d9965e675d24a7558de2b2047ec67deaa409d6ae64247dc12a606e375ce30b02f2815050f3a70155d72eb492cfa60fb5d9b1a977d25441f7c9a2b3c67d4e36f970338eaf92204a63c2b6eae0748541c9059678611de36f9d7f1c7052b5e07e4f5197d8d40b0072ac5dccf38ca109e3110e7b607b379d6d90625b5ebce2fe182eba80278e302a6aa1af044d36a8a1b85fe00f54c8ddea37088bb5a32c6ea6776db7fa849f299790d39e84b5d7956e06492067d1ac84ac6635716e4bd0919f5fc5dc5ebb8537a46c79d77bb1f0ed268db785aa9e5c954c66270bfc4a8c45ff2b6fe82f6d25334ecd2f8824bd03e91374cd447ae24a7b76a916af08a6d08ad6d98b851208120371a16f806cbd12e1ea2624dcb96df0ec056f24469bddcb319297bdcb1190cd17d5dacc86c947e685ce25033c9e0b1162451d2ba9a5cd8b488570b9b5552192ee7b4ce09f0093b6dc34eb045a09688cca97b72a1859659983c10a0d64590294c9eb085512a81f27574c58948468686a64a542a72f4125a52da4302f091dafb4d4c2f826a6d6e69b4865cbf6b59b776450962f03c09b527eef3325fecca55d7f413ddde0541ec16e3c40000dcb04ee624a97ea500c9bea9eaae889a4653c43fe58f3677f84cbb9583f56875830e1e82161069e501deec31957cc9e0664d87cbc040c05a8b7433d9898241428c391d33a4f0d8872e87fb55492f14bbd949ba1cf7245b520685bf39dc07aca73848429f6f2f2d3fa3ab48c9c2f435a60bfd61c84f5e225fa0dad2357decdaaddf8d9d594fdf0c7cb739aa39bd8b451f1b849687d117040bb4f4b16fa4f5d29d23358c373663c20775cf33736422ee1a884daa61fe2a84d304a5ba63a961e988331304688efc96d3cbbf17af04c45bf7352607d3bc78e17a9c18fe954bf1dcae23acd11344a145486bac917a1b3b89a483c78f0b58f456dfece10acba3db2ace837e41ac55f0611ba57dd77dce6725904d37a936f4ddfdb67e6afb0f963485e4a98ef75f1a12e41ff5314a386089a32ba9ded6e6062e5e03020408e9994f679042d1bcf45060c1df67f9a4414eb2e6a74e5ffdb4103980b6b2e723a5b14a67f84e06041b24dd212c5fe5cdd65dd77e329f828bc25ab211ac1b85462f56d23a7402f12becf74eda6fbe874d1d984a2dc5ac1a655e21a9d45c5278bc2f11cbfe3e7108f35fcfd3131ab5b0f224f2af21f4ffa47997c1f72c1bccb5f58c5fc7a481c99c4c82f4801c48e1ef6dd00c25beb2e7db94a8178a6479e518382be3834a1b34f77267a9ebf7f00ded665f1893ee50c7e76ecd578c92b9c859900e29ac7fa7ceb04fe0bbec8a563b7b2d90d59e07ecf360e174647e950672db9944c5a7bf583ac4832f2d5da7f64494067041d3ce708c1438e9914bf6a645e70c929634bf4dcb55d57017a436812a1c8770f13459fd599a2497df80b680fa148f29413ae5b116cd483093a8eea5eeacfdae5761db42371b9e41f07d4e20a1e5a191cc5bb62f4d94ba415543b0e2919d3fefe7c3d916b18b120ae9af7cbcb6d6fc4442dc3f7a06a5efe87053d0a4d2c4b0f97bb782b932b44c560c61701867abf2d00d56ebafa832603dff36bab9187667b18862a3578a7fcb02435195c44fa184f9234a1d043192b44afcc31a5c58f9626deb3ebe440d88556a40fc557e187bf0b662b2e9b175d59471e9a0e5b0999649bed327b7cb992fb34ab7d8016fb315c488c9519e1b5429864548fa74303a7d8d5810b921adba9db8c1970aac316f1cffda6438816ae1d56ba668242e641efea816d823aa4156a26a83bbcad3da6c46b0cd9b39d81db8c46d3ef08208a314b221f459ff9dca3c7b085054571bf25cc433c5b60fca3f8ac7d7df9a822fca5dcde5ff102412d262717d4de7037959cf04a149addd94273b17cea643cf57688fe8d5375080cb4787637f20d55879c69d6a20ac73df24ed29e399b9e55f12696efc622528647241bd4f4b2ed1b5b080a956fe46dbb6e7ebcec39ad10507e3beb0654a66bc9bc0540c6b0182dfea7eee5828a9a16d93dd9abb3c628511a4906a0f34e61a283f6824af7d116fbb094bbe18d271ed0cfc8696b07c43e488817ea463640b27e1028b959ede423d679f0e3598cf7d80650dc15188c469e0a044ccc75d63e224eeada6e10953d7002721b0ccd94cfec57557b2db939290b5d37187541e78e08d8ab5851310537f86d6cf252afd67e269e4a8026c5dafd722c54b5dc7fad26cb91cc6ce476db5177903d21744cd9dfd2f18895b06358e6151af675bde9231e449de60d7ee4977b5ba596966785ef5db4a485df9456f4ccb3db84c97bafc333258e54564e3c21f7f492cb9d39e0af34e4e37bcecf94b7a7257e64325a49d4703cee1021367e58fc08504962decf73ed3e1dfacb7adaa223274b57f21754c412a0e77173c29be4101c9c58fbaaa6b49a2dbe9499eaa7f927f1cae6f10fb272d0d462bd21c44f151341ae4fade6c96bf473cbec374c93494369e980efa974317d1a81fa07c1fa6683a3f70e0955d2472fa097f148eecad20522df9c11569f6862c6cf0036bf29ea33025d17df7f9e6c51f3581ac6bda2c09c519ad343ff62cb59f01931c9285d1666fbb597a845c9f9280326772046dd99ef2a7c0fc4129875c8bed9efc8cfc3371f4c123cc14a15a7f8ad9cbc15279c470972ddcf0b2232fbf8adbf03bb7ebd4f7a54452530385e3a6edd30d0aa09f797796d29fdcf873877098f5b170b1c9d1ae7b0843906e6e6d6c698f7c1dbb3694b91baccb2f746c7f8dbfcbc50146a0ff90389c0f9b93e37ceda44091dfb5c96197e0ef9c5ac59542ca1565a1c857c4fbc3af8150f40577f103ace944718e38ec79016a80f1d00671c20e7cd410eb780bd5491a9bf7e08a4f43d84c1b3ea8ed6659d40572cf157595a322722bb71b779166eef061285c75e4f0626cf2419cfed2bf636e45d66487876161bff93edf1f226ade4e425b9721b7a92fbaf06e1e3e65de303b0182ce2ded69109f29a49d52363704d10af6904b5560bb391af3ec66d5e20792fb84d5b73962a4a14713fc6abdb40e591f750cd54705437c90be50320d3d4522843388224176812a77f202539bda3245fb6a962eb7d78a93c963e4cef1c0e7c63f5c57395a3d53278413d9b38eba1535d13d2af6358fe9317f60bc8e6bd6ea4d3335baeaff78e81ae50160f39da49d9945ea6ac14badcaff3b711812144994b25509bceaabcd995d1ec1b8d82db76598d3789b6894f2cb8c8bee9a6532176a787208abe51b00c1832f722464ee96548722b430ed8f5a86cb42dc48667324173046fd072102ac11e598607636a49592348f69dc72fe631d87a15fb3e021beab9777873ca1fda15d9f374dfd76e281f5a29fa042b91616d86748440f4feb22615b5fbf3339dea5653bf848241e30a5c242e94e51b9734c2f6fc9755682870eed874388469f33e3026f88f7cd06303ef0aed34cb0104d251fc91724a062a676a2b87bfc8c1f61afbe186e9a3f164bba63d9122400b92a3c2311b1b104687ba1f3db308a8970067042b745ee343be971a4c85eb9c0212ad7e4098e08e50359e28eec34c71b283532b4e42ff845c992c3fd8e0f72bdd9179adb8c875e248ef74c4f561b7a4c0982ccca5e6de00b3462c41a6d6a8ef9df361e855035ab152fb58913c66c3c3a19537b9a86d143345b1e4c9a482d927c645f29b547dbe374c0033f99d61aa92a7ee39962fe8ff1987622b71c30b029b644ba6440f43872b91851eeb370fb2a285eeea577978cab92aedf1d43a0e3c0f7c691868372430246eeb87a4fa9e3c59bd1d58d3b4199c9a478eb5f50b0add1c7dc4e2e0999c027e7ce784bc9a9acf13514aa2e395fcfb044b4f5c3b512b53bd22748063bb14ebe9565991180be77b220177f874334f2d8fff79754d549e4750f18a3462219008003730bee64437a0019c456e3bd4e533841e259cfc2b13c399ba57228a0fc1ba37b0d9ed0238ee1d437e538580877b8c5d99e3feb0cbbfa6a4a47a61fef3ad60ba9984dc6142b71a429e0a9f44083c83c0db6ad67402c9abd50e44ca31fd8e0f8fd6f8cef89f21cd6265ddd49aab08962648823fffc64b97f2de8f316ccfef6327d6467237276c7e06ddf6ae1090b4525bbbb283769a73f56e286a183274a4d4b95906fdc6e7ad3c9c9e3d2b6ad050801c56fe16347205dffb3e28e819e1d97f284cbfc98cb6fdc774a09bf04bc087cc3f3686ab956b7ce0e6a0937997a85c86b84f936fe888b95562227fdc52f93b02df159154d836d5bf19722288599f8a980681d9ab774ee41d7b1aa614056173ab95aa5cfd7617adca27726cf446b68a2a49e507539d595c3fc84d7c7dee0df6055b53f4cfe95aa7751c47d588faf45bcd0e5d9cd090d42d8feeb584546195eaee16f9889189ad55deaddb5f61a6479e2756e589dc8f393c6175721700d4f1d36bb7355b6b2f43003227de3e939c50885eeea03bd9ff5e6cdd97c19fbc59a4250b4ca65dc733f829c9332f1eec927845250266d05ec2a891363fb4eeb8d5f4d4a7c454921a9c7033f7f5dd63e286fda16f12fe0eabf67e3f75636f771e2f7d51be72ce24e877b14ecea4bf44e0e8fefe5564b8ad744d3131deac9a367e45eb193a01cf522f5cf2101b7cbd44bd7f3c093bf3925e0d0f7bf234e57a1e377d7e0407be0c6c7f2674937c0c4c8095091def68883f6764f56d1c87d4a72a03f4b60d1beebfda513f20ae87b4d3d92205071412eee40808079a967182aca17ee0175c42ef97bb30d81759c665d42ba8765cfd1fff82af4d98e1adf015958e8a7feeb7737980c41970be96c23265152a7019248fd0055eac2b3b7db66c66c28aeac1ae2fa95f584d1eaaf787468bd3e25320f5914d4899c00f67d468faab82430e175b64c9e94ddc14d8feed0dfcccdb51f576e8966718417db8be5470ba64e38abd9a267a75146db264d9e7087f9506863638147732ca3edd82d43b7f0c40cc2d4e804f9882388d4075819c3a9cc749442e5feeb38931cfd48f5542591168a0f3fc0b1944acdef1ce8a981196e9b1419acf20d80f3672ac8457c3086a10715991394a916305fe8f14f04225a8e3dc746f8e4d9179140193234f8d122ddf2e3a5149c01d058976b446835900d0888281cffa4e2e7da296f3ca7920dd8d18791c3849811473f54976f9267943be0acdccc8a5547d799d03f401edaccc55ce201217d3981f748bb293dd1f05bb09a185d7dd004ff6f39fcf2775692fa87441203282d4cf3e8e5e6ee440a51e5000a5a18fb8aa52d0e654dbb49ffb2b42193fb8e438e19e54bbf62cacdfe56a09b47cd50e710442ced229b21d685c14763d297ea9c81515bfb563245633056521ef2eed2621cb75777c9951f0aebd5a6c2ecd30b1e3e4d5379afae61c389466eb1fb09bba79fa513a6550189646b46afbda5a9815119335b70821eeabb4f1eba9bb16660bbee6c086c85049f39fac9a14212dfcc45174dd139e671648d9770182362bd2288bff8ea800e9d9844a8c24f7c51ab7a287adfce31ffc0d8f1d7be78c8cd0be8816814580a3c1a112bc4e1ff82348c38c65d7a76cb6c965a3ba85c07e858f557211935f4bae1f1a5c26fa5378782e84490886a4adc205240dadbb3ee0f4e794b5c1313713ef1e942d45bb8e2ce8777f87f77965ce5049f1facc9e568a1a13a6bd99bbd936a6734443619c8e6737bdafc3125cd0615b96ff4de8f3c7964c0990252dcbc1f01ecca56b467d127c786521c4e6a0a39618dc87252eb45c02bc107ba1fa6edbf685c34bf3b293a63b7f49646d425111fabdb1073ebc126b23e08603511cf54fffb1d9642e72b59011d2625f6d50cd49fa467f6885e77d1c0b3b025b653e3c78fa78cf20bd26955df4e7535d19edc7241ad0fa2a2a9e3715bdd29cbe7a1c6829976d8733e9845b1b006f934b164ed32703b70552f339c936d0633e4842778deff33cc45a23dfb1de9083f0be8e26f8b9c732325bcb38147862c2599afcf570900d9390617ec44db5c1e60b1ed4aa5e4eda892e8f822c17d2cfcc5366b667588d57915f77db0f6f5842777b9400c70d47951a7e3cdd912744ff7e4269ec62e2f62890cf78b77e86bad77e7ac0e2c80c219e27cd93f1b38f504972fadf5c8e6c1b7023cea68b161521c0b14c11f156bb2e76867d33b4a7c13c7bc19ef444101bd12b0ad814182163f4038b25ee54ac74b353d73429d72f85636c182d5e3899ae85b16ec5dfc8ba4f77a8fa69fd28cc163914f2ea0b3dea9f6b49b894c7d9ba5efbad647dd09c512c802c4b9a15a2aae1a85b1f3c35d10f5d6edf7dd585fc053e24bb4a67c254d29206a50274b3b93e27dc95e1414dde7e1281d905f75032b2bec59651f675f92f070f4a0178a6c57527f02e5935ca7054b9e7531f18554ca4cd93c9a7949971f3c7e31caeacc7ba1bc8e8bac1ce052e00697a222d2a4a53ac4dd25691982b7d47037029faa3a88029c4356ec832a5f97a730930aed250ebfb134cb500a4aede741dc3fe1a3ede8207f5ed752eee28f0d9f4fcd1ea787ffe800368b7e2ced66fd6706747ee7ae3b7064977bbd1a7e3c6df08acb4702c594baedcad53763ed787627bbb2de238d28a611896cd497a36a1eee8c57876d5b1bdb3224fc9c35c267ab73be9532d39fcec6f658944f5908ac9c5d7b6dd854b5df2d6f392c8ced0ead5058624b8cf0d7adb483801f29ead75764d229bbe53f1ea5ce3ba8c4fafe1abdddc1b9ece43cf5c8ec959bbaab489e49379003095046e93c62c5626af574933ea1c1069265c9ba45831cd3b6869bb3711044ed08b6a63bdb06144c32c338bfb8a0d60c11a81307a3a8e7e977a4476e9b68ef2a84162323253fae0d760af20886055cf55bc64a89731dec317daaf5302bfa0b0e21e3c2807fb6d7f142c3885a69483241adbbc90c327cff3b2cf854a411781354f771b89e023b19f2a90ed45da7478f4d4af91add88c260782ef5d1ea9510c489d87568a5b589b9d6f4bb2098da9f13b1914f7c189e5f83554c6eb977351c362e0c9e7fa87d5406bbaacba4cbee949ec45dcb49ea51e5577d9bdd79f0f70919d8e1aed17d511946f5a8c32c74de9f959d1d39a36588c6222d3652d5a5d930eed2d2020433442b3c5c101e0be8fae0ca971d635950f80c87b607aee5c1df85ddb45587d99014a63302dd048103e7ef45d12b229984dda1403b8265622aa6d7515a8858dc208652870d5dd537b1400dd009d5df2e92f0fcf522f3a60efa0b97182d144bafe297f7f09219c7c2f89e77b4479fee896b2a082ae91f35b3164398362861c4873d754d63e9a662da7b5747d8a54a811ffea23b3634957297632003b4b513e266977422223e8582529a956517b138d933f6a453f17e795ccc4ed33a1d1ad85c31c914346e9efdd12a3586de68fcc9d2bb8ef9cead7ac506673a13b6bfc9fe281dd9eaacc32e8fd7cdfb25c37081a28a17fc515bf575fc8762d4d79d09ad80544ca3c78a06e3852f4ed168b65628471bf736886e1fae9728669638c7489752e11bba93daeb0623d8d93c538c0f127bc30b1ede57be59ee8b1ae95e94f5d84a315a70dad104a78fb91079c8c496269022d79505fb89ad241a95c1279948c5cc210f6ba2392ee95b6db64322692879bc9bc6d8d18a6decd6fba674d6954983f34c383432e0bd7ba960920d5b5fc62ebb318ef115229a5d59b3b52c41f9f5978d8869e30f2f07725ba7388384326258b525b067ebc9548146d3c51cdd538c5f2cac350999b621f18784d69e54ae9974a4fa6be8700a542a0145a005377519235aadca4c6361aa40c98d87aa2a4244108a10b5f1176293394852dec75b1348cb1f4e0e7f38f1a779533964e1b63bd030f32767038a4393db09482d168967cc70b8757127ce3720329fd856805a7e097e5b09f96073049aefc6de4f33d15db54fadc075216c340acb6f8d37c37dcf5af58d1330d60fa582337e591cf93beb4b7204acd02915c0acdb4ba4b8162422934f62b746d647a18394edd7a2d7b4e6da01c1394607c374fdb335ec47b7806ddbe4b6a34d9378c2f143edd737c2db734da451f3c47c3af67618699a9fa127251b9ba530318f9ffc51dad58ebb8c59fb6183ee2d041ab0c02b58d836689eca7c6ff4622de06cd302e57c42e5454b2b6cbc2aafadefe84e5197853f7e500b1a88c8f9dec23115b3c1180bdd9fbeef43f45876e7d6e3a65034a8481d60fd28addfa905ecabf3a60e49501426218438aad0761534e4442d42ba9bd39638dd0de9fc4a57673cfac3785b2e2413646a63108ff29b0fd1a442ad0e4d6a32cf7bb10a499d7e81dcb2822d8b6dc836febb288e732f852a28abbe281259fc176466f4bf7becbcb51bb2a2b147b01be454532a6c5c5ad5cb5878fcccafa4f18f361abf57d6724925a978e2bb03ae21b93f7c29bb85b004e69ef18ef1b5f9e3cfe220407bc07b38ec9a22cd12f71f15ec13f3621f6a71932fa843965dd418a436ff7cc01573c4301bbdde0654433855d683885a11e001b331f9c81f9d7ac67d15cead29071d35eacc0f56c361ae0b1859398733f972c0c213deb8d6e53ad86893c4942d984c46245a71a9434dcadc88561b3cf2aab171b737dc34f96d4f0a56fc06305f6c660ee1b457a212c2b3670d0316bba29e521bb1f81c0c3d4d994eb32ef6a5d37f67deb20157209bb4f37d071a3ac625a8c8e95c7d91d95d63215474469645f6bb6cc7ddc1def108a1006086e12d32482cd16144e1a7e9d8e4737c1768b0a20ef4804bc05432a0be61ea10e1e97da8179defaca9f58e78a51a5445dd58f5cec84b3a13a2843e2f90710e4e12c8b13faf80054bd93f2b869538d8516a9d5c2537c85ddc1c225b01c3dadabbab31cc1e9acb7f6b81b5393ac10aa8b46800ef8cd209c08f5a0471dc728049029a22279025385a165bdeb74fbde0822e6bceb131a8d6aed5c680e345964cb219cfb730aea878850056fd87741c6d4fc517861df44c1d036cbf07bbb9d1f78e841eacc4ce0f4a1f52160f66a2085f02748ebe5220600c42b2b8a27c55ce08e937aa0128c21b99b9a273d9e9796e444022c389f60ce4c325ea0a70f5d96d06a4e32c7773a7a3992710897d02011ee9b382275929f49a9e261939a4e85d72cf42cffa46cc4b03ec4719038fcca78fb483e27d09e5deb96e7639b5855b3aedab512f0f3728e7ed085b01de8099214a2e5debc011618976dcd298cd567558002da8fea7fd13183c15026a83c8253b2da8914396a0dc8487dc6a3b7ff496d52acf3a0cf2307a2c37bb7e99d999b51a2a58a9816ada3fe39395627281c1b7c23d48560080d1eaa93d5fd3c6d65345d95f2dca21f33ca9db81e3c8be60d5732624a803b26a54d50e5ae71c0786a12bd785445dd0f67e339d8e5e09cbd2c028f1333eaa1e171bee6f62400946ad65d6add988985e184d84212a7bef130b6996c0de2fb0b368de9054b77c0461e16031b9b357724954a8d793636c903984c618eec0cb06bfa8faf8c1c2279cc7d7174696cc5410f078b47a75633ea188d81948031a33d5c87f8cd63ed4a4841ef97ba7caca773fa6c9dc412d56751d70805d1954c09262f2677557c7b7c046b4f4045ac8ce81eefdd7232662742541b56aec2ad9a11600ab50f81706d10b6c57d58db50b043faad0a461cceeb6c37c1c1a3f75345eaaa5a1f27b7d21f5a10adcfe28b584ac26db0b6973d2573f41e17129905cf784d0b3eff90abf0617c1ec8fb905401ed305bbfe00cbc90d2350fe771ce7d0e02dc93881697ae6f72b1ddb95e108096af2ca4ab9cbb2bb4f21c2ed64747112d060908d251d566e004d2eb13203f4dc0fadcef2a728fcdd9a8433f3141350c2fbc8ee3991a8514fc56a9bb8e19810c60e44cf20e0d410d30498968c9c0495295fae9a9ab6f3fd42d45e83d2f76c94e07a154bd853cb1c5cfadfcf24a0bce6689d714714305f6734bc2e89cf1d51c4cf64f90864cd9cc073321257b5fab85ed75166ca0a751143068a4ba3fc08e31ae96249de9f91c5277974f7cb05a0c56e23a48deff4a099a19f24ada1ecbced8b2a3dcba734221fe4e80809c016af916a6c8da034339ce0344308f12cc8e4b298ffe78eb44650f82f3639e848d4dfdd9ab741253ce7287e1345eade9018719f707c782d2447e00b10b8ac3c337ffa7a9d47a0f8f55f92519c13529984cce6807b26a3d9f9c0314d61eabfb014454f08e77e55142f281ec85adfd70201e5129ae593969449bc710194f095ac6daee48bf83770fb163e904ca6f6554c327b0c6c8fd0911c2b4074b106fdacccd395d09388b951ccb46f351e5fcc8771581cee35b670a7fff29c7af1800605ccfe0f40803e5f7a9656ced34ae9f3cad99440872303efd9ba7209c5faa96722c037c9de6deb65ac1885639d6fc7dc2bc71c1149ce22d1cd7b840cb2c7b897c0ffc34c6ab97bee111d32475bd857281e17c1441f823471e0f4867bc6523908d8fb0f071a6df1fc2f65d2e80a2e99dc5bdb13963b48406306898759068ba02ed0fc607a82a45f6bcfc6321b7f7b48adca79950524ac0f0cf8d05e5c0c6959f15a50f0d1021207716ce2c2883153caf5a1495fce55edbbd146cd77d0bb3d07e018134a83e70af0c334ca62b7a03f1f7187cac2bb0fa8887962a323348355f2a94dd0bbf6e18a99b0ce895744934448fff8c271454c68badcab1608bec6db5a8e16d49e67c85cdd4d2f56a6234d62fd7dba6572e08358696d3a82a81dcdb03d2f480f788e24d6f748e03bdda6a660b277c1e4b94727830c54416660bc8bd361d7d3859b50d201e77a05032d2ef2261361861194a53bd6335879295acd529d46bd27ad324fb4e43c48f66932f38d69abb68897ab0ed2402a405175442516a8685057bd7afbe7c8d7f8a477e5a5379f19f37f1bd9d018b561491a696ac2de4a1dc0003a4ce971babd634031650d13a8f6f909f338aa8cb1be825fb84efd16da404def33699326778106dc5f079174d3ab66303f8525c32378f6f1af9898fde06537cf955ba03a476f0f9dba8204e123428bd96503b2822b4f85452d5527d10428e817faf85b2c92c01b9762a43d2f637a69ac7c3014c84e0a15310e3b3c2a4f763b88acac5a710d874bcdb3efadd03d06580d5c11d5858906b36373b0ba9a5e06cbd921d6f1c756c52de0d5fd0b1ce18d8a89ee399f5715024cb0a7d88325350d019273d0e3742dd6f1f0325fc22da31b84d0ffbb62fcec8e8306667f08c687dea64ac898b79fb7f10ba3c40e5c4601c4a1b5fa653928870d2b0a5761583bde0d2d3a677c7414361f63286ceaff297656be8c23ea84cce375453c172831207fe401801df95ba01181609f6686c7561c93e8934653a76a7c2d3d3c9e9d9635a14d3867db0300d30855cc8694b5e8803992fdb5eaf5387efaab9231d4ddd682dfac15f7b9419ed2cb0c62d85c6a2e98bf6a593b3ca5f9edcbb99d9f9aa325aaaed1ae46ecb2332833737d86dd2de281394377c863a8f35afbda9f92dfebab7508505dc08a5348c93a50ac9c11f0aa8b201a80f0810fe1e968736ac5e88a33d4fbed3e6db32f1b609dd8032fefec88745dca702aff64a7356","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"709dfdaa9af82d1bfbc2fb9eba8f0f6b"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
